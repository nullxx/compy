<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:04:56 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Tk_AllocBitmapFromObj</title>

</head>
<body>

<h1 align="center">Tk_AllocBitmapFromObj</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Tk_AllocBitmapFromObj,
Tk_GetBitmap, Tk_GetBitmapFromObj, Tk_DefineBitmap,
Tk_NameOfBitmap, Tk_SizeOfBitmap, Tk_FreeBitmapFromObj,
Tk_FreeBitmap &minus; maintain database of single-plane
pixmaps</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tk.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">Pixmap <b><br>
Tk_AllocBitmapFromObj(</b><i>interp, tkwin,
objPtr</i><b>)</b></p>

<p style="margin-left:11%; margin-top: 1em">Pixmap <b><br>
Tk_GetBitmap(</b><i>interp, tkwin, info</i><b>)</b></p>

<p style="margin-left:11%; margin-top: 1em">Pixmap <b><br>
Tk_GetBitmapFromObj(</b><i>tkwin, objPtr</i><b>)</b></p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tk_DefineBitmap(</b><i>interp, name, source, width,
height</i><b>)</b></p>

<p style="margin-left:11%; margin-top: 1em">const char *
<b><br>
Tk_NameOfBitmap(</b><i>display, bitmap</i><b>)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_SizeOfBitmap(</b><i>display,
bitmap, widthPtr, heightPtr</i><b>)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_FreeBitmapFromObj(</b><i>tkwin,
objPtr</i><b>)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_FreeBitmap(</b><i>display,
bitmap</i><b>)</b></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p style="margin-top: 1em">Tcl_Interp <i>*interp</i>
(in)</p> </td>
<td width="21%"></td>
<td width="31%">


<p style="margin-top: 1em">Interpreter to use for error
reporting; if NULL then no error message is left after
errors.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>Tk_Window <i>tkwin</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Token for window in which the bitmap will be used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>Tcl_Obj <i>*objPtr</i> (in/out)</p></td>
<td width="21%"></td>
<td width="31%">


<p>String value describes desired bitmap; internal rep will
be modified to cache pointer to corresponding Pixmap.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>const char <i>*info</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Same as <i>objPtr</i> except description of bitmap is
passed as a string and resulting Pixmap is not cached.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>const char <i>*name</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Name for new bitmap to be defined.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>const char <i>*source</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Data for bitmap, in standard bitmap format. Must be
stored in static memory whose value will never change.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>int <i>width</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Width of bitmap.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>int <i>height</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Height of bitmap.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>int <i>*widthPtr</i> (out)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Pointer to word to fill in with <i>bitmap</i>&rsquo;s
width.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>int <i>*heightPtr</i> (out)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Pointer to word to fill in with <i>bitmap</i>&rsquo;s
height.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>Display <i>*display</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Display for which <i>bitmap</i> was allocated.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p>Pixmap <i>bitmap</i> (in)</p></td>
<td width="21%"></td>
<td width="31%">


<p>Identifier for a bitmap allocated by
<b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.</p></td></tr>
</table>


<p style="margin-left:69%;">_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These
procedures manage a collection of bitmaps (one-plane
pixmaps) being used by an application. The procedures allow
bitmaps to be re-used efficiently, thereby avoiding server
overhead, and also allow bitmaps to be named with character
strings.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_AllocBitmapFromObj</b>
returns a Pixmap identifier for a bitmap that matches the
description in <i>objPtr</i> and is suitable for use in
<i>tkwin</i>. It re-uses an existing bitmap, if possible,
and creates a new one otherwise. <i>ObjPtr</i>&rsquo;s value
must have one of the following forms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>@</b><i>fileName</i></p></td>
<td width="17%"></td>
<td width="58%">


<p style="margin-top: 1em"><i>FileName</i> must be the name
of a file containing a bitmap description in the standard
X11 or X10 format.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>name</i></p></td>
<td width="17%"></td>
<td width="58%">


<p><i>Name</i> must be the name of a bitmap defined
previously with a call to <b>Tk_DefineBitmap</b>. The
following names are pre-defined by Tk:</p></td></tr>
</table>

<p style="margin-left:42%;"><b>error</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%"></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">The international
&ldquo;don&rsquo;t&rdquo; symbol: a circle with a diagonal
line across it.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>gray75</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>75% gray: a checkerboard pattern where three out of four
bits are on.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>gray50</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>50% gray: a checkerboard pattern where every other bit
is on.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>gray25</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>25% gray: a checkerboard pattern where one out of every
four bits is on.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>gray12</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>12.5% gray: a pattern where one-eighth of the bits are
on, consisting of every fourth pixel in every other row.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>hourglass</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>An hourglass symbol.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>info</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>A large letter &ldquo;i&rdquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>questhead</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>The silhouette of a human head, with a question mark in
it.</p> </td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>question</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>A large question-mark.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="13%">


<p><b>warning</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>A large exclamation point.</p></td></tr>
</table>

<p style="margin-left:42%; margin-top: 1em">In addition,
the following pre-defined names are available only on the
<b>Macintosh</b> platform:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p style="margin-top: 1em"><b>document</b></p></td>
<td width="2%"></td>
<td width="40%">


<p style="margin-top: 1em">A generic document.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>stationery</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>Document stationery.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>edition</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>The <i>edition</i> symbol.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>application</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>Generic application icon.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>accessory</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A desk accessory.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>folder</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>Generic folder icon.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>pfolder</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A locked folder.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>trash</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A trash can.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>floppy</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A floppy disk.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>ramdisk</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A floppy disk with chip.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>cdrom</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A cd disk icon.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>preferences</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A folder with prefs symbol.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>querydoc</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A database document icon.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>stop</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A stop sign.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>note</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A face with balloon words.</p></td></tr>
<tr valign="top" align="left">
<td width="42%"></td>
<td width="16%">


<p><b>caution</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>A triangle with an exclamation point.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Under normal
conditions, <b>Tk_AllocBitmapFromObj</b> returns an
identifier for the requested bitmap. If an error occurs in
creating the bitmap, such as when <i>objPtr</i> refers to a
non-existent file, then <b>None</b> is returned and an error
message is left in <i>interp</i>&rsquo;s result if
<i>interp</i> is not NULL. <b>Tk_AllocBitmapFromObj</b>
caches information about the return value in <i>objPtr</i>,
which speeds up future calls to procedures such as
<b>Tk_AllocBitmapFromObj</b> and
<b>Tk_GetBitmapFromObj</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_GetBitmap</b>
is identical to <b>Tk_AllocBitmapFromObj</b> except that the
description of the bitmap is specified with a string instead
of an object. This prevents <b>Tk_GetBitmap</b> from caching
the return value, so <b>Tk_GetBitmap</b> is less efficient
than <b>Tk_AllocBitmapFromObj</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_GetBitmapFromObj</b>
returns the token for an existing bitmap, given the window
and description used to create the bitmap.
<b>Tk_GetBitmapFromObj</b> does not actually create the
bitmap; the bitmap must already have been created with a
previous call to <b>Tk_AllocBitmapFromObj</b> or
<b>Tk_GetBitmap</b>. The return value is cached in
<i>objPtr</i>, which speeds up future calls to
<b>Tk_GetBitmapFromObj</b> with the same <i>objPtr</i> and
<i>tkwin</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_DefineBitmap</b>
associates a name with in-memory bitmap data so that the
name can be used in later calls to
<b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>. The
<i>nameId</i> argument gives a name for the bitmap; it must
not previously have been used in a call to
<b>Tk_DefineBitmap</b>. The arguments <i>source</i>,
<i>width</i>, and <i>height</i> describe the bitmap.
<b>Tk_DefineBitmap</b> normally returns <b>TCL_OK</b>; if an
error occurs (e.g. a bitmap named <i>nameId</i> has already
been defined) then <b>TCL_ERROR</b> is returned and an error
message is left in <i>interp-&gt;result</i>. Note:
<b>Tk_DefineBitmap</b> expects the memory pointed to by
<i>source</i> to be static: <b>Tk_DefineBitmap</b> does not
make a private copy of this memory, but uses the bytes
pointed to by <i>source</i> later in calls to
<b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Typically
<b>Tk_DefineBitmap</b> is used by <b>#include</b>-ing a
bitmap file directly into a C program and then referencing
the variables defined by the file. For example, suppose
there exists a file <b>stip.bitmap</b>, which was created by
the <b>bitmap</b> program and contains a stipple pattern.
The following code uses <b>Tk_DefineBitmap</b> to define a
new bitmap named <b>foo</b>:</p>

<p style="margin-left:22%;">Pixmap bitmap; <br>
#include &quot;stip.bitmap&quot; <br>
Tk_DefineBitmap(interp, &quot;foo&quot;, stip_bits, <br>
stip_width, stip_height); <br>
... <br>
bitmap = Tk_GetBitmap(interp, tkwin, &quot;foo&quot;);</p>

<p style="margin-left:11%;">This code causes the bitmap
file to be read at compile-time and incorporates the bitmap
information into the program&rsquo;s executable image. The
same bitmap file could be read at run-time using
<b>Tk_GetBitmap</b>:</p>

<p style="margin-left:22%;">Pixmap bitmap; <br>
bitmap = Tk_GetBitmap(interp, tkwin,
&quot;@stip.bitmap&quot;);</p>

<p style="margin-left:11%;">The second form is a bit more
flexible (the file could be modified after the program has
been compiled, or a different string could be provided to
read a different file), but it is a little slower and
requires the bitmap file to exist separately from the
program.</p>

<p style="margin-left:11%; margin-top: 1em">Tk maintains a
database of all the bitmaps that are currently in use.
Whenever possible, it will return an existing bitmap rather
than creating a new one. When a bitmap is no longer used, Tk
will release it automatically. This approach can
substantially reduce server overhead, so
<b>Tk_AllocBitmapFromObj</b> and <b>Tk_GetBitmap</b> should
generally be used in preference to Xlib procedures like
<b>XReadBitmapFile</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The bitmaps
returned by <b>Tk_AllocBitmapFromObj</b> and
<b>Tk_GetBitmap</b> are shared, so callers should never
modify them. If a bitmap must be modified dynamically, then
it should be created by calling Xlib procedures such as
<b>XReadBitmapFile</b> or <b>XCreatePixmap</b> directly.</p>

<p style="margin-left:11%; margin-top: 1em">The procedure
<b>Tk_NameOfBitmap</b> is roughly the inverse of
<b>Tk_GetBitmap</b>. Given an X Pixmap argument, it returns
the textual description that was passed to
<b>Tk_GetBitmap</b> when the bitmap was created.
<i>Bitmap</i> must have been the return value from a
previous call to <b>Tk_AllocBitmapFromObj</b> or
<b>Tk_GetBitmap</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tk_SizeOfBitmap</b>
returns the dimensions of its <i>bitmap</i> argument in the
words pointed to by the <i>widthPtr</i> and <i>heightPtr</i>
arguments. As with <b>Tk_NameOfBitmap</b>, <i>bitmap</i>
must have been created by <b>Tk_AllocBitmapFromObj</b> or
<b>Tk_GetBitmap</b>.</p>

<p style="margin-left:11%; margin-top: 1em">When a bitmap
is no longer needed, <b>Tk_FreeBitmapFromObj</b> or
<b>Tk_FreeBitmap</b> should be called to release it. For
<b>Tk_FreeBitmapFromObj</b> the bitmap to release is
specified with the same information used to create it; for
<b>Tk_FreeBitmap</b> the bitmap to release is specified with
its Pixmap token. There should be exactly one call to
<b>Tk_FreeBitmapFromObj</b> or <b>Tk_FreeBitmap</b> for each
call to <b>Tk_AllocBitmapFromObj</b> or
<b>Tk_GetBitmap</b>.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In determining
whether an existing bitmap can be used to satisfy a new
request, <b>Tk_AllocBitmapFromObj</b> and
<b>Tk_GetBitmap</b> consider only the immediate value of the
string description. For example, when a file name is passed
to <b>Tk_GetBitmap</b>, <b>Tk_GetBitmap</b> will assume it
is safe to re-use an existing bitmap created from the same
file name: it will not check to see whether the file itself
has changed, or whether the current directory has changed,
thereby causing the name to refer to a different file.</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">bitmap,
pixmap</p>
<hr>
</body>
</html>
