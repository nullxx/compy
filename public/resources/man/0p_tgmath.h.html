<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:56:55 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>&lt;tgmath.h&gt;</title>

</head>
<body>

<h1 align="center">&lt;tgmath.h&gt;</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">tgmath.h
&minus; type-generic macros</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tgmath.h&gt;</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>&lt;tgmath.h&gt;</i> header shall include the headers
<i>&lt;math.h&gt;</i> and <i>&lt;complex.h&gt;</i> and shall
define several type-generic macros.</p>

<p style="margin-left:11%; margin-top: 1em">Of the
functions contained within the <i>&lt;math.h&gt;</i> and
<i>&lt;complex.h&gt;</i> headers without an <i>f</i> (
<b>float</b>) or <i>l</i> ( <b>long double</b>) suffix,
several have one or more parameters whose corresponding real
type is <b>double</b>. For each such function, except
<i>modf</i>(), there shall be a corresponding type-generic
macro. The parameters whose corresponding real type is
<b>double</b> in the function synopsis are generic
parameters. Use of the macro invokes a function whose
corresponding real type and type domain are determined by
the arguments for the generic parameters.</p>

<p style="margin-left:11%; margin-top: 1em">Use of the
macro invokes a function whose generic parameters have the
corresponding real type determined as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>First, if any argument for generic parameters has type
<b>long double</b>, the type determined is <b>long
double</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Otherwise, if any argument for generic parameters has
type <b>double</b> or is of integer type, the type
determined is <b>double</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Otherwise, the type determined is <b>float</b>.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For each
unsuffixed function in the <i>&lt;math.h&gt;</i> header for
which there is a function in the <i>&lt;complex.h&gt;</i>
header with the same name except for a <i>c</i> prefix, the
corresponding type-generic macro (for both functions) has
the same name as the function in the <i>&lt;math.h&gt;</i>
header. The corresponding type-generic macro for
<i>fabs</i>() and <i>cabs</i>() is <i>fabs</i>().</p>

<p style="margin-left:11%; margin-top: 1em">If at least one
argument for a generic parameter is complex, then use of the
macro invokes a complex function; otherwise, use of the
macro invokes a real function.</p>

<p style="margin-left:11%; margin-top: 1em">For each
unsuffixed function in the <i>&lt;math.h&gt;</i> header
without a <i>c</i>-prefixed counterpart in the
<i>&lt;complex.h&gt;</i> header, the corresponding
type-generic macro has the same name as the function. These
type-generic macros are:</p>

<p style="margin-left:11%; margin-top: 1em">&nbsp; &nbsp;
&nbsp; &nbsp;</p>

<p style="margin-left:11%; margin-top: 1em">If all
arguments for generic parameters are real, then use of the
macro invokes a real function; otherwise, use of the macro
results in undefined behavior.</p>

<p style="margin-left:11%; margin-top: 1em">For each
unsuffixed function in the <i>&lt;complex.h&gt;</i> header
that is not a <i>c</i>-prefixed counterpart to a function in
the <i>&lt;math.h&gt;</i> header, the corresponding
type-generic macro has the same name as the function. These
type-generic macros are:</p>

<p style="margin-left:22%; margin-top: 1em"><i>carg</i>()
<i><br>
cimag</i>() <i><br>
conj</i>() <i><br>
cproj</i>() <i><br>
creal</i>()</p>

<p style="margin-left:11%; margin-top: 1em">Use of the
macro with any real or complex argument invokes a complex
function.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">With the
declarations:</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;tgmath.h&gt; <br>
int n; <br>
float f; <br>
double d; <br>
long double ld; <br>
float complex fc; <br>
double complex dc; <br>
long double complex ldc;</b></p>

<p style="margin-left:11%; margin-top: 1em">functions
invoked by use of type-generic macros are shown in the
following table:</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Type-generic
macros allow calling a function whose type is determined by
the argument type, as is the case for C operators such as
<b>&rsquo;+&rsquo;</b> and <b>&rsquo;*&rsquo;</b> . For
example, with a type-generic <i>cos</i>() macro, the
expression <i>cos</i>(( <b>float</b>) <i>x</i>) will have
type <b>float</b>. This feature enables writing more
portably efficient code and alleviates need for awkward
casting and suffixing in the process of porting or adjusting
precision. Generic math functions are a widely appreciated
feature of Fortran.</p>

<p style="margin-left:11%; margin-top: 1em">The only
arguments that affect the type resolution are the arguments
corresponding to the parameters that have type <b>double</b>
in the synopsis. Hence the type of a type-generic call to
<i>nexttoward</i>(), whose second parameter is <b>long
double</b> in the synopsis, is determined solely by the type
of the first argument.</p>

<p style="margin-left:11%; margin-top: 1em">The term
&quot;type-generic&quot; was chosen over the proposed
alternatives of intrinsic and overloading. The term is more
specific than intrinsic, which already is widely used with a
more general meaning, and reflects a closer match to
Fortran&rsquo;s generic functions than to C++
overloading.</p>

<p style="margin-left:11%; margin-top: 1em">The macros are
placed in their own header in order not to silently break
old programs that include the <i>&lt;math.h&gt;</i> header;
for example, with:</p>

<p style="margin-left:22%; margin-top: 1em"><b>printf
(&quot;%e&quot;, sin(x))</b></p>

<p style="margin-left:11%; margin-top: 1em"><i>modf</i>(
<b>double</b>, <b>double *</b>) is excluded because no way
was seen to make it safe without complicating the type
resolution.</p>

<p style="margin-left:11%; margin-top: 1em">The
implementation might, as an extension, endow appropriate
ones of the macros that IEEE&nbsp;Std&nbsp;1003.1-2001
specifies only for real arguments with the ability to invoke
the complex functions.</p>


<p style="margin-left:11%; margin-top: 1em">IEEE&nbsp;Std&nbsp;1003.1-2001
does not prescribe any particular implementation mechanism
for generic macros. It could be implemented simply with
built-in macros. The generic macro for <i>sqrt</i>(), for
example, could be implemented with:</p>

<p style="margin-left:22%; margin-top: 1em"><b>#undef sqrt
<br>
#define sqrt(x) __BUILTIN_GENERIC_sqrt(x)</b></p>

<p style="margin-left:11%; margin-top: 1em">Generic macros
are designed for a useful level of consistency with C++
overloaded math functions.</p>

<p style="margin-left:11%; margin-top: 1em">The great
majority of existing C programs are expected to be
unaffected when the <i>&lt;tgmath.h&gt;</i> header is
included instead of the <i>&lt;math.h&gt;</i> or
<i>&lt;complex.h&gt;</i> headers. Generic macros are similar
to the ISO/IEC&nbsp;9899:1999 standard library masking
macros, though the semantic types of return values
differ.</p>

<p style="margin-left:11%; margin-top: 1em">The ability to
overload on integer as well as floating types would have
been useful for some functions; for example,
<i>copysign</i>(). Overloading with different numbers of
arguments would have allowed reusing names; for example,
<i>remainder</i>() for <i>remquo</i>(). However, these
facilities would have complicated the specification; and
their natural consistent use, such as for a floating
<i>abs</i>() or a two-argument <i>atan</i>(), would have
introduced further inconsistencies with the
ISO/IEC&nbsp;9899:1999 standard for insufficient
benefit.</p>

<p style="margin-left:11%; margin-top: 1em">The ISO&nbsp;C
standard in no way limits the implementation&rsquo;s options
for efficiency, including inlining library functions.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>&lt;math.h&gt;</i>,
<i>&lt;complex.h&gt;</i>, the System Interfaces volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, <i>cabs</i>(),
<i>fabs</i>(), <i>modf</i>()</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
