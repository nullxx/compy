<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:16:35 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CLOSELOG</title>

</head>
<body>

<h1 align="center">CLOSELOG</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">closelog,
openlog, setlogmask, syslog &minus; control system log</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;syslog.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
closelog(void); <br>
void openlog(const char *</b><i>ident</i><b>, int</b>
<i>logopt</i><b>, int</b> <i>facility</i><b>); <br>
int setlogmask(int</b> <i>maskpri</i><b>); <br>
void syslog(int</b> <i>priority</i><b>, const char
*</b><i>message</i><b>, ... /*</b> <i>arguments</i>
<b>*/);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>syslog</i>() function shall send a message to an
implementation-defined logging facility, which may log it in
an implementation-defined system log, write it to the system
console, forward it to a list of users, or forward it to the
logging facility on another host over the network. The
logged message shall include a message header and a message
body. The message header contains at least a timestamp and a
tag string.</p>

<p style="margin-left:11%; margin-top: 1em">The message
body is generated from the <i>message</i> and following
arguments in the same manner as if these were arguments to
<i>printf</i>(), except that the additional conversion
specification <b>%m</b> shall be recognized; it shall
convert no arguments, shall cause the output of the error
message string associated with the value of <i>errno</i> on
entry to <i>syslog</i>(), and may be mixed with argument
specifications of the <b>&quot;%</b><i>n</i><b>$&quot;</b>
form. If a complete conversion specification with the
<b>m</b> conversion specifier character is not just
<b>%m</b>, the behavior is undefined. A trailing
&lt;newline&gt; may be added if needed.</p>

<p style="margin-left:11%; margin-top: 1em">Values of the
<i>priority</i> argument are formed by OR&rsquo;ing together
a severity-level value and an optional facility value. If no
facility value is specified, the current default facility
value is used.</p>

<p style="margin-left:11%; margin-top: 1em">Possible values
of severity level include: <br>
LOG_EMERG</p>

<p style="margin-left:22%;">A panic condition.</p>

<p style="margin-left:11%;">LOG_ALERT</p>

<p style="margin-left:22%;">A condition that should be
corrected immediately, such as a corrupted system
database.</p>

<p style="margin-left:11%;">LOG_CRIT</p>

<p style="margin-left:22%;">Critical conditions, such as
hard device errors.</p>

<p style="margin-left:11%;">LOG_ERR</p>

<p style="margin-left:22%;">Errors.</p>

<p style="margin-left:11%;">LOG_WARNING</p>

<p style="margin-left:22%; margin-top: 1em">Warning
messages.</p>

<p style="margin-left:11%;">LOG_NOTICE</p>

<p style="margin-left:22%;">Conditions that are not error
conditions, but that may require special handling.</p>

<p style="margin-left:11%;">LOG_INFO</p>

<p style="margin-left:22%;">Informational messages.</p>

<p style="margin-left:11%;">LOG_DEBUG</p>

<p style="margin-left:22%;">Messages that contain
information normally of use only when debugging a
program.</p>

<p style="margin-left:11%; margin-top: 1em">The facility
indicates the application or system component generating the
message. Possible facility values include: <br>
LOG_USER</p>

<p style="margin-left:22%;">Messages generated by arbitrary
processes. This is the default facility identifier if none
is specified.</p>

<p style="margin-left:11%;">LOG_LOCAL0</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL1</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL2</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL3</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL4</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL5</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL6</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%;">LOG_LOCAL7</p>

<p style="margin-left:22%;">Reserved for local use.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>openlog</i>() function shall set process attributes that
affect subsequent calls to <i>syslog</i>(). The <i>ident</i>
argument is a string that is prepended to every message. The
<i>logopt</i> argument indicates logging options. Values for
<i>logopt</i> are constructed by a bitwise-inclusive OR of
zero or more of the following: <br>
LOG_PID</p>

<p style="margin-left:22%;">Log the process ID with each
message. This is useful for identifying specific
processes.</p>

<p style="margin-left:11%;">LOG_CONS</p>

<p style="margin-left:22%;">Write messages to the system
console if they cannot be sent to the logging facility. The
<i>syslog</i>() function ensures that the process does not
acquire the console as a controlling terminal in the process
of writing the message.</p>

<p style="margin-left:11%;">LOG_NDELAY</p>

<p style="margin-left:22%;">Open the connection to the
logging facility immediately. Normally the open is delayed
until the first message is logged. This is useful for
programs that need to manage the order in which file
descriptors are allocated.</p>

<p style="margin-left:11%;">LOG_ODELAY</p>

<p style="margin-left:22%;">Delay open until
<i>syslog</i>() is called.</p>

<p style="margin-left:11%;">LOG_NOWAIT</p>

<p style="margin-left:22%;">Do not wait for child processes
that may have been created during the course of logging the
message. This option should be used by processes that enable
notification of child termination using SIGCHLD, since
<i>syslog</i>() may otherwise block waiting for a child
whose exit status has already been collected.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>facility</i> argument encodes a default facility to be
assigned to all messages that do not have an explicit
facility already encoded. The initial default facility is
LOG_USER.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>openlog</i>() and <i>syslog</i>() functions may allocate
a file descriptor. It is not necessary to call
<i>openlog</i>() prior to calling <i>syslog</i>().</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>closelog</i>() function shall close any open file
descriptors allocated by previous calls to <i>openlog</i>()
or <i>syslog</i>().</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>setlogmask</i>() function shall set the log priority mask
for the current process to <i>maskpri</i> and return the
previous mask. If the <i>maskpri</i> argument is 0, the
current log mask is not modified. Calls by the current
process to <i>syslog</i>() with a priority not set in
<i>maskpri</i> shall be rejected. The default log mask
allows all priorities to be logged. A call to
<i>openlog</i>() is not required prior to calling
<i>setlogmask</i>().</p>

<p style="margin-left:11%; margin-top: 1em">Symbolic
constants for use as values of the <i>logopt</i>,
<i>facility</i>, <i>priority</i>, and <i>maskpri</i>
arguments are defined in the <i>&lt;syslog.h&gt;</i>
header.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>setlogmask</i>() function shall return the previous log
priority mask. The <i>closelog</i>(), <i>openlog</i>(), and
<i>syslog</i>() functions shall not return a value.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">No errors are
defined.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i><b>Using
openlog()</b></i> <br>
The following example causes subsequent calls to
<i>syslog</i>() to log the process ID with each message, and
to write messages to the system console if they cannot be
sent to the logging facility.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;syslog.h&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>char *ident
= &quot;Process demo&quot;; <br>
int logopt = LOG_PID | LOG_CONS; <br>
int facility = LOG_USER; <br>
... <br>
openlog(ident, logopt, facility);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Using
setlogmask()</b> <br>
The following example causes subsequent calls to
<i>syslog</i>() to accept error messages, and to reject all
other messages.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;syslog.h&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>int result;
<br>
int mask = LOG_MASK (LOG_ERR); <br>
... <br>
result = setlogmask(mask);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Using
syslog</b> <br>
The following example sends the message <b>&quot;This is a
message&quot;</b> to the default logging facility, marking
the message as an error message generated by random
processes.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;syslog.h&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>char
*message = &quot;This is a message&quot;; <br>
int priority = LOG_ERR | LOG_USER; <br>
... <br>
syslog(priority, message);</b></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>printf</i>(),
the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, <i>&lt;syslog.h&gt;</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
