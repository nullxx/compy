<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:04:16 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Utf</title>

</head>
<body>

<h1 align="center">Utf</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tcl_UniChar,
Tcl_UniCharCaseMatch, Tcl_UniCharNcasecmp, Tcl_UniCharToUtf,
Tcl_UtfToUniChar, Tcl_UniCharToUtfDString,
Tcl_UtfToUniCharDString, Tcl_UniCharLen, Tcl_UniCharNcmp,
Tcl_UtfCharComplete, Tcl_NumUtfChars, Tcl_UtfFindFirst,
Tcl_UtfFindLast, Tcl_UtfNext, Tcl_UtfPrev,
Tcl_UniCharAtIndex, Tcl_UtfAtIndex, Tcl_UtfBackslash &minus;
routines for manipulating UTF-8 strings</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tcl.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">typedef ...
Tcl_UniChar;</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UniCharToUtf</b>(<i>ch, buf</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UtfToUniChar</b>(<i>src, chPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">char * <b><br>
Tcl_UniCharToUtfDString</b>(<i>uniStr, uniLength,
dsPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">Tcl_UniChar *
<b><br>
Tcl_UtfToUniCharDString</b>(<i>src, length, dsPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UniCharLen</b>(<i>uniStr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UniCharNcmp</b>(<i>ucs, uct, numChars</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UniCharNcasecmp</b>(<i>ucs, uct, numChars</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UniCharCaseMatch</b>(<i>uniStr, uniPattern,
nocase</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UtfNcmp</b>(<i>cs, ct, numChars</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UtfNcasecmp</b>(<i>cs, ct, numChars</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UtfCharComplete</b>(<i>src, length</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_NumUtfChars</b>(<i>src, length</i>)</p>

<p style="margin-left:11%; margin-top: 1em">const char *
<b><br>
Tcl_UtfFindFirst</b>(<i>src, ch</i>)</p>

<p style="margin-left:11%; margin-top: 1em">const char *
<b><br>
Tcl_UtfFindLast</b>(<i>src, ch</i>)</p>

<p style="margin-left:11%; margin-top: 1em">const char *
<b><br>
Tcl_UtfNext</b>(<i>src</i>)</p>

<p style="margin-left:11%; margin-top: 1em">const char *
<b><br>
Tcl_UtfPrev</b>(<i>src, start</i>)</p>

<p style="margin-left:11%; margin-top: 1em">Tcl_UniChar
<b><br>
Tcl_UniCharAtIndex</b>(<i>src, index</i>)</p>

<p style="margin-left:11%; margin-top: 1em">const char *
<b><br>
Tcl_UtfAtIndex</b>(<i>src, index</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_UtfBackslash</b>(<i>src, readPtr, dst</i>)</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p style="margin-top: 1em">char <i>*buf</i> (out)</p></td>
<td width="15%"></td>
<td width="22%">


<p style="margin-top: 1em">Buffer in which the UTF-8
representation of the Tcl_UniChar is stored. At most
<b>TCL_UTF_MAX</b> bytes are stored in the buffer.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>int <i>ch</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>The Tcl_UniChar to be converted or examined.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>Tcl_UniChar <i>*chPtr</i> (out)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Filled with the Tcl_UniChar represented by the head of
the UTF-8 string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const char <i>*src</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Pointer to a UTF-8 string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const char <i>*cs</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Pointer to a UTF-8 string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const char <i>*ct</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Pointer to a UTF-8 string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const Tcl_UniChar <i>*uniStr</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>A null-terminated Unicode string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const Tcl_UniChar <i>*ucs</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>A null-terminated Unicode string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const Tcl_UniChar <i>*uct</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>A null-terminated Unicode string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const Tcl_UniChar <i>*uniPattern</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>A null-terminated Unicode string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>int <i>length</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>The length of the UTF-8 string in bytes (not UTF-8
characters). If negative, all bytes up to the first null
byte are used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>int <i>uniLength</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>The length of the Unicode string in characters. Must be
greater than or equal to 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>Tcl_DString <i>*dsPtr</i> (in/out)</p></td>
<td width="15%"></td>
<td width="22%">


<p>A pointer to a previously initialized
<b>Tcl_DString</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>unsigned long <i>numChars</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>The number of characters to compare.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>const char <i>*start</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Pointer to the beginning of a UTF-8 string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>int <i>index</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>The index of a character (not byte) in the UTF-8
string.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>int <i>*readPtr</i> (out)</p></td>
<td width="15%"></td>
<td width="22%">


<p>If non-NULL, filled with the number of bytes in the
backslash sequence, including the backslash character.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>char <i>*dst</i> (out)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Buffer in which the bytes represented by the backslash
sequence are stored. At most <b>TCL_UTF_MAX</b> bytes are
stored in the buffer.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p>int <i>nocase</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p>Specifies whether the match should be done
case-sensitive (0) or case-insensitive (1).</p></td></tr>
</table>


<p style="margin-left:78%;">_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These routines
convert between UTF-8 strings and Tcl_UniChars. A
Tcl_UniChar is a Unicode character represented as an
unsigned, fixed-size quantity. A UTF-8 character is a
Unicode character represented as a varying-length sequence
of up to <b>TCL_UTF_MAX</b> bytes. A multibyte UTF-8
sequence consists of a lead byte followed by some number of
trail bytes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>TCL_UTF_MAX</b>
is the maximum number of bytes that it takes to represent
one Unicode character in the UTF-8 representation.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UniCharToUtf</b>
stores the Tcl_UniChar <i>ch</i> as a UTF-8 string in
starting at <i>buf</i>. The return value is the number of
bytes stored in <i>buf</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfToUniChar</b>
reads one UTF-8 character starting at <i>src</i> and stores
it as a Tcl_UniChar in <i>*chPtr</i>. The return value is
the number of bytes read from <i>src</i>. The caller must
ensure that the source buffer is long enough such that this
routine does not run off the end and dereference
non-existent or random memory; if the source buffer is known
to be null-terminated, this will not happen. If the input is
not in proper UTF-8 format, <b>Tcl_UtfToUniChar</b> will
store the first byte of <i>src</i> in <i>*chPtr</i> as a
Tcl_UniChar between 0x0000 and 0x00ff and return 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UniCharToUtfDString</b>
converts the given Unicode string to UTF-8, storing the
result in a previously initialized <b>Tcl_DString</b>. You
must specify <i>uniLength</i>, the length of the given
Unicode string. The return value is a pointer to the UTF-8
representation of the Unicode string. Storage for the return
value is appended to the end of the <b>Tcl_DString</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfToUniCharDString</b>
converts the given UTF-8 string to Unicode, storing the
result in the previously initialized <b>Tcl_DString</b>. In
the argument <i>length</i>, you may either specify the
length of the given UTF-8 string in bytes or
&ldquo;&minus;1&rdquo;, in which case
<b>Tcl_UtfToUniCharDString</b> uses <b>strlen</b> to
calculate the length. The return value is a pointer to the
Unicode representation of the UTF-8 string. Storage for the
return value is appended to the end of the
<b>Tcl_DString</b>. The Unicode string is terminated with a
Unicode null character.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UniCharLen</b>
corresponds to <b>strlen</b> for Unicode characters. It
accepts a null-terminated Unicode string and returns the
number of Unicode characters (not bytes) in that string.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UniCharNcmp</b>
and <b>Tcl_UniCharNcasecmp</b> correspond to <b>strncmp</b>
and <b>strncasecmp</b>, respectively, for Unicode
characters. They accept two null-terminated Unicode strings
and the number of characters to compare. Both strings are
assumed to be at least <i>numChars</i> characters long.
<b>Tcl_UniCharNcmp</b> compares the two strings
character-by-character according to the Unicode character
ordering. It returns an integer greater than, equal to, or
less than 0 if the first string is greater than, equal to,
or less than the second string respectively.
<b>Tcl_UniCharNcasecmp</b> is the Unicode case insensitive
version.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UniCharCaseMatch</b>
is the Unicode equivalent to <b>Tcl_StringCaseMatch</b>. It
accepts a null-terminated Unicode string, a Unicode pattern,
and a boolean value specifying whether the match should be
case sensitive and returns whether the string matches the
pattern.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfNcmp</b>
corresponds to <b>strncmp</b> for UTF-8 strings. It accepts
two null-terminated UTF-8 strings and the number of
characters to compare. (Both strings are assumed to be at
least <i>numChars</i> characters long.) <b>Tcl_UtfNcmp</b>
compares the two strings character-by-character according to
the Unicode character ordering. It returns an integer
greater than, equal to, or less than 0 if the first string
is greater than, equal to, or less than the second string
respectively.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfNcasecmp</b>
corresponds to <b>strncasecmp</b> for UTF-8 strings. It is
similar to <b>Tcl_UtfNcmp</b> except comparisons ignore
differences in case when comparing upper, lower or title
case characters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfCharComplete</b>
returns 1 if the source UTF-8 string <i>src</i> of
<i>length</i> bytes is long enough to be decoded by
<b>Tcl_UtfToUniChar</b>, or 0 otherwise. This function does
not guarantee that the UTF-8 string is properly formed. This
routine is used by procedures that are operating on a byte
at a time and need to know if a full Tcl_UniChar has been
seen.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_NumUtfChars</b>
corresponds to <b>strlen</b> for UTF-8 strings. It returns
the number of Tcl_UniChars that are represented by the UTF-8
string <i>src</i>. The length of the source string is
<i>length</i> bytes. If the length is negative, all bytes up
to the first null byte are used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfFindFirst</b>
corresponds to <b>strchr</b> for UTF-8 strings. It returns a
pointer to the first occurrence of the Tcl_UniChar <i>ch</i>
in the null-terminated UTF-8 string <i>src</i>. The null
terminator is considered part of the UTF-8 string.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfFindLast</b>
corresponds to <b>strrchr</b> for UTF-8 strings. It returns
a pointer to the last occurrence of the Tcl_UniChar
<i>ch</i> in the null-terminated UTF-8 string <i>src</i>.
The null terminator is considered part of the UTF-8
string.</p>

<p style="margin-left:11%; margin-top: 1em">Given
<i>src</i>, a pointer to some location in a UTF-8 string,
<b>Tcl_UtfNext</b> returns a pointer to the next UTF-8
character in the string. The caller must not ask for the
next character after the last character in the string if the
string is not terminated by a null character.</p>

<p style="margin-left:11%; margin-top: 1em">Given
<i>src</i>, a pointer to some location in a UTF-8 string (or
to a null byte immediately following such a string),
<b>Tcl_UtfPrev</b> returns a pointer to the closest
preceding byte that starts a UTF-8 character. This function
will not back up to a position before <i>start</i>, the
start of the UTF-8 string. If <i>src</i> was already at
<i>start</i>, the return value will be <i>start</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UniCharAtIndex</b>
corresponds to a C string array dereference or the Pascal
Ord() function. It returns the Tcl_UniChar represented at
the specified character (not byte) <i>index</i> in the UTF-8
string <i>src</i>. The source string must contain at least
<i>index</i> characters. Behavior is undefined if a negative
<i>index</i> is given.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfAtIndex</b>
returns a pointer to the specified character (not byte)
<i>index</i> in the UTF-8 string <i>src</i>. The source
string must contain at least <i>index</i> characters. This
is equivalent to calling <b>Tcl_UtfNext</b> <i>index</i>
times. If a negative <i>index</i> is given, the return
pointer points to the first character in the source
string.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_UtfBackslash</b>
is a utility procedure used by several of the Tcl commands.
It parses a backslash sequence and stores the properly
formed UTF-8 character represented by the backslash sequence
in the output buffer <i>dst</i>. At most <b>TCL_UTF_MAX</b>
bytes are stored in the buffer. <b>Tcl_UtfBackslash</b>
modifies <i>*readPtr</i> to contain the number of bytes in
the backslash sequence, including the backslash character.
The return value is the number of bytes stored in the output
buffer.</p>

<p style="margin-left:11%; margin-top: 1em">See the
<b>Tcl</b> manual entry for information on the valid
backslash sequences. All of the sequences described in the
Tcl manual entry are supported by
<b>Tcl_UtfBackslash</b>.</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">utf, unicode,
backslash</p>
<hr>
</body>
</html>
