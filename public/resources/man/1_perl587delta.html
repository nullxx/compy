<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:58:54 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERL587DELTA</title>

</head>
<body>

<h1 align="center">PERL587DELTA</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Incompatible Changes">Incompatible Changes</a><br>
<a href="#Core Enhancements">Core Enhancements</a><br>
<a href="#Modules and Pragmata">Modules and Pragmata</a><br>
<a href="#Utility Changes">Utility Changes</a><br>
<a href="#Performance Enhancements">Performance Enhancements</a><br>
<a href="#Installation and Configuration Improvements">Installation and Configuration Improvements</a><br>
<a href="#Selected Bug Fixes">Selected Bug Fixes</a><br>
<a href="#New or Changed Diagnostics">New or Changed Diagnostics</a><br>
<a href="#Changed Internals">Changed Internals</a><br>
<a href="#Known Problems">Known Problems</a><br>
<a href="#Platform Specific Problems">Platform Specific Problems</a><br>
<a href="#Reporting Bugs">Reporting Bugs</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perl587delta
&minus; what is new for perl v5.8.7</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This document
describes differences between the 5.8.6 release and the
5.8.7 release.</p>

<h2>Incompatible Changes
<a name="Incompatible Changes"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are no
changes incompatible with 5.8.6.</p>

<h2>Core Enhancements
<a name="Core Enhancements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Unicode
Character Database 4.1.0</b> <br>
The copy of the Unicode Character Database included in Perl
5.8 has been updated to 4.1.0 from 4.0.1. See
&lt;http://www.unicode.org/versions/Unicode4.1.0/#NotableChanges&gt;
for the notable changes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>suidperl
less insecure</b> <br>
A pair of exploits in <tt>&quot;suidperl&quot;</tt>
involving debugging code have been closed.</p>

<p style="margin-left:11%; margin-top: 1em">For new
projects the core perl team strongly recommends that you use
dedicated, single purpose security tools such as
<tt>&quot;sudo&quot;</tt> in preference to
<tt>&quot;suidperl&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Optional
site customization script</b> <br>
The perl interpreter can be built to allow the use of a site
customization script. By default this is not enabled, to be
consistent with previous perl releases. To use this, add
<tt>&quot;&minus;Dusesitecustomize&quot;</tt> to the command
line flags when running the <tt>&quot;Configure&quot;</tt>
script. See also &quot;&minus;f&quot; in perlrun.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;Config.pm&quot;
is now much smaller.</b> <tt><br>
&quot;Config.pm&quot;</tt> is now about 3K rather than 32K,
with the infrequently used code and <tt>%Config</tt> values
loaded on demand. This is transparent to the programmer, but
means that most code will save parsing and loading 29K of
script (for example, code that uses
<tt>&quot;File::Find&quot;</tt>).</p>

<h2>Modules and Pragmata
<a name="Modules and Pragmata"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">B upgraded to version 1.09</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>base upgraded to version 2.07</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>bignum upgraded to version 0.17</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>bytes upgraded to version 1.02</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Carp upgraded to version 1.04</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>CGI</small> upgraded to version 3.10</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Class::ISA upgraded to version 0.33</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Data::Dumper upgraded to version 2.121_02</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>DB_File upgraded to version 1.811</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Devel::PPPort upgraded to version 3.06</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Digest upgraded to version 1.10</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Encode upgraded to version 2.10</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>FileCache upgraded to version 1.05</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File::Path upgraded to version 1.07</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File::Temp upgraded to version 0.16</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IO::File upgraded to version 1.11</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IO::Socket upgraded to version 1.28</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Math::BigInt upgraded to version 1.77</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Math::BigRat upgraded to version 0.15</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>overload upgraded to version 1.03</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>PathTools upgraded to version 3.05</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Pod::HTML upgraded to version 1.0503</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Pod::Perldoc upgraded to version 3.14</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Pod::LaTeX upgraded to version 0.58</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Pod::Parser upgraded to version 1.30</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Symbol upgraded to version 1.06</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Term::ANSIColor upgraded to version 1.09</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Test::Harness upgraded to version 2.48</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Test::Simple upgraded to version 0.54</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Text::Wrap upgraded to version 2001.09293, to fix a bug
when <i>wrap()</i> was called with a non-space
separator.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>threads::shared upgraded to version 0.93</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Time::HiRes upgraded to version 1.66</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Time::Local upgraded to version 1.11</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Unicode::Normalize upgraded to version 0.32</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>utf8 upgraded to version 1.05</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Win32 upgraded to version 0.24, which provides
Win32::GetFileVersion</p> </td></tr>
</table>

<h2>Utility Changes
<a name="Utility Changes"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>find2perl
enhancements</b> <tt><br>
&quot;find2perl&quot;</tt> has new options
<tt>&quot;&minus;iname&quot;</tt>,
<tt>&quot;&minus;path&quot;</tt> and
<tt>&quot;&minus;ipath&quot;</tt>.</p>

<h2>Performance Enhancements
<a name="Performance Enhancements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The internal
pointer mapping hash used during ithreads cloning now uses
an arena for memory allocation. In tests this reduced
ithreads cloning time by about 10%.</p>

<h2>Installation and Configuration Improvements
<a name="Installation and Configuration Improvements"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The Win32 &quot;dmake&quot;
makefile.mk has been updated to make it compatible with the
latest versions of dmake.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;PERL_MALLOC&quot;</tt>,
<tt>&quot;DEBUG_MSTATS&quot;</tt>,
<tt>&quot;PERL_HASH_SEED_EXPLICIT&quot;</tt> and
<tt>&quot;NO_HASH_SEED&quot;</tt> should now work in Win32
makefiles.</p> </td></tr>
</table>

<h2>Selected Bug Fixes
<a name="Selected Bug Fixes"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The <i>socket()</i> function on
Win32 has been fixed so that it is able to use transport
providers which specify a protocol of 0 (meaning any
protocol is allowed) once more. (This was broken in 5.8.6,
and typically caused the use of <small>ICMP</small> sockets
to fail.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Another obscure bug involving
<tt>&quot;substr&quot;</tt> and <small>UTF&minus;8</small>
caused by bad internal offset caching has been identified
and fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A bug involving the loading of
<small>UTF&minus;8</small> tables by the regexp engine has
been fixed &minus; code such as
<tt>&quot;&quot;\x{100}&quot; =~ /[[:print:]]/&quot;</tt>
will no longer give corrupt results.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Case conversion operations such as
<tt>&quot;uc&quot;</tt> on a long Unicode string could
exhaust memory. This has been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;index&quot;</tt>/<tt>&quot;rindex&quot;</tt>
were buggy for some combinations of Unicode and non-Unicode
data. This has been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;read&quot;</tt> (and presumably
<tt>&quot;sysread&quot;</tt>) would expose the
<small>UTF&minus;8</small> internals when reading from a
byte oriented file handle into a <small>UTF&minus;8</small>
scalar. This has been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Several
<tt>&quot;pack&quot;</tt>/<tt>&quot;unpack&quot;</tt> bug
fixes:</p> </td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Checksums with
<tt>&quot;b&quot;</tt> or <tt>&quot;B&quot;</tt> formats
were broken.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><tt>&quot;unpack&quot;</tt> checksums could overflow
with the <tt>&quot;C&quot;</tt> format.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><tt>&quot;U0&quot;</tt> and <tt>&quot;C0&quot;</tt> are
now scoped to <tt>&quot;()&quot; &quot;pack&quot;</tt>
sub-templates.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Counted length prefixes now don&rsquo;t change
<tt>&quot;C0&quot;</tt>/<tt>&quot;U0&quot;</tt> mode.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><tt>&quot;pack&quot; &quot;Z0&quot;</tt> used to destroy
the preceding character.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><tt>&quot;P&quot;</tt>/<tt>&quot;p&quot;
&quot;pack&quot;</tt> formats used to only recognise literal
<tt>&quot;undef&quot;</tt></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Using closures
with ithreads could cause perl to crash. This was due to
failure to correctly lock internal <small>OP</small>
structures, and has been fixed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The return value of
<tt>&quot;close&quot;</tt> now correctly reflects any file
errors that occur while flushing the handle&rsquo;s data,
instead of just giving failure if the actual underlying file
close operation failed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;not() || 1&quot;</tt> used to segfault.
<tt>&quot;not()&quot;</tt> now behaves like <tt>not(0)</tt>,
which was the pre 5.6.0 behaviour.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;h2ph&quot;</tt> has various enhancements to
cope with constructs in header files that used to result in
incorrect or invalid output.</p></td></tr>
</table>

<h2>New or Changed Diagnostics
<a name="New or Changed Diagnostics"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There is a new
taint error, &quot;%ENV is aliased to <tt>%s</tt>&quot;.
This error is thrown when taint checks are enabled and when
<tt>*ENV</tt> has been aliased, so that <tt>%ENV</tt> has no
env-magic anymore and hence the environment cannot be
verified as taint-free.</p>

<p style="margin-left:11%; margin-top: 1em">The internals
of <tt>&quot;pack&quot;</tt> and <tt>&quot;unpack&quot;</tt>
have been updated. All legitimate templates should work as
before, but there may be some changes in the error reported
for complex failure cases. Any behaviour changes for
non-error cases are bugs, and should be reported.</p>

<h2>Changed Internals
<a name="Changed Internals"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There has been
a fair amount of refactoring of the <tt>&quot;C&quot;</tt>
source code, partly to make it tidier and more maintainable.
The resulting object code and the <tt>&quot;perl&quot;</tt>
binary may well be smaller than 5.8.6, and hopefully faster
in some cases, but apart from this there should be no
user-detectable changes.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;${^UTF8LOCALE}&quot;</tt>
has been added to give perl space access to
<tt>&quot;PL_utf8locale&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The size of the
arenas used to allocate <small>SV</small> heads and most
<small>SV</small> bodies can now be changed at compile time.
The old size was 1008 bytes, the new default size is 4080
bytes.</p>

<h2>Known Problems
<a name="Known Problems"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Unicode strings
returned from overloaded operators can be buggy. This is a
long standing bug reported since 5.8.6 was released, but we
do not yet have a suitable fix for it.</p>

<h2>Platform Specific Problems
<a name="Platform Specific Problems"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On
<small>UNICOS</small> , lib/Math/BigInt/t/bigintc.t hangs
burning <small>CPU</small> . ext/B/t/bytecode.t and
ext/Socket/t/socketpair.t both fail tests. These are
unlikely to be resolved, as our valiant
<small>UNICOS</small> porter&rsquo;s last Cray is being
decommissioned.</p>

<h2>Reporting Bugs
<a name="Reporting Bugs"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you find
what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the
perl bug database at http://bugs.perl.org. There may also be
information at http://www.perl.org, the Perl Home Page.</p>

<p style="margin-left:11%; margin-top: 1em">If you believe
you have an unreported bug, please run the <b>perlbug</b>
program included with your release. Be sure to trim your bug
down to a tiny but sufficient test case. Your bug report,
along with the output of <tt>&quot;perl &minus;V&quot;</tt>,
will be sent off to perlbug@perl.org to be analysed by the
Perl porting team. You can browse and search the Perl 5 bugs
at http://bugs.perl.org/</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>Changes</i> file for exhaustive details on what
changed.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>INSTALL</small></i> file for how to build
Perl.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>README</small></i> file for general stuff.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>Artistic</i> and <i>Copying</i> files for copyright
information.</p>
<hr>
</body>
</html>
