<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:17:32 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Net::libnetFAQ</title>

</head>
<body>

<h1 align="center">Net::libnetFAQ</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Author and Copyright Information">Author and Copyright Information</a><br>
<a href="#Obtaining and installing libnet">Obtaining and installing libnet</a><br>
<a href="#Using Net::FTP">Using Net::FTP</a><br>
<a href="#Using Net::SMTP">Using Net::SMTP</a><br>
<a href="#Debugging scripts">Debugging scripts</a><br>
<a href="#AUTHOR AND COPYRIGHT">AUTHOR AND COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">libnetFAQ
&minus; libnet Frequently Asked Questions</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Where to get
this document</b> <br>
This document is distributed with the libnet distribution,
and is also available on the libnet web page at</p>

<pre style="margin-left:11%; margin-top: 1em">    http://search.cpan.org/~gbarr/libnet/</pre>


<p style="margin-left:11%; margin-top: 1em"><b>How to
contribute to this document</b> <br>
You may mail corrections, additions, and suggestions to me
gbarr@pobox.com.</p>

<h2>Author and Copyright Information
<a name="Author and Copyright Information"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
1997&minus;1998 Graham Barr. All rights reserved. This
document is free; you can redistribute it and/or modify it
under the terms of the Artistic License.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Disclaimer</b>
<br>
This information is offered in good faith and in the hope
that it may be of use, but is not guaranteed to be correct,
up to date, or suitable for any particular purpose
whatsoever. The authors accept no liability in respect of
this information or its use.</p>

<h2>Obtaining and installing libnet
<a name="Obtaining and installing libnet"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>What is
libnet ?</b> <br>
libnet is a collection of perl5 modules which all related to
network programming. The majority of the modules available
provided the client side of popular server-client protocols
that are used in the internet community.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Which
version of perl do I need ?</b> <br>
libnet has been know to work with versions of perl from
5.002 onwards. However if your release of perl is prior to
perl5.004 then you will need to obtain and install the
<small>IO</small> distribution from <small>CPAN</small> . If
you have perl5.004 or later then you will have the
<small>IO</small> modules in your installation already, but
<small>CPAN</small> may contain updates.</p>

<p style="margin-left:11%; margin-top: 1em"><b>What other
modules do I need ?</b> <br>
The only modules you will need installed are the modules
from the <small>IO</small> distribution. If you have
perl5.004 or later you will already have these modules.</p>

<p style="margin-left:11%; margin-top: 1em"><b>What
machines support libnet ?</b> <br>
libnet itself is an entirely perl-code distribution so it
should work on any machine that perl runs on. However
<small>IO</small> may not work with some machines and
earlier releases of perl. But this should not be the case
with perl version 5.004 or later.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Where can I
get the latest libnet release</b> <br>
The latest libnet release is always on <small>CPAN</small> ,
you will find it in</p>

<pre style="margin-left:11%; margin-top: 1em"> http://www.cpan.org/modules/by&minus;module/Net/</pre>


<p style="margin-left:11%; margin-top: 1em">The latest
release and information is also available on the libnet web
page at</p>

<pre style="margin-left:11%; margin-top: 1em"> http://search.cpan.org/~gbarr/libnet/</pre>


<h2>Using Net::FTP
<a name="Using Net::FTP"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>How do I
download files from an <small>FTP</small> server ?</b> <br>
An example taken from an article posted to
comp.lang.perl.misc</p>

<pre style="margin-left:11%; margin-top: 1em">    #!/your/path/to/perl
    # a module making life easier
    use Net::FTP;
    # for debugging: $ftp = Net::FTP&minus;&gt;new('site','Debug',10);
    # open a connection and log in!
    $ftp = Net::FTP&minus;&gt;new('target_site.somewhere.xxx');
    $ftp&minus;&gt;login('username','password');
    # set transfer mode to binary
    $ftp&minus;&gt;binary();
    # change the directory on the ftp site
    $ftp&minus;&gt;cwd('/some/path/to/somewhere/');
    foreach $name ('file1', 'file2', 'file3') {
    # get's arguments are in the following order:
    # ftp server's filename
    # filename to save the transfer to on the local machine
    # can be simply used as get($name) if you want the same name
      $ftp&minus;&gt;get($name,$name);
    }
    # ftp done!
    $ftp&minus;&gt;quit;</pre>


<p style="margin-left:11%; margin-top: 1em"><b>How do I
transfer files in binary mode ?</b> <br>
To transfer files without &lt; <small>LF</small> &gt;&lt;
<small>CR</small> &gt; translation Net::FTP provides the
<tt>&quot;binary&quot;</tt> method</p>

<pre style="margin-left:11%; margin-top: 1em">    $ftp&minus;&gt;binary;</pre>


<p style="margin-left:11%; margin-top: 1em"><b>How can I
get the size of a file on a remote <small>FTP</small> server
? <br>
How can I get the modification time of a file on a remote
<small>FTP</small> server ? <br>
How can I change the permissions of a file on a remote
server ?</b> <br>
The <small>FTP</small> protocol does not have a command for
changing the permissions of a file on the remote server. But
some ftp servers may allow a chmod command to be issued via
a <small>SITE</small> command, eg</p>

<pre style="margin-left:11%; margin-top: 1em">    $ftp&minus;&gt;quot('site chmod 0777',$filename);</pre>


<p style="margin-left:11%; margin-top: 1em">But this is not
guaranteed to work.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Can I do a
reget operation like the ftp command ? <br>
How do I get a directory listing from an <small>FTP</small>
server ? <br>
Changing directory to &quot;&quot; does not fail ?</b> <br>
Passing an argument of &quot;&quot; to
&minus;&gt;<i>cwd()</i> has the same affect of calling
&minus;&gt;<i>cwd()</i> without any arguments. Turn on Debug
(<i>See below</i>) and you will see what is happening</p>

<pre style="margin-left:11%; margin-top: 1em">    $ftp = Net::FTP&minus;&gt;new($host, Debug =&gt; 1);
    $ftp&minus;&gt;login;
    $ftp&minus;&gt;cwd(&quot;&quot;);</pre>


<p style="margin-left:11%; margin-top: 1em">gives</p>

<pre style="margin-left:11%; margin-top: 1em">    Net::FTP=GLOB(0x82196d8)&gt;&gt;&gt; CWD /
    Net::FTP=GLOB(0x82196d8)&lt;&lt;&lt; 250 CWD command successful.</pre>


<p style="margin-left:11%; margin-top: 1em"><b>I am behind
a <small>SOCKS</small> firewall, but the Firewall option
does not work ?</b> <br>
The Firewall option is only for support of one type of
firewall. The type supported is an ftp proxy.</p>

<p style="margin-left:11%; margin-top: 1em">To use
Net::FTP, or any other module in the libnet distribution,
through a <small>SOCKS</small> firewall you must create a
socks-ified perl executable by compiling perl with the socks
library.</p>

<p style="margin-left:11%; margin-top: 1em"><b>I am behind
an <small>FTP</small> proxy firewall, but cannot access
machines outside ?</b> <br>
Net::FTP implements the most popular ftp proxy firewall
approach. The scheme implemented is that where you log in to
the firewall with <tt>&quot;user@hostname&quot;</tt></p>

<p style="margin-left:11%; margin-top: 1em">I have heard of
one other type of firewall which requires a login to the
firewall with an account, then a second login with
<tt>&quot;user@hostname&quot;</tt>. You can still use
Net::FTP to traverse these firewalls, but a more manual
approach must be taken, eg</p>

<pre style="margin-left:11%; margin-top: 1em">    $ftp = Net::FTP&minus;&gt;new($firewall) or die $@;
    $ftp&minus;&gt;login($firewall_user, $firewall_passwd) or die $ftp&minus;&gt;message;
    $ftp&minus;&gt;login($ext_user . '@' . $ext_host, $ext_passwd) or die $ftp&minus;&gt;message.</pre>


<p style="margin-left:11%; margin-top: 1em"><b>My ftp proxy
firewall does not listen on port 21</b> <small><br>
FTP</small> servers usually listen on the same port number,
port 21, as any other <small>FTP</small> server. But there
is no reason why this has to be the case.</p>

<p style="margin-left:11%; margin-top: 1em">If you pass a
port number to Net::FTP then it assumes this is the port
number of the final destination. By default Net::FTP will
always try to connect to the firewall on port 21.</p>

<p style="margin-left:11%; margin-top: 1em">Net::FTP uses
IO::Socket to open the connection and IO::Socket allows the
port number to be specified as part of the hostname. So this
problem can be resolved by either passing a Firewall option
like <tt>&quot;hostname:1234&quot;</tt> or by setting the
<tt>&quot;ftp_firewall&quot;</tt> option in Net::Config to
be a string in in the same form.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Is it
possible to change the file permissions of a file on an
<small>FTP</small> server ?</b> <br>
The answer to this is &quot;maybe&quot;. The
<small>FTP</small> protocol does not specify a command to
change file permissions on a remote host. However many
servers do allow you to run the chmod command via the
<tt>&quot;SITE&quot;</tt> command. This can be done with</p>

<pre style="margin-left:11%; margin-top: 1em">  $ftp&minus;&gt;site('chmod','0775',$file);</pre>


<p style="margin-left:11%; margin-top: 1em"><b>I have seen
scripts call a method message, but cannot find it documented
?</b> <br>
Net::FTP, like several other packages in libnet, inherits
from Net::Cmd, so all the methods described in Net::Cmd are
also available on Net::FTP objects.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Why does
Net::FTP not implement mput and mget methods</b> <br>
The quick answer is because they are easy to implement
yourself. The long answer is that to write these in such a
way that multiple platforms are supported correctly would
just require too much code. Below are some examples how you
can implement these yourself.</p>

<p style="margin-left:11%; margin-top: 1em">sub mput { <br>
my($ftp,$pattern) = <tt>@_</tt>; <br>
foreach my <tt>$file</tt> (glob($pattern)) { <tt><br>
$ftp</tt>&minus;&gt;put($file) or warn
<tt>$ftp</tt>&minus;&gt;message; <br>
} }</p>

<p style="margin-left:11%; margin-top: 1em">sub mget { <br>
my($ftp,$pattern) = <tt>@_</tt>; <br>
foreach my <tt>$file</tt> ($ftp&minus;&gt;ls($pattern)) {
<tt><br>
$ftp</tt>&minus;&gt;get($file) or warn
<tt>$ftp</tt>&minus;&gt;message; <br>
} }</p>

<h2>Using Net::SMTP
<a name="Using Net::SMTP"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Why
can&rsquo;t the part of an Email address after the @ be used
as the hostname ?</b> <br>
The part of an Email address which follows the @ is not
necessarily a hostname, it is a mail domain. To find the
name of a host to connect for a mail domain you need to do a
<small>DNS MX</small> lookup</p>

<p style="margin-left:11%; margin-top: 1em"><b>Why does
Net::SMTP not do <small>DNS MX</small> lookups ?</b> <br>
Net::SMTP implements the <small>SMTP</small> protocol. The
<small>DNS MX</small> lookup is not part of this
protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>The verify
method always returns true ?</b> <br>
Well it may seem that way, but it does not. The verify
method returns true if the command succeeded. If you pass
verify an address which the server would normally have to
forward to another machine, the command will succeed with
something like</p>

<pre style="margin-left:11%; margin-top: 1em">    252 Couldn't verify &lt;someone@there&gt; but will attempt delivery anyway</pre>


<p style="margin-left:11%; margin-top: 1em">This command
will fail only if you pass it an address in a domain the
server directly delivers for, and that address does not
exist.</p>

<h2>Debugging scripts
<a name="Debugging scripts"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>How can I
debug my scripts that use Net::* modules ?</b> <br>
Most of the libnet client classes allow options to be passed
to the constructor, in most cases one option is called
<tt>&quot;Debug&quot;</tt>. Passing this option with a
non-zero value will turn on a protocol trace, which will be
sent to <small>STDERR</small> . This trace can be useful to
see what commands are being sent to the remote server and
what responses are being received back.</p>

<pre style="margin-left:11%; margin-top: 1em">    #!/your/path/to/perl
    use Net::FTP;
    my $ftp = new Net::FTP($host, Debug =&gt; 1);
    $ftp&minus;&gt;login('gbarr','password');
    $ftp&minus;&gt;quit;</pre>


<p style="margin-left:11%; margin-top: 1em">this script
would output something like</p>

<pre style="margin-left:11%; margin-top: 1em"> Net::FTP: Net::FTP(2.22)
 Net::FTP:   Exporter
 Net::FTP:   Net::Cmd(2.0801)
 Net::FTP:   IO::Socket::INET
 Net::FTP:     IO::Socket(1.1603)
 Net::FTP:       IO::Handle(1.1504)
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 220 imagine FTP server (Version wu&minus;2.4(5) Tue Jul 29 11:17:18 CDT 1997) ready.
 Net::FTP=GLOB(0x8152974)&gt;&gt;&gt; user gbarr
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 331 Password required for gbarr.
 Net::FTP=GLOB(0x8152974)&gt;&gt;&gt; PASS ....
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 230 User gbarr logged in.  Access restrictions apply.
 Net::FTP=GLOB(0x8152974)&gt;&gt;&gt; QUIT
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 221 Goodbye.</pre>


<p style="margin-left:11%; margin-top: 1em">The first few
lines tell you the modules that Net::FTP uses and their
versions, this is useful data to me when a user reports a
bug. The last seven lines show the communication with the
server. Each line has three parts. The first part is the
object itself, this is useful for separating the output if
you are using multiple objects. The second part is either
<tt>&quot;&lt;&lt;&lt;&lt;&quot;</tt> to show data coming
from the server or
<tt>&quot;&amp;gt&amp;gt&amp;gt&amp;gt&quot;</tt> to show
data going to the server. The remainder of the line is the
command being sent or response being received.</p>

<h2>AUTHOR AND COPYRIGHT
<a name="AUTHOR AND COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
1997 Graham Barr. All rights reserved.</p>
<hr>
</body>
</html>
