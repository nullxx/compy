<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:26:06 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>text</title>

</head>
<body>

<h1 align="center">text</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#STANDARD OPTIONS">STANDARD OPTIONS</a><br>
<a href="#WIDGET-SPECIFIC OPTIONS">WIDGET-SPECIFIC OPTIONS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INDICES">INDICES</a><br>
<a href="#TAGS">TAGS</a><br>
<a href="#MARKS">MARKS</a><br>
<a href="#EMBEDDED WINDOWS">EMBEDDED WINDOWS</a><br>
<a href="#EMBEDDED IMAGES">EMBEDDED IMAGES</a><br>
<a href="#THE SELECTION">THE SELECTION</a><br>
<a href="#THE INSERTION CURSOR">THE INSERTION CURSOR</a><br>
<a href="#THE MODIFIED FLAG">THE MODIFIED FLAG</a><br>
<a href="#THE UNDO MECHANISM">THE UNDO MECHANISM</a><br>
<a href="#PEER WIDGETS">PEER WIDGETS</a><br>
<a href="#WIDGET COMMAND">WIDGET COMMAND</a><br>
<a href="#BINDINGS">BINDINGS</a><br>
<a href="#KNOWN ISSUES">KNOWN ISSUES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">text,
tk_textCopy, tk_textCut, tk_textPaste &minus; Create and
manipulate text widgets</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>text</b>
<i>pathName</i> ?<i>options</i>? <b><br>
tk_textCopy</b> <i>pathName</i> <b><br>
tk_textCut</b> <i>pathName</i> <b><br>
tk_textPaste</b> <i>pathName</i></p>

<h2>STANDARD OPTIONS
<a name="STANDARD OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;background</b></i></p></td>
<td width="32%">


<p><i><b>&minus;highlightthickness</b></i></p></td>
<td width="34%">


<p><i><b>&minus;relief</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;borderwidth</b></i></p></td>
<td width="32%">


<p><i><b>&minus;insertbackground</b></i></p></td>
<td width="34%">


<p><i><b>&minus;selectbackground</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;cursor</b></i></p></td>
<td width="32%">


<p><i><b>&minus;insertborderwidth</b></i></p></td>
<td width="34%">


<p><i><b>&minus;selectborderwidth</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;exportselection</b></i></p></td>
<td width="32%">


<p><i><b>&minus;insertofftime</b></i></p></td>
<td width="34%">


<p><i><b>&minus;selectforeground</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;font</b></i></p></td>
<td width="32%">


<p><i><b>&minus;insertontime</b></i></p></td>
<td width="34%">


<p><i><b>&minus;setgrid</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;foreground</b></i></p></td>
<td width="32%">


<p><i><b>&minus;insertwidth</b></i></p></td>
<td width="34%">


<p><i><b>&minus;takefocus</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;highlightbackground</b></i></p></td>
<td width="32%">


<p><i><b>&minus;padx</b></i></p></td>
<td width="34%">


<p><i><b>&minus;xscrollcommand</b></i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><i><b>&minus;highlightcolor</b></i></p></td>
<td width="32%">


<p><i><b>&minus;pady</b></i></p></td>
<td width="34%">


<p><i><b>&minus;yscrollcommand</b></i></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">See the
<b>options</b> manual entry for details on the standard
options.</p>

<h2>WIDGET-SPECIFIC OPTIONS
<a name="WIDGET-SPECIFIC OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">[<b>&minus;autoseparators&nbsp;</b><i>autoSeparators</i>]
Specifies a boolean that says whether separators are
automatically inserted in the undo stack. Only meaningful
when the <b>&minus;undo</b> option is true.
[<b>&minus;blockcursor&nbsp;</b><i>blockCursor</i>]
<big>&#9474;</big> Specifies a boolean that says whether the
blinking insertion cursor <big>&#9474;</big> should be drawn
as a character-sized rectangular block. If false (the
<big>&#9474;</big> default) a thin vertical line is used for
the insertion cursor.
[<b>&minus;endline&nbsp;</b><i>endLine</i>] Specifies an
integer line index representing the <big>&#9474;</big> line
of the underlying textual data store that should be just
after the <big>&#9474;</big> last line contained in the
widget. This allows a text widget to <big>&#9474;</big>
reflect only a portion of a larger piece of text. Instead of
an <big>&#9474;</big> integer, the empty string can be
provided to this configuration option, <big>&#9474;</big>
which will configure the widget to end at the very last line
in the <big>&#9474;</big> textual data store.
[<b>&minus;height&nbsp;</b><i>height</i>] Specifies the
desired height for the window, in units of characters in the
font given by the <b>&minus;font</b> option. Must be at
least one.
[<b>&minus;inactiveselectbackground&nbsp;</b><i>inactiveSelectBackground</i>]
Specifies the <big>&#9474;</big> colour to use for the
selection (the <b>sel</b> tag) when the window does not
<big>&#9474;</big> have the input focus. If empty,
<b>{}</b>, then no selection is shown when
<big>&#9474;</big> the window does not have the focus.
[<b>&minus;maxundo&nbsp;</b><i>maxUndo</i>] Specifies the
maximum number of compound undo actions on the undo stack. A
zero or a negative value imply an unlimited undo stack.
[<b>&minus;spacing1&nbsp;</b><i>spacing1</i>] Requests
additional space above each text line in the widget, using
any of the standard forms for screen distances. If a line
wraps, this option only applies to the first line on the
display. This option may be overridden with
<b>&minus;spacing1</b> options in tags.
[<b>&minus;spacing2&nbsp;</b><i>spacing2</i>] For lines that
wrap (so that they cover more than one line on the display)
this option specifies additional space to provide between
the display lines that represent a single line of text. The
value may have any of the standard forms for screen
distances. This option may be overridden with
<b>&minus;spacing2</b> options in tags.
[<b>&minus;spacing3&nbsp;</b><i>spacing3</i>] Requests
additional space below each text line in the widget, using
any of the standard forms for screen distances. If a line
wraps, this option only applies to the last line on the
display. This option may be overridden with
<b>&minus;spacing3</b> options in tags.
[<b>&minus;startline&nbsp;</b><i>startLine</i>] Specifies an
<big>&#9474;</big> integer line index representing the first
line of the underlying <big>&#9474;</big> textual data store
that should be contained in the widget. This allows
<big>&#9474;</big> a text widget to reflect only a portion
of a larger piece of text. <big>&#9474;</big> Instead of an
integer, the empty string can be provided to this
<big>&#9474;</big> configuration option, which will
configure the widget to start at the <big>&#9474;</big> very
first line in the textual data store.
[<b>&minus;state&nbsp;</b><i>state</i>] Specifies one of two
states for the text: <b>normal</b> or <b>disabled</b>. If
the text is disabled then characters may not be inserted or
deleted and no insertion cursor will be displayed, even if
the input focus is in the widget.
[<b>&minus;tabs&nbsp;</b><i>tabs</i>] Specifies a set of tab
stops for the window. The option&rsquo;s value consists of a
list of screen distances giving the positions of the tab
stops, each of which is a distance relative to the left edge
of the widget (excluding borders, padding, etc). Each
position may optionally be followed in the next list element
by one of the keywords <b>left</b>, <b>right</b>,
<b>center</b>, or <b>numeric</b>, which specifies how to
justify text relative to the tab stop. <b>Left</b> is the
default; it causes the text following the tab character to
be positioned with its left edge at the tab position.
<b>Right</b> means that the right edge of the text following
the tab character is positioned at the tab position, and
<b>center</b> means that the text is centered at the tab
position. <b>Numeric</b> means that the decimal point in the
text is positioned at the tab position; if there is no
decimal point then the least significant digit of the number
is positioned just to the left of the tab position; if there
is no number in the text then the text is right-justified at
the tab position. For example, &ldquo;<b>&minus;tabs {2c
left 4c 6c center}</b>&rdquo; creates three tab stops at
two-centimeter intervals; the first two use left
justification and the third uses center justification.</p>

<p style="margin-left:22%; margin-top: 1em">If the list of
tab stops does not have enough elements to cover all of the
tabs in a text line, then Tk extrapolates new tab stops
using the spacing and alignment from the last tab stop in
the list. Tab distances must be strictly positive, and must
always increase from one tab stop to the next (if not, an
error is thrown). The value of the <b>tabs</b> option may be
overridden by <b>&minus;tabs</b> options in tags.</p>

<p style="margin-left:22%; margin-top: 1em">If no
<b>&minus;tabs</b> option is specified, or if it is
specified as an empty list, then Tk uses default tabs spaced
every eight (average size) characters. To achieve a
different standard spacing, for example every 4 characters,
simply configure the widget with &ldquo;<b>&minus;tabs
&quot;[expr {4 * [font measure $font 0]}] left&quot;
&minus;tabstyle wordprocessor</b>&rdquo;.</p>


<p style="margin-left:11%;">[<b>&minus;tabstyle&nbsp;</b><i>tabStyle</i>]
Specifies how to interpret the relationship between tab
stops on a line and tabs in the text of that line. The value
must be <b>tabular</b> (the default) or
<b>wordprocessor</b>. Note that tabs are interpreted as they
are encountered in the text. If the tab style is
<b>tabular</b> then the <i>n</i>&rsquo;th tab character in
the line&rsquo;s text will be associated with the
<i>n</i>&rsquo;th tab stop defined for that line. If the tab
character&rsquo;s x coordinate falls to the right of the
<i>n</i>&rsquo;th tab stop, then a gap of a single space
will be inserted as a fallback. If the tab style is
<b>wordprocessor</b> then any tab character being laid out
will use (and be defined by) the first tab stop to the right
of the preceding characters already laid out on that line.
The value of the <b>tabstyle</b> option may be overridden by
<b>&minus;tabstyle</b> options in tags.
[<b>&minus;undo&nbsp;</b><i>undo</i>] Specifies a boolean
that says whether the undo mechanism is active or not.
[<b>&minus;width&nbsp;</b><i>width</i>] Specifies the
desired width for the window in units of characters in the
font given by the <b>&minus;font</b> option. If the font
does not have a uniform width then the width of the
character &ldquo;0&rdquo; is used in translating from
character units to screen units.
[<b>&minus;wrap&nbsp;</b><i>wrap</i>] Specifies how to
handle lines in the text that are too long to be displayed
in a single line of the text&rsquo;s window. The value must
be <b>none</b> or <b>char</b> or <b>word</b>. A wrap mode of
<b>none</b> means that each line of text appears as exactly
one line on the screen; extra characters that do not fit on
the screen are not displayed. In the other modes each line
of text will be broken up into several screen lines if
necessary to keep all the characters visible. In <b>char</b>
mode a screen line break may occur after any character; in
<b>word</b> mode a line break will only be made at word
boundaries.
_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>text</b>
command creates a new window (given by the <i>pathName</i>
argument) and makes it into a text widget. Additional
options, described above, may be specified on the command
line or in the option database to configure aspects of the
text such as its default background color and relief. The
<b>text</b> command returns the path name of the new
window.</p>

<p style="margin-left:11%; margin-top: 1em">A text widget
displays one or more lines of text and allows that text to
be edited. Text widgets support four different kinds of
annotations on the text, called tags, marks, embedded
windows or embedded images. Tags allow different portions of
the text to be displayed with different fonts and colors. In
addition, Tcl commands can be associated with tags so that
scripts are invoked when particular actions such as
keystrokes and mouse button presses occur in particular
ranges of the text. See <b>TAGS</b> below for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">The second form
of annotation consists of floating markers in the text
called &ldquo;marks&rdquo;. Marks are used to keep track of
various interesting positions in the text as it is edited.
See <b>MARKS</b> below for more details.</p>

<p style="margin-left:11%; margin-top: 1em">The third form
of annotation allows arbitrary windows to be embedded in a
text widget. See <b>EMBEDDED WINDOWS</b> below for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">The fourth form
of annotation allows Tk images to be embedded in a text
widget. See <b>EMBEDDED IMAGES</b> below for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">The text widget
also has a built-in undo/redo mechanism. See <b>THE UNDO
MECHANISM</b> below for more details.</p>

<p style="margin-left:11%; margin-top: 1em">The text widget
allows for the creation of peer widgets. These are
<big>&#9474;</big> other text widgets which share the same
underlying data (text, marks, <big>&#9474;</big> tags,
images, etc). See <b>PEER WIDGETS</b> below for more
details.</p>

<h2>INDICES
<a name="INDICES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Many of the
widget commands for texts take one or more indices as
arguments. An index is a string used to indicate a
particular place within a text, such as a place to insert
characters or one endpoint of a range of characters to
delete. Indices have the syntax</p>

<p style="margin-left:22%;"><i>base modifier modifier
modifier ...</i></p>

<p style="margin-left:11%;">Where <i>base</i> gives a
starting point and the <i>modifier</i>s adjust the index
from the starting point (e.g. move forward or backward one
character). Every index must contain a <i>base</i>, but the
<i>modifier</i>s are optional. Most <big>&#9474;</big>
modifiers (as documented below) allow an optional
submodifier. Valid <big>&#9474;</big> submodifiers are
<b>any</b> and <b>display</b>. If the submodifier is
abbreviated, <big>&#9474;</big> then it must be followed by
whitespace, but otherwise there need be no
<big>&#9474;</big> space between the submodifier and the
following <i>modifier</i>. Typically <big>&#9474;</big> the
<b>display</b> submodifier adjusts the meaning of the
following <i>modifier</i> <big>&#9474;</big> to make it
refer to visual or non-elided units rather than logical
<big>&#9474;</big> units, but this is explained for each
relevant case below. Lastly, <big>&#9474;</big> where
<i>count</i> is used as part of a modifier, it can be
positive or <big>&#9474;</big> negative, so
&ldquo;<i>base</i> &minus; &minus;3 lines&rdquo; is
perfectly valid (and equivalent to <big>&#9474;</big>
&ldquo;<i>base</i> +3lines&rdquo;).</p>

<p style="margin-left:11%; margin-top: 1em">The <i>base</i>
for an index must have one of the following forms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>line</i><b>.</b><i>char</i></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates <i>char</i>&rsquo;th character on line
<i>line</i>. Lines are numbered from 1 for consistency with
other UNIX programs that use this numbering scheme. Within a
line, characters are numbered from 0. If <i>char</i> is
<b>end</b> then it refers to the newline character that ends
the line.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>@</b><i>x</i><b>,</b><i>y</i></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the character that covers the pixel whose x
and y coordinates within the text&rsquo;s window are
<i>x</i> and <i>y</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>end</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the end of the text (the character just after
the last newline).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>mark</i></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the character just after the mark whose name
is <i>mark</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>tag</i><b>.first</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the first character in the text that has been
tagged with <i>tag</i>. This form generates an error if no
characters are currently tagged with <i>tag</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>tag</i><b>.last</b></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the character just after the last one in the
text that has been tagged with <i>tag</i>. This form
generates an error if no characters are currently tagged
with <i>tag</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>pathName</i></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the position of the embedded window whose name
is <i>pathName</i>. This form generates an error if there is
no embedded window by the given name.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><i>imageName</i></p></td>
<td width="4%"></td>
<td width="71%">


<p>Indicates the position of the embedded image whose name
is <i>imageName</i>. This form generates an error if there
is no embedded image by the given name.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If the
<i>base</i> could match more than one of the above forms,
such as a <i>mark</i> and <i>imageName</i> both having the
same value, then the form earlier in the above list takes
precedence. If modifiers follow the base index, each one of
them must have one of the forms listed below. Keywords such
as <b>chars</b> and <b>wordend</b> may be abbreviated as
long as the abbreviation is unambiguous. <b><br>
+</b> <i>count</i> ?<i>submodifier</i>? <b>chars</b></p>

<p style="margin-left:22%;">Adjust the index forward by
<i>count</i> characters, moving to later <big>&#9474;</big>
lines in the text if necessary. If there are fewer than
<i>count</i> <big>&#9474;</big> characters in the text after
the current index, then set the <big>&#9474;</big> index to
the last index in the text. Spaces on either side of
<big>&#9474;</big> <i>count</i> are optional. If the
<b>display</b> submodifier is given, elided
<big>&#9474;</big> characters are skipped over without being
counted. If <b>any</b> is <big>&#9474;</big> given, then all
characters are counted. For historical reasons,
<big>&#9474;</big> if neither modifier is given then the
count actually takes place <big>&#9474;</big> in units of
index positions (see <b>indices</b> for details). This
<big>&#9474;</big> behaviour may be changed in a future
major release, so if you <big>&#9474;</big> need an index
count, you are encouraged to use <b>indices</b> instead
<big>&#9474;</big> wherever possible.</p>

<p style="margin-left:11%;"><b>&minus;</b> <i>count</i>
?<i>submodifier</i>? <b>chars</b></p>

<p style="margin-left:22%;">Adjust the index backward by
<i>count</i> characters, moving to earlier lines in the text
if necessary. If there are fewer than <i>count</i>
characters in the text before the current index, then set
the index to the first index in the text (1.0). Spaces on
either <big>&#9474;</big> side of <i>count</i> are optional.
If the <b>display</b> submodifier is <big>&#9474;</big>
given, elided characters are skipped over without being
counted. <big>&#9474;</big> If <b>any</b> is given, then all
characters are counted. For <big>&#9474;</big> historical
reasons, if neither modifier is given then the count
<big>&#9474;</big> actually takes place in units of index
positions (see <b>indices</b> <big>&#9474;</big> for
details). This behaviour may be changed in a future major
<big>&#9474;</big> release, so if you need an index count,
you are encouraged to <big>&#9474;</big> use <b>indices</b>
instead wherever possible.</p>

<p style="margin-left:11%;"><b>+</b> <i>count</i>
?<i>submodifier</i>? <b>indices</b></p>

<p style="margin-left:22%;">Adjust the index forward by
<i>count</i> index positions, moving to <big>&#9474;</big>
later lines in the text if necessary. If there are fewer
than <big>&#9474;</big> <i>count</i> index positions in the
text after the current index, then <big>&#9474;</big> set
the index to the last index position in the text. Spaces on
<big>&#9474;</big> either side of <i>count</i> are optional.
Note that an index position <big>&#9474;</big> is either a
single character or a single embedded image or
<big>&#9474;</big> embedded window. If the <b>display</b>
submodifier is given, elided <big>&#9474;</big> indices are
skipped over without being counted. If <b>any</b> is
<big>&#9474;</big> given, then all indices are counted; this
is also the default <big>&#9474;</big> behaviour if no
modifier is given.</p>

<p style="margin-left:11%;"><b>&minus;</b> <i>count</i>
?<i>submodifier</i>? <b>indices</b></p>

<p style="margin-left:22%;">Adjust the index backward by
<i>count</i> index positions, moving to <big>&#9474;</big>
earlier lines in the text if necessary. If there are fewer
than <big>&#9474;</big> <i>count</i> index positions in the
text before the current index, then <big>&#9474;</big> set
the index to the first index position (1.0) in the text.
<big>&#9474;</big> Spaces on either side of <i>count</i> are
optional. If the <b>display</b> <big>&#9474;</big>
submodifier is given, elided indices are skipped over
without <big>&#9474;</big> being counted. If <b>any</b> is
given, then all indices are counted; <big>&#9474;</big> this
is also the default behaviour if no modifier is given.</p>

<p style="margin-left:11%;"><b>+</b> <i>count</i>
?<i>submodifier</i>? <b>lines</b></p>

<p style="margin-left:22%;">Adjust the index forward by
<i>count</i> lines, retaining the same <big>&#9474;</big>
character position within the line. If there are fewer than
<big>&#9474;</big> <i>count</i> lines after the line
containing the current index, then <big>&#9474;</big> set
the index to refer to the same character position on the
<big>&#9474;</big> last line of the text. Then, if the line
is not long enough to <big>&#9474;</big> contain a character
at the indicated character position, adjust
<big>&#9474;</big> the character position to refer to the
last character of the <big>&#9474;</big> line (the newline).
Spaces on either side of <i>count</i> are <big>&#9474;</big>
optional. If the <b>display</b> submodifier is given, then
each visual <big>&#9474;</big> display line is counted
separately. Otherwise, if <b>any</b> (or no
<big>&#9474;</big> modifier) is given, then each logical
line (no matter how many <big>&#9474;</big> times it is
visually wrapped) counts just once. If the relevant
<big>&#9474;</big> lines are not wrapped, then these two
methods of counting are <big>&#9474;</big> equivalent.</p>

<p style="margin-left:11%;"><b>&minus;</b> <i>count</i>
?<i>submodifier</i>? <b>lines</b></p>

<p style="margin-left:22%;">Adjust the index backward by
<i>count</i> logical lines, retaining the <big>&#9474;</big>
same character position within the line. If there are fewer
<big>&#9474;</big> than <i>count</i> lines before the line
containing the current index, <big>&#9474;</big> then set
the index to refer to the same character position on
<big>&#9474;</big> the first line of the text. Then, if the
line is not long <big>&#9474;</big> enough to contain a
character at the indicated character <big>&#9474;</big>
position, adjust the character position to refer to the last
<big>&#9474;</big> character of the line (the newline).
Spaces on either side of <big>&#9474;</big> <i>count</i> are
optional. If the <b>display</b> submodifier is given, then
<big>&#9474;</big> each visual display line is counted
separately. Otherwise, if <big>&#9474;</big> <b>any</b> (or
no modifier) is given, then each logical line (no matter
<big>&#9474;</big> how many times it is visually wrapped)
counts just once. If the <big>&#9474;</big> relevant lines
are not wrapped, then these two methods of
<big>&#9474;</big> counting are equivalent.</p>

<p style="margin-left:11%;">?<i>submodifier</i>?
<b>linestart</b></p>

<p style="margin-left:22%;">Adjust the index to refer to
the first index on the line. If <big>&#9474;</big> the
<b>display</b> submodifier is given, this is the first index
on the <big>&#9474;</big> display line, otherwise on the
logical line.</p>

<p style="margin-left:11%;">?<i>submodifier</i>?
<b>lineend</b></p>

<p style="margin-left:22%;">Adjust the index to refer to
the last index on the line (the <big>&#9474;</big> newline).
If the <b>display</b> submodifier is given, this is the last
<big>&#9474;</big> index on the display line, otherwise on
the logical line.</p>

<p style="margin-left:11%;">?<i>submodifier</i>?
<b>wordstart</b></p>

<p style="margin-left:22%;">Adjust the index to refer to
the first character of the word <big>&#9474;</big>
containing the current index. A word consists of any number
of <big>&#9474;</big> adjacent characters that are letters,
digits, or underscores, or <big>&#9474;</big> a single
character that is not one of these. If the <b>display</b>
<big>&#9474;</big> submodifier is given, this only examines
non-elided characters, <big>&#9474;</big> otherwise all
characters (elided or not) are examined.</p>

<p style="margin-left:11%;">?<i>submodifier</i>?
<b>wordend</b></p>

<p style="margin-left:22%;">Adjust the index to refer to
the character just after the last <big>&#9474;</big> one of
the word containing the current index. If the current
<big>&#9474;</big> index refers to the last character of the
text then it is not <big>&#9474;</big> modified. If the
<b>display</b> submodifier is given, this only
<big>&#9474;</big> examines non-elided characters, otherwise
all characters (elided <big>&#9474;</big> or not) are
examined. <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">If more than
one modifier is present then they are applied in
<big>&#9474;</big> left-to-right order. For example, the
index &ldquo;<b>end &minus; 1 chars</b>&rdquo; refers to
<big>&#9474;</big> the next-to-last character in the text
and &ldquo;<b>insert wordstart &minus; 1 c</b>&rdquo;
<big>&#9474;</big> refers to the character just before the
first one in the word <big>&#9474;</big> containing the
insertion cursor. Modifiers are applied one by one in
<big>&#9474;</big> this left to right order, and after each
step the resulting index is <big>&#9474;</big> constrained
to be a valid index in the text widget. So, for example,
<big>&#9474;</big> the index &ldquo;<b>1.0 &minus;1c
+1c</b>&rdquo; refers to the index &ldquo;<b>2.0</b>&rdquo;.
<big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">Where modifiers
result in index changes by display lines, display chars
<big>&#9474;</big> or display indices, and the <i>base</i>
refers to an index inside an elided <big>&#9474;</big> tag,
that base index is considered to be equivalent to the first
<big>&#9474;</big> following non-elided index.</p>

<h2>TAGS
<a name="TAGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The first form
of annotation in text widgets is a tag. A tag is a textual
string that is associated with some of the characters in a
text. Tags may contain arbitrary characters, but it is
probably best to avoid using the characters &ldquo; &rdquo;
(space), <b>+</b>, or <b>&minus;</b>: these characters have
special meaning in indices, so tags containing them cannot
be used as indices. There may be any number of tags
associated with characters in a text. Each tag may refer to
a single character, a range of characters, or several ranges
of characters. An individual character may have any number
of tags associated with it.</p>

<p style="margin-left:11%; margin-top: 1em">A priority
order is defined among tags, and this order is used in
implementing some of the tag-related functions described
below. When a tag is defined (by associating it with
characters or setting its display options or binding
commands to it), it is given a priority higher than any
existing tag. The priority order of tags may be redefined
using the &ldquo;<i>pathName</i> <b>tag raise</b>&rdquo; and
&ldquo;<i>pathName</i> <b>tag lower</b>&rdquo; widget
commands.</p>

<p style="margin-left:11%; margin-top: 1em">Tags serve
three purposes in text widgets. First, they control the way
information is displayed on the screen. By default,
characters are displayed as determined by the
<b>&minus;background</b>, <b>&minus;font</b>, and
<b>&minus;foreground</b> options for the text widget.
However, display options may be associated with individual
tags using the &ldquo;<i>pathName</i> <b>tag
configure</b>&rdquo; widget command. If a character has been
tagged, then the display options associated with the tag
override the default display style. The following options
are currently supported for tags: <b><br>
&minus;background</b> <i>color</i></p>

<p style="margin-left:22%;"><i>Color</i> specifies the
background color to use for characters associated with the
tag. It may have any of the forms accepted by
<b>Tk_GetColor</b>.</p>

<p style="margin-left:11%;"><b>&minus;bgstipple</b>
<i>bitmap</i></p>

<p style="margin-left:22%;"><i>Bitmap</i> specifies a
bitmap that is used as a stipple pattern for the background.
It may have any of the forms accepted by
<b>Tk_GetBitmap</b>. If <i>bitmap</i> has not been
specified, or if it is specified as an empty string, then a
solid fill will be used for the background.</p>

<p style="margin-left:11%;"><b>&minus;borderwidth</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies the
width of a 3-D border to draw around the background. It may
have any of the forms accepted by <b>Tk_GetPixels</b>. This
option is used in conjunction with the <b>&minus;relief</b>
option to give a 3-D appearance to the background for
characters; it is ignored unless the
<b>&minus;background</b> option has been set for the
tag.</p>

<p style="margin-left:11%;"><b>&minus;elide</b>
<i>boolean</i></p>

<p style="margin-left:22%;"><i>Elide</i> specifies whether
the data should be elided. Elided data (characters, images,
embedded windows, etc) is not displayed and takes no space
on screen, but further on behaves just as normal data.</p>

<p style="margin-left:11%;"><b>&minus;fgstipple</b>
<i>bitmap</i></p>

<p style="margin-left:22%;"><i>Bitmap</i> specifies a
bitmap that is used as a stipple pattern when drawing text
and other foreground information such as underlines. It may
have any of the forms accepted by <b>Tk_GetBitmap</b>. If
<i>bitmap</i> has not been specified, or if it is specified
as an empty string, then a solid fill will be used.</p>

<p style="margin-left:11%;"><b>&minus;font</b>
<i>fontName</i></p>

<p style="margin-left:22%;"><i>FontName</i> is the name of
a font to use for drawing characters. It may have any of the
forms accepted by <b>Tk_GetFont</b>.</p>

<p style="margin-left:11%;"><b>&minus;foreground</b>
<i>color</i></p>

<p style="margin-left:22%;"><i>Color</i> specifies the
color to use when drawing text and other foreground
information such as underlines. It may have any of the forms
accepted by <b>Tk_GetColor</b>.</p>

<p style="margin-left:11%;"><b>&minus;justify</b>
<i>justify</i></p>

<p style="margin-left:22%;">If the first non-elided
character of a display line has a tag for which this option
has been specified, then <i>justify</i> determines how to
justify the line. It must be one of <b>left</b>,
<b>right</b>, or <b>center</b>. If a line wraps, then the
justification for each line on the display is determined by
the first non-elided character of that display line.</p>

<p style="margin-left:11%;"><b>&minus;lmargin1</b>
<i>pixels</i></p>

<p style="margin-left:22%;">If the first non-elided
character of a text line has a tag for which this option has
been specified, then <i>pixels</i> specifies how much the
line should be indented from the left edge of the window.
<i>Pixels</i> may have any of the standard forms for screen
distances. If a line of text wraps, this option only applies
to the first line on the display; the <b>&minus;lmargin2</b>
option controls the indentation for subsequent lines.</p>

<p style="margin-left:11%;"><b>&minus;lmargin2</b>
<i>pixels</i></p>

<p style="margin-left:22%;">If the first non-elided
character of a display line has a tag for which this option
has been specified, and if the display line is not the first
for its text line (i.e., the text line has wrapped), then
<i>pixels</i> specifies how much the line should be indented
from the left edge of the window. <i>Pixels</i> may have any
of the standard forms for screen distances. This option is
only used when wrapping is enabled, and it only applies to
the second and later display lines for a text line.</p>

<p style="margin-left:11%;"><b>&minus;offset</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies an
amount by which the text&rsquo;s baseline should be offset
vertically from the baseline of the overall line, in pixels.
For example, a positive offset can be used for superscripts
and a negative offset can be used for subscripts.
<i>Pixels</i> may have any of the standard forms for screen
distances.</p>

<p style="margin-left:11%;"><b>&minus;overstrike</b>
<i>boolean</i></p>

<p style="margin-left:22%;">Specifies whether or not to
draw a horizontal rule through the middle of characters.
<i>Boolean</i> may have any of the forms accepted by
<b>Tcl_GetBoolean</b>.</p>

<p style="margin-left:11%;"><b>&minus;relief</b>
<i>relief</i></p>

<p style="margin-left:22%;"><i>Relief</i> specifies the 3-D
relief to use for drawing backgrounds, in any of the forms
accepted by <b>Tk_GetRelief</b>. This option is used in
conjunction with the <b>&minus;borderwidth</b> option to
give a 3-D appearance to the background for characters; it
is ignored unless the <b>&minus;background</b> option has
been set for the tag.</p>

<p style="margin-left:11%;"><b>&minus;rmargin</b>
<i>pixels</i></p>

<p style="margin-left:22%;">If the first non-elided
character of a display line has a tag for which this option
has been specified, then <i>pixels</i> specifies how wide a
margin to leave between the end of the line and the right
edge of the window. <i>Pixels</i> may have any of the
standard forms for screen distances. This option is only
used when wrapping is enabled. If a text line wraps, the
right margin for each line on the display is determined by
the first non-elided character of that display line.</p>

<p style="margin-left:11%;"><b>&minus;spacing1</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies how
much additional space should be left above each text line,
using any of the standard forms for screen distances. If a
line wraps, this option only applies to the first line on
the display.</p>

<p style="margin-left:11%;"><b>&minus;spacing2</b>
<i>pixels</i></p>

<p style="margin-left:22%;">For lines that wrap, this
option specifies how much additional space to leave between
the display lines for a single text line. <i>Pixels</i> may
have any of the standard forms for screen distances.</p>

<p style="margin-left:11%;"><b>&minus;spacing3</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies how
much additional space should be left below each text line,
using any of the standard forms for screen distances. If a
line wraps, this option only applies to the last line on the
display.</p>

<p style="margin-left:11%;"><b>&minus;tabs</b>
<i>tabList</i></p>

<p style="margin-left:22%;"><i>TabList</i> specifies a set
of tab stops in the same form as for the <b>&minus;tabs</b>
option for the text widget. This option only applies to a
display line if it applies to the first non-elided character
on that display line. If this option is specified as an
empty string, it cancels the option, leaving it unspecified
for the tag (the default). If the option is specified as a
non-empty string that is an empty list, such as
<b>&minus;tags { }</b>, then it requests default 8-character
tabs as described for the <b>&minus;tags</b> widget
option.</p>

<p style="margin-left:11%;"><b>&minus;tabstyle</b>
<i>style</i></p>

<p style="margin-left:22%;"><i>Style</i> specifies either
the <i>tabular</i> or <i>wordprocessor</i> style of tabbing
to use for the text widget. This option only applies to a
display line if it applies to the first non-elided character
on that display line. If this option is specified as an
empty string, it cancels the option, leaving it unspecified
for the tag (the default).</p>

<p style="margin-left:11%;"><b>&minus;underline</b>
<i>boolean</i></p>

<p style="margin-left:22%;"><i>Boolean</i> specifies
whether or not to draw an underline underneath characters.
It may have any of the forms accepted by
<b>Tcl_GetBoolean</b>.</p>

<p style="margin-left:11%;"><b>&minus;wrap</b>
<i>mode</i></p>

<p style="margin-left:22%;"><i>Mode</i> specifies how to
handle lines that are wider than the text&rsquo;s window. It
has the same legal values as the <b>&minus;wrap</b> option
for the text widget: <b>none</b>, <b>char</b>, or
<b>word</b>. If this tag option is specified, it overrides
the <b>&minus;wrap</b> option for the text widget.</p>

<p style="margin-left:11%; margin-top: 1em">If a character
has several tags associated with it, and if their display
options conflict, then the options of the highest priority
tag are used. If a particular display option has not been
specified for a particular tag, or if it is specified as an
empty string, then that option will never be used; the
next-highest-priority tag&rsquo;s option will used instead.
If no tag specifies a particular display option, then the
default style for the widget will be used.</p>

<p style="margin-left:11%; margin-top: 1em">The second
purpose for tags is event bindings. You can associate
bindings with a tag in much the same way you can associate
bindings with a widget class: whenever particular X events
occur on characters with the given tag, a given Tcl command
will be executed. Tag bindings can be used to give behaviors
to ranges of characters; among other things, this allows
hypertext-like features to be implemented. For details, see
the description of the &ldquo;<i>pathName</i> <b>tag
bind</b>&rdquo; widget command below. Tag bindings are
shared between all peer widgets (including any
<big>&#9474;</big> bindings for the special <b>sel</b>
tag).</p>

<p style="margin-left:11%; margin-top: 1em">The third use
for tags is in managing the selection. See <b>THE
SELECTION</b> below. With the exception of the special
<b>sel</b> tag, all tags are shared <big>&#9474;</big>
between peer text widgets, and may be manipulated on an
equal basis <big>&#9474;</big> from any such widget. The
<b>sel</b> tag exists separately and independently
<big>&#9474;</big> in each peer text widget (but any tag
bindings to <b>sel</b> are shared).</p>

<h2>MARKS
<a name="MARKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The second form
of annotation in text widgets is a mark. Marks are used for
remembering particular places in a text. They are something
like tags, in that they have names and they refer to places
in the file, but a mark is not associated with particular
characters. Instead, a mark is associated with the gap
between two characters. Only a single position may be
associated with a mark at any given time. If the characters
around a mark are deleted the mark will still remain; it
will just have new neighbor characters. In contrast, if the
characters containing a tag are deleted then the tag will no
longer have an association with characters in the file.
Marks may be manipulated with the &ldquo;<i>pathName</i>
<b>mark</b>&rdquo; widget command, and their current
locations may be determined by using the mark name as an
index in widget commands.</p>

<p style="margin-left:11%; margin-top: 1em">Each mark also
has a &ldquo;gravity&rdquo;, which is either <b>left</b> or
<b>right</b>. The gravity for a mark specifies what happens
to the mark when text is inserted at the point of the mark.
If a mark has left gravity, then the mark is treated as if
it were attached to the character on its left, so the mark
will remain to the left of any text inserted at the mark
position. If the mark has right gravity, new text inserted
at the mark position will appear to the left of the mark (so
that the mark remains rightmost). The gravity for a mark
defaults to <b>right</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The name space
for marks is different from that for tags: the same name may
be used for both a mark and a tag, but they will refer to
different things.</p>

<p style="margin-left:11%; margin-top: 1em">Two marks have
special significance. First, the mark <b>insert</b> is
associated with the insertion cursor, as described under
<b>THE INSERTION CURSOR</b> below. Second, the mark
<b>current</b> is associated with the character closest to
the mouse and is adjusted automatically to track the mouse
position and any changes to the text in the widget (one
exception: <b>current</b> is not updated in response to
mouse motions if a mouse button is down; the update will be
deferred until all mouse buttons have been released).
Neither of these special marks may be deleted. With the
exception of these two special marks, all marks are
<big>&#9474;</big> shared between peer text widgets, and may
be manipulated on an equal <big>&#9474;</big> basis from any
peer.</p>

<h2>EMBEDDED WINDOWS
<a name="EMBEDDED WINDOWS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The third form
of annotation in text widgets is an embedded window. Each
embedded window annotation causes a window to be displayed
at a particular point in the text. There may be any number
of embedded windows in a text widget, and any widget may be
used as an embedded window (subject to the usual rules for
geometry management, which require the text window to be the
parent of the embedded window or a descendant of its
parent). The embedded window&rsquo;s position on the screen
will be updated as the text is modified or scrolled, and it
will be mapped and unmapped as it moves into and out of the
visible area of the text widget. Each embedded window
occupies one unit&rsquo;s worth of <big>&#9474;</big> index
space in the text widget, and it may be referred to either
by the name of its embedded window or by its position in the
widget&rsquo;s index space. If the range of text containing
the embedded window is deleted then the window is destroyed.
Similarly if the text widget as a whole <big>&#9474;</big>
is deleted, then the window is destroyed.</p>

<p style="margin-left:11%; margin-top: 1em">When an
embedded window is added to a text widget with the
<i>pathName</i> <b>window create</b> widget command, several
configuration options may be associated with it. These
options may be modified later with the <i>pathName</i>
<b>window configure</b> widget command. The following
options are currently supported: <b><br>
&minus;align</b> <i>where</i></p>

<p style="margin-left:22%;">If the window is not as tall as
the line in which it is displayed, this option determines
where the window is displayed in the line. <i>Where</i> must
have one of the values <b>top</b> (align the top of the
window with the top of the line), <b>center</b> (center the
window within the range of the line), <b>bottom</b> (align
the bottom of the window with the bottom of the line&rsquo;s
area), or <b>baseline</b> (align the bottom of the window
with the baseline of the line).</p>

<p style="margin-left:11%;"><b>&minus;create</b>
<i>script</i></p>

<p style="margin-left:22%;">Specifies a Tcl script that may
be evaluated to create the window for the annotation. If no
<b>&minus;window</b> option has been specified for the
annotation this script will be evaluated when the annotation
is about to be displayed on the screen. <i>Script</i> must
create a window for the annotation and return the name of
that window as its result. Two substitutions will be
performed <big>&#9474;</big> in <i>script</i> before
evaluation. <i>%W</i> will be substituted by the name
<big>&#9474;</big> of the parent text widget, and <i>%%</i>
will be substituted by a <big>&#9474;</big> single <i>%</i>.
If the annotation&rsquo;s window should ever be deleted,
<i>script</i> will be evaluated again the next time the
annotation is displayed.</p>

<p style="margin-left:11%;"><b>&minus;padx</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies the
amount of extra space to leave on each side of the embedded
window. It may have any of the usual forms defined for a
screen distance.</p>

<p style="margin-left:11%;"><b>&minus;pady</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies the
amount of extra space to leave on the top and on the bottom
of the embedded window. It may have any of the usual forms
defined for a screen distance.</p>

<p style="margin-left:11%;"><b>&minus;stretch</b>
<i>boolean</i></p>

<p style="margin-left:22%;">If the requested height of the
embedded window is less than the height of the line in which
it is displayed, this option can be used to specify whether
the window should be stretched vertically to fill its line.
If the <b>&minus;pady</b> option has been specified as well,
then the requested padding will be retained even if the
window is stretched.</p>

<p style="margin-left:11%;"><b>&minus;window</b>
<i>pathName</i></p>

<p style="margin-left:22%;">Specifies the name of a window
to display in the annotation. <big>&#9474;</big> Note that
if a <i>pathName</i> has been set, then later configuring a
<big>&#9474;</big> window to the empty string will not
delete the widget <big>&#9474;</big> corresponding to the
old <i>pathName</i>. Rather it will remove the
<big>&#9474;</big> association between the old
<i>pathName</i> and the text widget. If <big>&#9474;</big>
multiple peer widgets are in use, it is usually simpler to
use <big>&#9474;</big> the <b>&minus;create</b> option if
embedded windows are desired in each peer.</p>

<h2>EMBEDDED IMAGES
<a name="EMBEDDED IMAGES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The final form
of annotation in text widgets is an embedded image. Each
embedded image annotation causes an image to be displayed at
a particular point in the text. There may be any number of
embedded images in a text widget, and a particular image may
be embedded in multiple places in the same text widget. The
embedded image&rsquo;s position on the screen will be
updated as the text is modified or scrolled. Each embedded
image occupies one unit&rsquo;s worth of index space in the
<big>&#9474;</big> text widget, and it may be referred to
either by its position in the widget&rsquo;s index space, or
the name it is assigned when the image is inserted into the
text widget with <i>pathName</i> <b>image create</b>. If the
range of text containing the embedded image is deleted then
that copy of the image is removed from the screen.</p>

<p style="margin-left:11%; margin-top: 1em">When an
embedded image is added to a text widget with the
<i>pathName</i> <b>image create</b> widget command, a name
unique to this instance of the image is returned. This name
may then be used to refer to this image instance. The name
is taken to be the value of the <b>&minus;name</b> option
(described below). If the <b>&minus;name</b> option is not
provided, the <b>&minus;image</b> name is used instead. If
the <i>imageName</i> is already in use in the text widget,
then <b>#</b><i>nn</i> is added to the end of the
<i>imageName</i>, where <i>nn</i> is an arbitrary integer.
This insures the <i>imageName</i> is unique. Once this name
is assigned to this instance of the image, it does not
change, even though the <b>&minus;image</b> or
<b>&minus;name</b> values can be changed with
<i>pathName</i> <b>image configure</b>.</p>

<p style="margin-left:11%; margin-top: 1em">When an
embedded image is added to a text widget with the
<i>pathName</i> <b>image create</b> widget command, several
configuration options may be associated with it. These
options may be modified later with the <i>pathName</i>
<b>image configure</b> widget command. The following options
are currently supported: <b><br>
&minus;align</b> <i>where</i></p>

<p style="margin-left:22%;">If the image is not as tall as
the line in which it is displayed, this option determines
where the image is displayed in the line. <i>Where</i> must
have one of the values <b>top</b> (align the top of the
image with the top of the line), <b>center</b> (center the
image within the range of the line), <b>bottom</b> (align
the bottom of the image with the bottom of the line&rsquo;s
area), or <b>baseline</b> (align the bottom of the image
with the baseline of the line).</p>

<p style="margin-left:11%;"><b>&minus;image</b>
<i>image</i></p>

<p style="margin-left:22%;">Specifies the name of the Tk
image to display in the annotation. If <i>image</i> is not a
valid Tk image, then an error is returned.</p>

<p style="margin-left:11%;"><b>&minus;name</b>
<i>ImageName</i></p>

<p style="margin-left:22%;">Specifies the name by which
this image instance may be referenced in the text widget. If
<i>ImageName</i> is not supplied, then the name of the Tk
image is used instead. If the <i>imageName</i> is already in
use, <i>#nn</i> is appended to the end of the name as
described above.</p>

<p style="margin-left:11%;"><b>&minus;padx</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies the
amount of extra space to leave on each side of the embedded
image. It may have any of the usual forms defined for a
screen distance.</p>

<p style="margin-left:11%;"><b>&minus;pady</b>
<i>pixels</i></p>

<p style="margin-left:22%;"><i>Pixels</i> specifies the
amount of extra space to leave on the top and on the bottom
of the embedded image. It may have any of the usual forms
defined for a screen distance.</p>

<h2>THE SELECTION
<a name="THE SELECTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Selection
support is implemented via tags. If the
<b>exportSelection</b> option for the text widget is true
then the <b>sel</b> tag will be associated with the
selection:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[1]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Whenever characters are tagged with <b>sel</b> the text
widget will claim ownership of the selection.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[2]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Attempts to retrieve the selection will be serviced by
the text widget, returning all the characters with the
<b>sel</b> tag.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[3]</p></td>
<td width="7%"></td>
<td width="78%">


<p>If the selection is claimed away by another application
or by another window within this application, then the
<b>sel</b> tag will be removed from all characters in the
text.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>[4]</p></td>
<td width="7%"></td>
<td width="78%">


<p>Whenever the <b>sel</b> tag range changes a virtual
event <b>&lt;&lt;Selection&gt;&gt;</b> is generated.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The <b>sel</b>
tag is automatically defined when a text widget is created,
and it may not be deleted with the &ldquo;<i>pathName</i>
<b>tag delete</b>&rdquo; widget command. Furthermore, the
<b>selectBackground</b>, <b>selectBorderWidth</b>, and
<b>selectForeground</b> options for the text widget are tied
to the <b>&minus;background</b>, <b>&minus;borderwidth</b>,
and <b>&minus;foreground</b> options for the <b>sel</b> tag:
changes in either will automatically be reflected in the
other. Also <big>&#9474;</big> the
<b>&minus;inactiveselectbackground</b> option for the text
widget is used <big>&#9474;</big> instead of
<b>&minus;selectbackground</b> when the text widget does not
have the <big>&#9474;</big> focus. This allows programmatic
control over the visualization of the <big>&#9474;</big>
<b>sel</b> tag for foreground and background windows, or to
have <b>sel</b> not shown <big>&#9474;</big> at all (when
<b>&minus;inactiveselectbackground</b> is empty) for
background <big>&#9474;</big> windows. Each peer text widget
has its own <b>sel</b> tag which can be <big>&#9474;</big>
separately configured and set.</p>

<h2>THE INSERTION CURSOR
<a name="THE INSERTION CURSOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The mark named
<b>insert</b> has special significance in text widgets. It
is defined automatically when a text widget is created and
it may not be unset with the &ldquo;<i>pathName</i> <b>mark
unset</b>&rdquo; widget command. The <b>insert</b> mark
represents the position of the insertion cursor, and the
insertion cursor will automatically be drawn at this point
whenever the text widget has the input focus.</p>

<h2>THE MODIFIED FLAG
<a name="THE MODIFIED FLAG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The text widget
can keep track of changes to the content of the widget by
means of the modified flag. Inserting or deleting text will
set this flag. The flag can be queried, set and cleared
programmatically as well. Whenever the flag changes state a
<b>&lt;&lt;Modified&gt;&gt;</b> virtual event is generated.
See the <i>pathName</i> <b>edit modified</b> widget command
for more details.</p>

<h2>THE UNDO MECHANISM
<a name="THE UNDO MECHANISM"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The text widget
has an unlimited undo and redo mechanism (when the
<b>&minus;undo</b> widget option is true) which records
every insert and delete action on a stack.</p>

<p style="margin-left:11%; margin-top: 1em">Boundaries
(called &ldquo;separators&rdquo;) are inserted between edit
actions. The purpose of these separators is to group
inserts, deletes and replaces into one compound edit action.
When undoing a change everything between two separators will
be undone. The undone changes are then moved to the redo
stack, so that an undone edit can be redone again. The redo
stack is cleared whenever new edit actions are recorded on
the undo stack. The undo and redo stacks can be cleared to
keep their depth under control.</p>

<p style="margin-left:11%; margin-top: 1em">Separators are
inserted automatically when the <b>&minus;autoseparators</b>
widget option is true. You can insert separators
programmatically as well. If a separator is already present
at the top of the undo stack no other will be inserted. That
means that two separators on the undo stack are always
separated by at least one insert or delete action.</p>

<p style="margin-left:11%; margin-top: 1em">The undo
mechanism is also linked to the modified flag. This means
that undoing or redoing changes can take a modified text
widget back to the unmodified state or vice versa. The
modified flag will be set automatically to the appropriate
state. This automatic coupling does not work when the
modified flag has been set by the user, until the flag has
been reset again.</p>

<p style="margin-left:11%; margin-top: 1em">See below for
the <i>pathName</i> <b>edit</b> widget command that controls
the undo mechanism.</p>

<h2>PEER WIDGETS
<a name="PEER WIDGETS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The text widget
has a separate store of all its data concerning each
<big>&#9474;</big> line&rsquo;s textual contents, marks,
tags, images and windows, and the undo <big>&#9474;</big>
stack. <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">While this data
store cannot be accessed directly (i.e. without a text
<big>&#9474;</big> widget as an intermediary), multiple text
widgets can be created, each <big>&#9474;</big> of which
present different views on the same underlying data. Such
<big>&#9474;</big> text widgets are known as peer text
widgets. <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">As text is
added, deleted, edited and coloured in any one widget, and
<big>&#9474;</big> as images, marks, tags are adjusted, all
such changes will be reflected <big>&#9474;</big> in all
peers. <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">All data and
markup is shared, except for a few small details. First,
<big>&#9474;</big> the <b>sel</b> tag may be set and
configured (in its display style) <big>&#9474;</big>
differently for each peer. Second, each peer has its own
<b>insert</b> and <big>&#9474;</big> <b>current</b> mark
positions (but all other marks are shared). Third,
<big>&#9474;</big> embedded windows, which are arbitrary
other widgets, cannot be shared <big>&#9474;</big> between
peers. This means the <b>&minus;window</b> option of
embedded windows is <big>&#9474;</big> independently set for
each peer (it is advisable to use the <b>&minus;create</b>
<big>&#9474;</big> script capabilities to allow each peer to
create its own embedded <big>&#9474;</big> windows as
needed). Fourth, all of the configuration options of each
<big>&#9474;</big> peer (e.g. <b>&minus;font</b>, etc) can
be set independently, with the exception of
<big>&#9474;</big> <b>&minus;undo</b>,
<b>&minus;maxUndo</b>, <b>&minus;autoSeparators</b> (i.e.
all undo, redo and modified <big>&#9474;</big> state issues
are shared). <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">Finally any
single peer need not contain all lines from the underlying
<big>&#9474;</big> data store. When creating a peer, a
contiguous range of lines (e.g. <big>&#9474;</big> only
lines 52 through 125) may be specified. This allows a peer
to <big>&#9474;</big> contain just a small portion of the
overall text. The range of lines <big>&#9474;</big> will
expand and contract as text is inserted or deleted. The peer
will <big>&#9474;</big> only ever display complete lines of
text (one cannot share just part of <big>&#9474;</big> a
line). If the peer&rsquo;s contents contracts to nothing
(i.e. all <big>&#9474;</big> complete lines in the peer
widget have been deleted from another <big>&#9474;</big>
widget), then it is impossible for new lines to be inserted.
The peer <big>&#9474;</big> will simply become an empty
shell on which the background can be <big>&#9474;</big>
configured, but which will never show any content (without
manual <big>&#9474;</big> reconfiguration of the start and
end lines). Note that a peer which <big>&#9474;</big> does
not contain all of the underlying data store still has
indices <big>&#9474;</big> numbered from &ldquo;1.0&rdquo;
to &ldquo;end&rdquo;. It is simply that those indices
reflect <big>&#9474;</big> a subset of the total data, and
data outside the contained range is not <big>&#9474;</big>
accessible to the peer. This means that the command
<i>peerName</i> <b>index end</b> <big>&#9474;</big> may
return quite different values in different peers. Similarly,
<big>&#9474;</big> commands like <i>peerName</i> <b>tag
ranges</b> will not return index ranges outside
<big>&#9474;</big> that which is meaningful to the peer. The
configuration options <big>&#9474;</big>
<b>&minus;startline</b> and <b>&minus;endline</b> may be
used to control how much of the <big>&#9474;</big>
underlying data is contained in any given text widget.
<big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">Note that peers
are really peers. Deleting the &ldquo;original&rdquo; text
widget <big>&#9474;</big> will not cause any other peers to
be deleted, or otherwise affected. <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">See below for
the <i>pathName</i> <b>peer</b> widget command that controls
the <big>&#9474;</big> creation of peer widgets.</p>

<h2>WIDGET COMMAND
<a name="WIDGET COMMAND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>text</b>
command creates a new Tcl command whose name is the same as
the path name of the text&rsquo;s window. This command may
be used to invoke various operations on the widget. It has
the following general form:</p>

<p style="margin-left:22%;"><i>pathName option</i> ?<i>arg
arg ...</i>?</p>

<p style="margin-left:11%;"><i>PathName</i> is the name of
the command, which is the same as the text widget&rsquo;s
path name. <i>Option</i> and the <i>arg</i>s determine the
exact behavior of the command. The following commands are
possible for text widgets: <i><br>
pathName</i> <b>bbox</b> <i>index</i></p>

<p style="margin-left:22%;">Returns a list of four elements
describing the screen area of the character given by
<i>index</i>. The first two elements of the list give the x
and y coordinates of the upper-left corner of the area
occupied by the character, and the last two elements give
the width and height of the area. If the character is only
partially visible on the screen, then the return value
reflects just the visible part. If the character is not
visible on the screen then the return value is an empty
list.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>cget</b>
<i>option</i></p>

<p style="margin-left:22%;">Returns the current value of
the configuration option given by <i>option</i>.
<i>Option</i> may have any of the values accepted by the
<b>text</b> command.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>compare</b>
<i>index1 op index2</i></p>

<p style="margin-left:22%;">Compares the indices given by
<i>index1</i> and <i>index2</i> according to the relational
operator given by <i>op</i>, and returns 1 if the
relationship is satisfied and 0 if it is not. <i>Op</i> must
be one of the operators &lt;, &lt;=, ==, &gt;=, &gt;, or !=.
If <i>op</i> is == then 1 is returned if the two indices
refer to the same character, if <i>op</i> is &lt; then 1 is
returned if <i>index1</i> refers to an earlier character in
the text than <i>index2</i>, and so on.</p>

<p style="margin-left:11%;"><i>pathName</i>
<b>configure</b> ?<i>option</i>? <i>?value option value
...</i>?</p>

<p style="margin-left:22%;">Query or modify the
configuration options of the widget. If no <i>option</i> is
specified, returns a list describing all of the available
options for <i>pathName</i> (see <b>Tk_ConfigureInfo</b> for
information on the format of this list). If <i>option</i> is
specified with no <i>value</i>, then the command returns a
list describing the one named option (this list will be
identical to the corresponding sublist of the value returned
if no <i>option</i> is specified). If one or more
<i>option&minus;value</i> pairs are specified, then the
command modifies the given widget option(s) to have the
given value(s); in this case the command returns an empty
string. <i>Option</i> may have any of the values accepted by
the <b>text</b> command. <big>&#9474;</big></p>

<p style="margin-left:11%;"><i>pathName</i> <b>count</b>
<i>?options</i>? <i>index1 index2</i> <big>&#9474;</big></p>

<p style="margin-left:22%;">Counts the number of relevant
things between the two indices. <big>&#9474;</big> If
<i>index1</i> is after <i>index2</i>, the result will be a
negative number <big>&#9474;</big> (and this holds for each
of the possible options). The actual <big>&#9474;</big>
items which are counted depend on the options given. The
result <big>&#9474;</big> is a list of integers, one for the
result of each counting <big>&#9474;</big> option given.
Valid counting options are <b>&minus;chars</b>,
<b>&minus;displaychars</b>, <big>&#9474;</big>
<b>&minus;displayindices</b>, <b>&minus;displaylines</b>,
<b>&minus;indices</b>, <b>&minus;lines</b>,
<b>&minus;xpixels</b> and <big>&#9474;</big>
<b>&minus;ypixels</b>. The default value, if no option is
specified, is <big>&#9474;</big> <b>&minus;indices</b>.
There is an additional possible option <b>&minus;update</b>
which <big>&#9474;</big> is a modifier. If given, then all
subsequent options ensure <big>&#9474;</big> that any
possible out of date information is recalculated. This
<big>&#9474;</big> currently only has any effect for the
<i>&minus;ypixels</i> count (which, if <big>&#9474;</big>
<b>&minus;update</b> is not given, will use the text
widget&rsquo;s current cached <big>&#9474;</big> value for
each line). The count options are interpreted as
<big>&#9474;</big> follows: <big>&#9474;</big> <b><br>
&minus;chars</b> <big>&#9474;</big></p>

<p style="margin-left:32%;">count all characters, whether
elided or not. Do not <big>&#9474;</big> count embedded
windows or images. <big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;displaychars</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count all non-elided
characters. <big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;displayindices</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count all non-elided
characters, windows and images. <big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;displaylines</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count all display lines (i.e.
counting one for each time <big>&#9474;</big> a line wraps)
from the line of the first index up to, but
<big>&#9474;</big> not including the display line of the
second index. <big>&#9474;</big> Therefore if they are both
on the same display line, zero <big>&#9474;</big> will be
returned. By definition displaylines are visible
<big>&#9474;</big> and therefore this only counts portions
of actual visible <big>&#9474;</big> lines.
<big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;indices</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count all characters and
embedded windows or images (i.e. <big>&#9474;</big>
everything which counts in text-widget index space),
<big>&#9474;</big> whether they are elided or not.
<big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;lines</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count all logical lines
(irrespective of wrapping) from <big>&#9474;</big> the line
of the first index up to, but not including the
<big>&#9474;</big> line of the second index. Therefore if
they are both on <big>&#9474;</big> the same line, zero will
be returned. Logical lines are <big>&#9474;</big> counted
whether they are currently visible (non-elided)
<big>&#9474;</big> or not. <big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;xpixels</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count the number of horizontal
pixels from the first <big>&#9474;</big> pixel of the first
index to (but not including) the first <big>&#9474;</big>
pixel of the second index. To count the total desired
<big>&#9474;</big> width of the text widget (assuming
wrapping is not <big>&#9474;</big> enabled), first find the
longest line and then use &ldquo;.text <big>&#9474;</big>
count &minus;xpixels &quot;${line}.0&quot; &quot;${line}.0
lineend&quot;&rdquo;. <big>&#9474;</big></p>

<p style="margin-left:22%;"><b>&minus;ypixels</b>
<big>&#9474;</big></p>

<p style="margin-left:32%;">count the number of vertical
pixels from the first pixel <big>&#9474;</big> of the first
index to (but not including) the first pixel
<big>&#9474;</big> of the second index. If both indices are
on the same <big>&#9474;</big> display line, zero will be
returned. To count the total <big>&#9474;</big> number of
vertical pixels in the text widget, use &ldquo;.text
<big>&#9474;</big> count &minus;ypixels 1.0 end&rdquo;, and
to ensure this is up to <big>&#9474;</big> date, use
&ldquo;.text count &minus;update &minus;ypixels 1.0
end&rdquo;. <big>&#9474;</big></p>

<p style="margin-left:22%; margin-top: 1em">The command
returns a positive or negative integer corresponding
<big>&#9474;</big> to the number of items counted between
the two indices. One <big>&#9474;</big> such integer is
returned for each counting option given, so a
<big>&#9474;</big> list is returned if more than one option
was supplied. For <big>&#9474;</big> example &ldquo;.text
count &minus;xpixels &minus;ypixels 1.3 4.5&rdquo; is
perfectly <big>&#9474;</big> valid and will return a list of
two elements. <big>&#9474;</big></p>

<p style="margin-left:11%;"><i>pathName</i> <b>debug</b>
?<i>boolean</i>?</p>

<p style="margin-left:22%;">If <i>boolean</i> is specified,
then it must have one of the true or false values accepted
by Tcl_GetBoolean. If the value is a true one then internal
consistency checks will be turned on in the B-tree code
associated with text widgets. If <i>boolean</i> has a false
value then the debugging checks will be turned off. In
either case the command returns an empty string. If
<i>boolean</i> is not specified then the command returns
<b>on</b> or <b>off</b> to indicate whether or not debugging
is turned on. There is a single debugging switch shared by
all text widgets: turning debugging on or off in any widget
turns it on or off for all widgets. For widgets with large
amounts of text, the consistency checks may cause a
noticeable slow-down.</p>

<p style="margin-left:22%; margin-top: 1em">When debugging
is turned on, the drawing routines of the text widget set
the global variables <b>tk_textRedraw</b> and
<b>tk_textRelayout</b> to the lists of indices that are
redrawn. The values of these variables are tested by
Tk&rsquo;s test suite.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>delete</b>
<i>index1</i> ?<i>index2 ...</i>?</p>

<p style="margin-left:22%;">Delete a range of characters
from the text. If both <i>index1</i> and <i>index2</i> are
specified, then delete all the characters starting with the
one given by <i>index1</i> and stopping just before
<i>index2</i> (i.e. the character at <i>index2</i> is not
deleted). If <i>index2</i> does not specify a position later
in the text than <i>index1</i> then no characters are
deleted. If <i>index2</i> is not specified then the single
character at <i>index1</i> is deleted. It is not allowable
to delete characters in a way that would leave the text
without a newline as the last character. The command returns
an empty string. If more indices are given, multiple ranges
of text will be deleted. All indices are first checked for
validity before any deletions are made. They are sorted and
the text is removed from the last range to the first range
so deleted text does not cause an undesired index shifting
side-effects. If multiple ranges with the same start index
are given, then the longest range is used. If overlapping
ranges are given, then they will be merged into spans that
do not cause deletion of text outside the given ranges due
to text shifted during deletion.</p>

<p style="margin-left:11%;"><i>pathName</i>
<b>dlineinfo</b> <i>index</i></p>

<p style="margin-left:22%;">Returns a list with five
elements describing the area occupied by the display line
containing <i>index</i>. The first two elements of the list
give the x and y coordinates of the upper-left corner of the
area occupied by the line, the third and fourth elements
give the width and height of the area, and the fifth element
gives the position of the baseline for the line, measured
down from the top of the area. All of this information is
measured in pixels. If the current wrap mode is <b>none</b>
and the line extends beyond the boundaries of the window,
the area returned reflects the entire area of the line,
including the portions that are out of the window. If the
line is shorter than the full width of the window then the
area returned reflects just the portion of the line that is
occupied by characters and embedded windows. If the display
line containing <i>index</i> is not visible on the screen
then the return value is an empty list.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>dump</b>
?<i>switches</i>? <i>index1</i> ?<i>index2</i>?</p>

<p style="margin-left:22%;">Return the contents of the text
widget from <i>index1</i> up to, but not including
<i>index2</i>, including the text and information about
marks, tags, and embedded windows. If <i>index2</i> is not
specified, then it defaults to one character past
<i>index1</i>. The information is returned in the following
format:</p>

<p style="margin-left:22%; margin-top: 1em"><i>key1 value1
index1 key2 value2 index2</i> ...</p>

<p style="margin-left:22%; margin-top: 1em">The possible
<i>key</i> values are <b>text</b>, <b>mark</b>,
<b>tagon</b>, <b>tagoff</b>, <b>image</b>, and
<b>window</b>. The corresponding <i>value</i> is the text,
mark name, tag name, image name, or window name. The
<i>index</i> information is the index of the start of the
text, mark, tag transition, image or window. One or more of
the following switches (or abbreviations thereof) may be
specified to control the dump:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>&minus;all</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Return information about all elements: text, marks,
tags, images and windows. This is the default.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>&minus;command</b>
<i>command</i></p>

<p style="margin-left:32%;">Instead of returning the
information as the result of the dump operation, invoke the
<i>command</i> on each element of the text widget within the
range. The command has three arguments appended to it before
it is evaluated: the <i>key</i>, <i>value</i>, and
<i>index</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;image</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Include information about images in the dump
results.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;mark</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Include information about marks in the dump results.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;tag</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Include information about tag transitions in the dump
results. Tag information is returned as <b>tagon</b> and
<b>tagoff</b> elements that indicate the begin and end of
each range of each tag, respectively.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;text</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Include information about text in the dump results. The
value is the text up to the next element or the end of range
indicated by <i>index2</i>. A text element does not span
newlines. A multi-line block of text that contains no marks
or tag transitions will still be dumped as a set of text
segments that each end with a newline. The newline is part
of the value.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>&minus;window</b></p>

<p style="margin-left:32%;">Include information about
embedded windows in the dump results. The value of a window
is its Tk pathname, unless the window has not been created
yet. (It must have a create script.) In this case an empty
string is returned, and you must query the window by its
index position to get more information.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>edit</b>
<i>option</i> ?<i>arg arg ...</i>?</p>

<p style="margin-left:22%;">This command controls the undo
mechanism and the modified flag. The exact behavior of the
command depends on the <i>option</i> argument that follows
the <b>edit</b> argument. The following forms of the command
are currently supported: <i><br>
pathName</i> <b>edit modified ?</b><i>boolean</i>?</p>

<p style="margin-left:32%;">If <i>boolean</i> is not
specified, returns the modified flag of the widget. The
insert, delete, edit undo and edit redo commands or the user
can set or clear the modified flag. If <i>boolean</i> is
specified, sets the modified flag of the widget to
<i>boolean</i>.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>edit
redo</b></p>

<p style="margin-left:32%;">When the <b>&minus;undo</b>
option is true, reapplies the last undone edits provided no
other edits were done since then. Generates an error when
the redo stack is empty. Does nothing when the
<b>&minus;undo</b> option is false.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>edit
reset</b></p>

<p style="margin-left:32%;">Clears the undo and redo
stacks.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>edit
separator</b></p>

<p style="margin-left:32%;">Inserts a separator (boundary)
on the undo stack. Does nothing when the <b>&minus;undo</b>
option is false.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>edit
undo</b></p>

<p style="margin-left:32%;">Undoes the last edit action
when the <b>&minus;undo</b> option is true. An edit action
is defined as all the insert and delete commands that are
recorded on the undo stack in between two separators.
Generates an error when the undo stack is empty. Does
nothing when the <b>&minus;undo</b> option is false.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>get</b>
<i>?&minus;displaychars? &minus;&minus; index1</i>
?<i>index2 ...</i>?</p>

<p style="margin-left:22%;">Return a range of characters
from the text. The return value will be all the characters
in the text starting with the one whose index is
<i>index1</i> and ending just before the one whose index is
<i>index2</i> (the character at <i>index2</i> will not be
returned). If <i>index2</i> is omitted then the single
character at <i>index1</i> is returned. If there are no
characters in the specified range (e.g. <i>index1</i> is
past the end of the file or <i>index2</i> is less than or
equal to <i>index1</i>) then an empty string is returned. If
the specified range contains embedded windows, no
information about them is included in the returned string.
If multiple index pairs are given, multiple ranges of text
will be returned in a list. Invalid ranges will not be
represented with empty strings in the list. The ranges are
returned in the order passed to <i>pathName</i> <b>get</b>.
If the <b>&minus;displaychars</b> option is given, then,
<big>&#9474;</big> within each range, only those characters
which are not elided <big>&#9474;</big> will be returned.
This may have the effect that some of the <big>&#9474;</big>
returned ranges are empty strings.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>image</b>
<i>option</i> ?<i>arg arg ...</i>?</p>

<p style="margin-left:22%;">This command is used to
manipulate embedded images. The behavior of the command
depends on the <i>option</i> argument that follows the
<b>tag</b> argument. The following forms of the command are
currently supported: <i><br>
pathName</i> <b>image cget</b> <i>index option</i></p>

<p style="margin-left:32%;">Returns the value of a
configuration option for an embedded image. <i>Index</i>
identifies the embedded image, and <i>option</i> specifies a
particular configuration option, which must be one of the
ones listed in the section <b>EMBEDDED IMAGES</b>.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>image
configure</b> <i>index</i> ?<i>option value ...</i>?</p>

<p style="margin-left:32%;">Query or modify the
configuration options for an embedded image. If no
<i>option</i> is specified, returns a list describing all of
the available options for the embedded image at <i>index</i>
(see <b>Tk_ConfigureInfo</b> for information on the format
of this list). If <i>option</i> is specified with no
<i>value</i>, then the command returns a list describing the
one named option (this list will be identical to the
corresponding sublist of the value returned if no
<i>option</i> is specified). If one or more
<i>option&minus;value</i> pairs are specified, then the
command modifies the given option(s) to have the given
value(s); in this case the command returns an empty string.
See <b>EMBEDDED IMAGES</b> for information on the options
that are supported.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>image
create</b> <i>index</i> ?<i>option value ...</i>?</p>

<p style="margin-left:32%;">This command creates a new
image annotation, which will appear in the text at the
position given by <i>index</i>. Any number of
<i>option&minus;value</i> pairs may be specified to
configure the annotation. Returns a unique identifier that
may be used as an index to refer to this image. See
<b>EMBEDDED IMAGES</b> for information on the options that
are supported, and a description of the identifier
returned.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>image
names</b></p>

<p style="margin-left:32%;">Returns a list whose elements
are the names of all image instances currently embedded in
<i>window</i>.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>index</b>
<i>index</i></p>

<p style="margin-left:22%;">Returns the position
corresponding to <i>index</i> in the form <i>line.char</i>
where <i>line</i> is the line number and <i>char</i> is the
character number. <i>Index</i> may have any of the forms
described under <b>INDICES</b> above.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>insert</b>
<i>index chars</i> ?<i>tagList chars tagList ...</i>?</p>

<p style="margin-left:22%;">Inserts all of the <i>chars</i>
arguments just before the character at <i>index</i>. If
<i>index</i> refers to the end of the text (the character
after the last newline) then the new text is inserted just
before the last newline instead. If there is a single
<i>chars</i> argument and no <i>tagList</i>, then the new
text will receive any tags that are present on both the
character before and the character after the insertion
point; if a tag is present on only one of these characters
then it will not be applied to the new text. If
<i>tagList</i> is specified then it consists of a list of
tag names; the new characters will receive all of the tags
in this list and no others, regardless of the tags present
around the insertion point. If multiple
<i>chars</i>&minus;<i>tagList</i> argument pairs are
present, they produce the same effect as if a separate
<i>pathName</i> <b>insert</b> widget command had been issued
for each pair, in order. The last <i>tagList</i> argument
may be omitted.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>mark</b>
<i>option</i> ?<i>arg arg ...</i>?</p>

<p style="margin-left:22%;">This command is used to
manipulate marks. The exact behavior of the command depends
on the <i>option</i> argument that follows the <b>mark</b>
argument. The following forms of the command are currently
supported: <i><br>
pathName</i> <b>mark gravity</b> <i>markName</i>
?<i>direction</i>?</p>

<p style="margin-left:32%;">If <i>direction</i> is not
specified, returns <b>left</b> or <b>right</b> to indicate
which of its adjacent characters <i>markName</i> is attached
to. If <i>direction</i> is specified, it must be <b>left</b>
or <b>right</b>; the gravity of <i>markName</i> is set to
the given value.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>mark
names</b></p>

<p style="margin-left:32%;">Returns a list whose elements
are the names of all the marks that are currently set.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>mark
next</b> <i>index</i></p>

<p style="margin-left:32%;">Returns the name of the next
mark at or after <i>index</i>. If <i>index</i> is specified
in numerical form, then the search for the next mark begins
at that index. If <i>index</i> is the name of a mark, then
the search for the next mark begins immediately after that
mark. This can still return a mark at the same position if
there are multiple marks at the same index. These semantics
mean that the <b>mark next</b> operation can be used to step
through all the marks in a text widget in the same order as
the mark information returned by the <i>pathName</i>
<b>dump</b> operation. If a mark has been set to the special
<b>end</b> index, then it appears to be <i>after</i>
<b>end</b> with respect to the <i>pathName</i> <b>mark
next</b> operation. An empty string is returned if there are
no marks after <i>index</i>.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>mark
previous</b> <i>index</i></p>

<p style="margin-left:32%;">Returns the name of the mark at
or before <i>index</i>. If <i>index</i> is specified in
numerical form, then the search for the previous mark begins
with the character just before that index. If <i>index</i>
is the name of a mark, then the search for the next mark
begins immediately before that mark. This can still return a
mark at the same position if there are multiple marks at the
same index. These semantics mean that the <i>pathName</i>
<b>mark previous</b> operation can be used to step through
all the marks in a text widget in the reverse order as the
mark information returned by the <i>pathName</i> <b>dump</b>
operation. An empty string is returned if there are no marks
before <i>index</i>.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>mark set</b>
<i>markName index</i></p>

<p style="margin-left:32%;">Sets the mark named
<i>markName</i> to a position just before the character at
<i>index</i>. If <i>markName</i> already exists, it is moved
from its old position; if it does not exist, a new mark is
created. This command returns an empty string.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>mark
unset</b> <i>markName</i> ?<i>markName markName ...</i>?</p>

<p style="margin-left:32%;">Remove the mark corresponding
to each of the <i>markName</i> arguments. The removed marks
will not be usable in indices and will not be returned by
future calls to &ldquo;<i>pathName</i> <b>mark
names</b>&rdquo;. This command returns an empty string.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>peer</b>
<i>option args</i></p>

<p style="margin-left:22%;">This command is used to create
and query widget peers. It has <big>&#9474;</big> two forms,
depending on <i>option</i>: <big>&#9474;</big> <i><br>
pathName</i> <b>peer create</b> <i>newPathName</i>
?<i>options</i>? <big>&#9474;</big></p>

<p style="margin-left:32%;">Creates a peer text widget with
the given <i>newPathName</i>, <big>&#9474;</big> and any
optional standard configuration options (as for
<big>&#9474;</big> the <i>text</i> command). By default the
peer will have the <big>&#9474;</big> same start and end
line as the parent widget, but these <big>&#9474;</big> can
be overridden with the standard configuration
<big>&#9474;</big> options. <big>&#9474;</big></p>

<p style="margin-left:22%;"><i>pathName</i> <b>peer
names</b> <big>&#9474;</big></p>

<p style="margin-left:32%;">Returns a list of peers of this
widget (this does not <big>&#9474;</big> include the widget
itself). The order within this list <big>&#9474;</big> is
undefined. <big>&#9474;</big></p>

<p style="margin-left:11%;"><i>pathName</i> <b>replace</b>
<i>index1 index2 chars</i> ?<i>tagList chars tagList
...</i>? <big>&#9474;</big></p>

<p style="margin-left:22%;">Replaces the range of
characters between <i>index1</i> and <i>index2</i> with
<big>&#9474;</big> the given characters and tags. See the
section on <i>pathName</i> <big>&#9474;</big> <b>insert</b>
for an explanation of the handling of the <i>tagList...</i>
<big>&#9474;</big> arguments, and the section on
<i>pathName</i> <b>delete</b> for an explanation
<big>&#9474;</big> of the handling of the indices. If
<i>index2</i> corresponds to an <big>&#9474;</big> index
earlier in the text than <i>index1</i>, an error will be
<big>&#9474;</big> generated. <big>&#9474;</big></p>

<p style="margin-left:22%; margin-top: 1em">The deletion
and insertion are arranged so that no unnecessary
<big>&#9474;</big> scrolling of the window or movement of
insertion cursor occurs. <big>&#9474;</big> In addition the
undo/redo stack are correctly modified, if undo
<big>&#9474;</big> operations are active in the text widget.
The command returns <big>&#9474;</big> an empty string.
<big>&#9474;</big></p>

<p style="margin-left:11%;"><i>pathName</i> <b>scan</b>
<i>option args</i></p>

<p style="margin-left:22%;">This command is used to
implement scanning on texts. It has two forms, depending on
<i>option</i>: <i><br>
pathName</i> <b>scan mark</b> <i>x y</i></p>

<p style="margin-left:32%;">Records <i>x</i> and <i>y</i>
and the current view in the text window, for use in
conjunction with later <i>pathName</i> <b>scan dragto</b>
commands. Typically this command is associated with a mouse
button press in the widget. It returns an empty string.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>scan
dragto</b> <i>x y</i></p>

<p style="margin-left:32%;">This command computes the
difference between its <i>x</i> and <i>y</i> arguments and
the <i>x</i> and <i>y</i> arguments to the last
<i>pathName</i> <b>scan mark</b> command for the widget. It
then adjusts the view by 10 times the difference in
coordinates. This command is typically associated with mouse
motion events in the widget, to produce the effect of
dragging the text at high speed through the window. The
return value is an empty string.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>search</b>
?<i>switches</i>? <i>pattern index</i>
?<i>stopIndex</i>?</p>

<p style="margin-left:22%;">Searches the text in
<i>pathName</i> starting at <i>index</i> for a range of
characters that matches <i>pattern</i>. If a match is found,
the index of the first character in the match is returned as
result; otherwise an empty string is returned. One or more
of the following switches (or abbreviations thereof) may be
specified to control the search: <b><br>
&minus;forwards</b></p>

<p style="margin-left:32%;">The search will proceed forward
through the text, finding the first matching range starting
at or after the position given by <i>index</i>. This is the
default.</p>

<p style="margin-left:22%;"><b>&minus;backwards</b></p>

<p style="margin-left:32%;">The search will proceed
backward through the text, finding the matching range
closest to <i>index</i> whose first character is before
<i>index</i> (it is not allowed to be at <big>&#9474;</big>
<i>index</i>). Note that, for a variety of reasons,
backwards <big>&#9474;</big> searches can be substantially
slower than forwards <big>&#9474;</big> searches
(particularly when using <b>&minus;regexp</b>), so it is
<big>&#9474;</big> recommended that performance-critical
code use forward <big>&#9474;</big> searches.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;exact</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Use exact matching: the characters in the matching range
must be identical to those in <i>pattern</i>. This is the
default.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>&minus;regexp</b></p>

<p style="margin-left:32%;">Treat <i>pattern</i> as a
regular expression and match it against the text using the
rules for regular expressions (see the <b>regexp</b> command
for details). The default <big>&#9474;</big> matching
automatically passes both the <b>&minus;lineanchor</b> and
<big>&#9474;</big> <b>&minus;linestop</b> options to the
regexp engine (unless <big>&#9474;</big>
<b>&minus;nolinestop</b> is used), so that <i>^$</i> match
beginning and end <big>&#9474;</big> of line, and <i>.</i>,
<i>[^</i> sequences will never match the newline
<big>&#9474;</big> character <i>\n</i>.</p>

<p style="margin-left:22%;"><b>&minus;nolinestop</b></p>

<p style="margin-left:32%;">This allows <i>.</i> and
<i>[^</i> sequences to match the newline <big>&#9474;</big>
character <i>\n</i>, which they will otherwise not do (see
the <big>&#9474;</big> <b>regexp</b> command for details).
This option is only <big>&#9474;</big> meaningful if
<b>&minus;regexp</b> is also given, and an error will be
<big>&#9474;</big> thrown otherwise. For example, to match
the entire text, <big>&#9474;</big> use
&ldquo;<i>pathName</i> <b>search &minus;nolinestop
&minus;regexp</b> &quot;.*&quot; 1.0&rdquo;.</p>

<p style="margin-left:22%;"><b>&minus;nocase</b></p>

<p style="margin-left:32%;">Ignore case differences between
the pattern and the text.</p>

<p style="margin-left:22%;"><b>&minus;count</b>
<i>varName</i></p>

<p style="margin-left:32%;">The argument following
<b>&minus;count</b> gives the name of a variable; if a match
is found, the number of index positions between beginning
and end of the matching range will be stored in the
variable. If there are no embedded images or windows in the
matching range (and there are no elided characters if
<b>&minus;elide</b> is not given), this is equivalent to the
number of characters matched. In either case, the range
<i>matchIdx</i> to <i>matchIdx + $count chars</i> will
return the entire matched text.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>&minus;all</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Find all matches in the given range and return a list of
<big>&#9474;</big> the indices of the first character of
each match. If a <big>&#9474;</big> <b>&minus;count</b>
<i>varName</i> switch is given, then <i>varName</i> is also
set <big>&#9474;</big> to a list containing one element for
each successful <big>&#9474;</big> match. Note that, even
for exact searches, the elements <big>&#9474;</big> of this
list may be different, if there are embedded
<big>&#9474;</big> images, windows or hidden text. Searches
with <b>&minus;all</b> <big>&#9474;</big> behave very
similarly to the Tcl command <b>regexp &minus;all</b>, in
<big>&#9474;</big> that overlapping matches are not normally
returned. For <big>&#9474;</big> example, applying an
<b>&minus;all</b> search of the pattern &ldquo;\w+&rdquo;
<big>&#9474;</big> against &ldquo;hello there&rdquo; will
just match twice, once for <big>&#9474;</big> each word, and
matching &ldquo;Z[a&minus;z]+Z&rdquo; against
&ldquo;ZooZooZoo&rdquo; <big>&#9474;</big> will just match
once.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>&minus;overlap</b></p>

<p style="margin-left:32%;">When performing
<b>&minus;all</b> searches, the normal behaviour is
<big>&#9474;</big> that matches which overlap an
already-found match will <big>&#9474;</big> not be returned.
This switch changes that behaviour so <big>&#9474;</big>
that all matches which are not totally enclosed within
<big>&#9474;</big> another match are returned. For example,
applying an <big>&#9474;</big> <b>&minus;overlap</b> search
of the pattern &ldquo;\w+&rdquo; against &ldquo;hello
<big>&#9474;</big> there&rdquo; will just match twice (i.e.
no different to just <big>&#9474;</big> <b>&minus;all</b>),
but matching &ldquo;Z[a&minus;z]+Z&rdquo; against
&ldquo;ZooZooZoo&rdquo; will <big>&#9474;</big> now match
twice. An error will be thrown if this switch
<big>&#9474;</big> is used without <b>&minus;all</b>.</p>

<p style="margin-left:22%;"><b>&minus;strictlimits</b></p>

<p style="margin-left:32%;">When performing any search, the
normal behaviour is that <big>&#9474;</big> the start and
stop limits are checked with respect to the
<big>&#9474;</big> start of the matching text. With the
<b>&minus;strictlimits</b> flag, <big>&#9474;</big> the
entire matching range must lie inside the start and
<big>&#9474;</big> stop limits specified for the match to be
valid.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;elide</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Find elided (hidden) text as well. By default only
displayed text is searched.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>&minus;&minus;</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>This switch has no effect except to terminate the list
of switches: the next argument will be treated as
<i>pattern</i> even if it starts with <b>&minus;</b>.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The matching
range may be within a single line of text, or run
<big>&#9474;</big> across multiple lines (if parts of the
pattern can match a <big>&#9474;</big> new-line). For
regular expression matching one can use the
<big>&#9474;</big> various newline-matching features such as
<b>$</b> to match the end of <big>&#9474;</big> a line,
<b>^</b> to match the beginning of a line, and to control
<big>&#9474;</big> whether <b>.</b> is allowed to match a
new-line. If <i>stopIndex</i> is specified, the search stops
at that index: for forward searches, no match at or after
<i>stopIndex</i> will be considered; for backward searches,
no match earlier in the text than <i>stopIndex</i> will be
considered. If <i>stopIndex</i> is omitted, the entire text
will be searched: when the beginning or end of the text is
reached, the search continues at the other end until the
starting location is reached again; if <i>stopIndex</i> is
specified, no wrap-around will occur. This means that, for
example, if the search is <b>&minus;forwards</b> but
<i>stopIndex</i> is earlier in the text than
<i>startIndex</i>, nothing will ever be found. See <b>KNOWN
BUGS</b> below for a number of minor limitations of the
<i>pathName</i> <b>search</b> command.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>see</b>
<i>index</i></p>

<p style="margin-left:22%;">Adjusts the view in the window
so that the character given by <i>index</i> is completely
visible. If <i>index</i> is already visible then the command
does nothing. If <i>index</i> is a short distance out of
view, the command adjusts the view just enough to make
<i>index</i> visible at the edge of the window. If
<i>index</i> is far out of view, then the command centers
<i>index</i> in the window.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>tag</b>
<i>option</i> ?<i>arg arg ...</i>?</p>

<p style="margin-left:22%;">This command is used to
manipulate tags. The exact behavior of the command depends
on the <i>option</i> argument that follows the <b>tag</b>
argument. The following forms of the command are currently
supported: <i><br>
pathName</i> <b>tag add</b> <i>tagName index1</i> ?<i>index2
index1 index2 ...</i>?</p>

<p style="margin-left:32%;">Associate the tag
<i>tagName</i> with all of the characters starting with
<i>index1</i> and ending just before <i>index2</i> (the
character at <i>index2</i> is not tagged). A single command
may contain any number of <i>index1</i>&minus;<i>index2</i>
pairs. If the last <i>index2</i> is omitted then the single
character at <i>index1</i> is tagged. If there are no
characters in the specified range (e.g. <i>index1</i> is
past the end of the file or <i>index2</i> is less than or
equal to <i>index1</i>) then the command has no effect.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag bind</b>
<i>tagName</i> ?<i>sequence</i>? ?<i>script</i>?</p>

<p style="margin-left:32%;">This command associates
<i>script</i> with the tag given by <i>tagName</i>. Whenever
the event sequence given by <i>sequence</i> occurs for a
character that has been tagged with <i>tagName</i>, the
script will be invoked. This widget command is similar to
the <b>bind</b> command except that it operates on
characters in a text rather than entire widgets. See the
<b>bind</b> manual entry for complete details on the syntax
of <i>sequence</i> and the substitutions performed on
<i>script</i> before invoking it. If all arguments are
specified then a new binding is created, replacing any
existing binding for the same <i>sequence</i> and
<i>tagName</i> (if the first character of <i>script</i> is
&ldquo;+&rdquo; then <i>script</i> augments an existing
binding rather than replacing it). In this case the return
value is an empty string. If <i>script</i> is omitted then
the command returns the <i>script</i> associated with
<i>tagName</i> and <i>sequence</i> (an error occurs if there
is no such binding). If both <i>script</i> and
<i>sequence</i> are omitted then the command returns a list
of all the sequences for which bindings have been defined
for <i>tagName</i>.</p>

<p style="margin-left:32%; margin-top: 1em">The only events
for which bindings may be specified are those related to the
mouse and keyboard (such as <b>Enter</b>, <b>Leave</b>,
<b>ButtonPress</b>, <b>Motion</b>, and <b>KeyPress</b>) or
virtual events. Event bindings for a text widget use the
<b>current</b> mark described under <b>MARKS</b> above. An
<b>Enter</b> event triggers for a tag when the tag first
becomes present on the current character, and a <b>Leave</b>
event triggers for a tag when it ceases to be present on the
current character. <b>Enter</b> and <b>Leave</b> events can
happen either because the <b>current</b> mark moved or
because the character at that position changed. Note that
these events are different than <b>Enter</b> and
<b>Leave</b> events for windows. Mouse and keyboard events
are directed to the current character. If a virtual event is
used in a binding, that binding can trigger only if the
virtual event is defined by an underlying mouse-related or
keyboard-related event.</p>

<p style="margin-left:32%; margin-top: 1em">It is possible
for the current character to have multiple tags, and for
each of them to have a binding for a particular event
sequence. When this occurs, one binding is invoked for each
tag, in order from lowest-priority to highest priority. If
there are multiple matching bindings for a single tag, then
the most specific binding is chosen (see the manual entry
for the <b>bind</b> command for details). <b>continue</b>
and <b>break</b> commands within binding scripts are
processed in the same way as for bindings created with the
<b>bind</b> command.</p>

<p style="margin-left:32%; margin-top: 1em">If bindings are
created for the widget as a whole using the <b>bind</b>
command, then those bindings will supplement the tag
bindings. The tag bindings will be invoked first, followed
by bindings for the window as a whole.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag cget</b>
<i>tagName option</i></p>

<p style="margin-left:32%;">This command returns the
current value of the option named <i>option</i> associated
with the tag given by <i>tagName</i>. <i>Option</i> may have
any of the values accepted by the <i>pathName</i> <b>tag
configure</b> widget command.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
configure</b> <i>tagName</i> ?<i>option</i>? ?<i>value</i>?
?<i>option value <br>
...</i>?</p>

<p style="margin-left:32%;">This command is similar to the
<i>pathName</i> <b>configure</b> widget command except that
it modifies options associated with the tag given by
<i>tagName</i> instead of modifying options for the overall
text widget. If no <i>option</i> is specified, the command
returns a list describing all of the available options for
<i>tagName</i> (see <b>Tk_ConfigureInfo</b> for information
on the format of this list). If <i>option</i> is specified
with no <i>value</i>, then the command returns a list
describing the one named option (this list will be identical
to the corresponding sublist of the value returned if no
<i>option</i> is specified). If one or more
<i>option&minus;value</i> pairs are specified, then the
command modifies the given option(s) to have the given
value(s) in <i>tagName</i>; in this case the command returns
an empty string. See <b>TAGS</b> above for details on the
options available for tags.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
delete</b> <i>tagName</i> ?<i>tagName ...</i>?</p>

<p style="margin-left:32%;">Deletes all tag information for
each of the <i>tagName</i> arguments. The command removes
the tags from all characters in the file and also deletes
any other information associated with the tags, such as
bindings and display information. The command returns an
empty string.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
lower</b> <i>tagName</i> ?<i>belowThis</i>?</p>

<p style="margin-left:32%;">Changes the priority of tag
<i>tagName</i> so that it is just lower in priority than the
tag whose name is <i>belowThis</i>. If <i>belowThis</i> is
omitted, then <i>tagName</i>&rsquo;s priority is changed to
make it lowest priority of all tags.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
names</b> ?<i>index</i>?</p>

<p style="margin-left:32%;">Returns a list whose elements
are the names of all the tags that are active at the
character position given by <i>index</i>. If <i>index</i> is
omitted, then the return value will describe all of the tags
that exist for the text (this includes all tags that have
been named in a &ldquo;<i>pathName</i> <b>tag</b>&rdquo;
widget command but have not been deleted by a
&ldquo;<i>pathName</i> <b>tag delete</b>&rdquo; widget
command, even if no characters are currently marked with the
tag). The list will be sorted in order from lowest priority
to highest priority.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
nextrange</b> <i>tagName index1</i> ?<i>index2</i>?</p>

<p style="margin-left:32%;">This command searches the text
for a range of characters tagged with <i>tagName</i> where
the first character of the range is no earlier than the
character at <i>index1</i> and no later than the character
just before <i>index2</i> (a range starting at <i>index2</i>
will not be considered). If several matching ranges exist,
the first one is chosen. The command&rsquo;s return value is
a list containing two elements, which are the index of the
first character of the range and the index of the character
just after the last one in the range. If no matching range
is found then the return value is an empty string. If
<i>index2</i> is not given then it defaults to the end of
the text.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
prevrange</b> <i>tagName index1</i> ?<i>index2</i>?</p>

<p style="margin-left:32%;">This command searches the text
for a range of characters tagged with <i>tagName</i> where
the first character of the range is before the character at
<i>index1</i> and no earlier than the character at
<i>index2</i> (a range starting at <i>index2</i> will be
considered). If several matching ranges exist, the one
closest to <i>index1</i> is chosen. The command&rsquo;s
return value is a list containing two elements, which are
the index of the first character of the range and the index
of the character just after the last one in the range. If no
matching range is found then the return value is an empty
string. If <i>index2</i> is not given then it defaults to
the beginning of the text.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
raise</b> <i>tagName</i> ?<i>aboveThis</i>?</p>

<p style="margin-left:32%;">Changes the priority of tag
<i>tagName</i> so that it is just higher in priority than
the tag whose name is <i>aboveThis</i>. If <i>aboveThis</i>
is omitted, then <i>tagName</i>&rsquo;s priority is changed
to make it highest priority of all tags.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
ranges</b> <i>tagName</i></p>

<p style="margin-left:32%;">Returns a list describing all
of the ranges of text that have been tagged with
<i>tagName</i>. The first two elements of the list describe
the first tagged range in the text, the next two elements
describe the second range, and so on. The first element of
each pair contains the index of the first character of the
range, and the second element of the pair contains the index
of the character just after the last one in the range. If
there are no characters tagged with <i>tag</i> then an empty
string is returned.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>tag
remove</b> <i>tagName index1</i> ?<i>index2 index1 index2
...</i>?</p>

<p style="margin-left:32%;">Remove the tag <i>tagName</i>
from all of the characters starting at <i>index1</i> and
ending just before <i>index2</i> (the character at
<i>index2</i> is not affected). A single command may contain
any number of <i>index1</i>&minus;<i>index2</i> pairs. If
the last <i>index2</i> is omitted then the tag is removed
from the single character at <i>index1</i>. If there are no
characters in the specified range (e.g. <i>index1</i> is
past the end of the file or <i>index2</i> is less than or
equal to <i>index1</i>) then the command has no effect. This
command returns an empty string.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>window</b>
<i>option</i> ?<i>arg arg ...</i>?</p>

<p style="margin-left:22%;">This command is used to
manipulate embedded windows. The behavior of the command
depends on the <i>option</i> argument that follows the
<b>tag</b> argument. The following forms of the command are
currently supported: <i><br>
pathName</i> <b>window cget</b> <i>index option</i></p>

<p style="margin-left:32%;">Returns the value of a
configuration option for an embedded window. <i>Index</i>
identifies the embedded window, and <i>option</i> specifies
a particular configuration option, which must be one of the
ones listed in the section <b>EMBEDDED WINDOWS</b>.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>window
configure</b> <i>index</i> ?<i>option value ...</i>?</p>

<p style="margin-left:32%;">Query or modify the
configuration options for an embedded window. If no
<i>option</i> is specified, returns a list describing all of
the available options for the embedded window at
<i>index</i> (see <b>Tk_ConfigureInfo</b> for information on
the format of this list). If <i>option</i> is specified with
no <i>value</i>, then the command returns a list describing
the one named option (this list will be identical to the
corresponding sublist of the value returned if no
<i>option</i> is specified). If one or more
<i>option&minus;value</i> pairs are specified, then the
command modifies the given option(s) to have the given
value(s); in this case the command returns an empty string.
See <b>EMBEDDED WINDOWS</b> for information on the options
that are supported.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>window
create</b> <i>index</i> ?<i>option value ...</i>?</p>

<p style="margin-left:32%;">This command creates a new
window annotation, which will appear in the text at the
position given by <i>index</i>. Any number of
<i>option&minus;value</i> pairs may be specified to
configure the annotation. See <b>EMBEDDED WINDOWS</b> for
information on the options that are supported. Returns an
empty string.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>window
names</b></p>

<p style="margin-left:32%;">Returns a list whose elements
are the names of all windows currently embedded in
<i>window</i>.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>xview</b>
<i>option args</i></p>

<p style="margin-left:22%;">This command is used to query
and change the horizontal position of the text in the
widget&rsquo;s window. It can take any of the following
forms: <i><br>
pathName</i> <b>xview</b></p>

<p style="margin-left:32%;">Returns a list containing two
elements. Each element is a real fraction between 0 and 1;
together they describe the portion of the document&rsquo;s
horizontal span that is visible in the window. For example,
if the first element is .2 and the second element is .6, 20%
of the text is off-screen to the left, the middle 40% is
visible in the window, and 40% of the text is off-screen to
the right. The fractions refer only to the lines that are
actually visible in the window: if the lines in the window
are all very short, so that they are entirely visible, the
returned fractions will be 0 and 1, even if there are other
lines in the text that are much wider than the window. These
are the same values passed to scrollbars via the
<b>&minus;xscrollcommand</b> option.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>xview
moveto</b> <i>fraction</i></p>

<p style="margin-left:32%;">Adjusts the view in the window
so that <i>fraction</i> of the horizontal span of the text
is off-screen to the left. <i>Fraction</i> is a fraction
between 0 and 1.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>xview
scroll</b> <i>number what</i></p>

<p style="margin-left:32%;">This command shifts the view in
the window left or right according to <i>number</i> and
<i>what</i>. <i>What</i> must be <b>units</b>, <b>pages</b>
or <b>pixels</b>. If <i>what</i> is <b>units</b> or
<b>pages</b> then <i>number</i> must be <big>&#9474;</big>
an integer, otherwise number may be specified in any of
<big>&#9474;</big> the forms acceptable to
<b>Tk_GetPixels</b>, such as &ldquo;2.0c&rdquo; or
<big>&#9474;</big> &ldquo;1i&rdquo; (the result is rounded
to the nearest integer value. <big>&#9474;</big> If no units
are given, pixels are assumed). If <i>what</i> is
<big>&#9474;</big> <b>units</b>, the view adjusts left or
right by <i>number</i> <big>&#9474;</big> average-width
characters on the display; if it is <b>pages</b>
<big>&#9474;</big> then the view adjusts by <i>number</i>
screenfuls; if it is <big>&#9474;</big> <b>pixels</b> then
the view adjusts by <i>number</i> pixels. If <i>number</i>
is negative then characters farther to the left become
visible; if it is positive then characters farther to the
right become visible.</p>

<p style="margin-left:11%;"><i>pathName</i> <b>yview</b>
<i>?args</i>?</p>

<p style="margin-left:22%;">This command is used to query
and change the vertical position of the text in the
widget&rsquo;s window. It can take any of the following
forms: <i><br>
pathName</i> <b>yview</b></p>

<p style="margin-left:32%;">Returns a list containing two
elements, both of which are real fractions between 0 and 1.
The first element gives the position of the first visible
pixel of the first character (or image, etc) in the top line
in the window, relative to the text as a whole (0.5 means it
is halfway through the text, for example). The second
element gives the position of the first pixel just after the
last visible one in the bottom line of the window, relative
to the text as a whole. These are the same values passed to
scrollbars via the <b>&minus;yscrollcommand</b> option.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>yview
moveto</b> <i>fraction</i></p>

<p style="margin-left:32%;">Adjusts the view in the window
so that the pixel given by <i>fraction</i> appears at the
top of the top line of the window. <i>Fraction</i> is a
fraction between 0 and 1; 0 indicates the first pixel of the
first character in the text, 0.33 indicates the pixel that
is one-third the way through the text; and so on. Values
close to 1 will <big>&#9474;</big> indicate values close to
the last pixel in the text (1 <big>&#9474;</big> actually
refers to one pixel beyond the last pixel), but
<big>&#9474;</big> in such cases the widget will never
scroll beyond the <big>&#9474;</big> last pixel, and so a
value of 1 will effectively be <big>&#9474;</big> rounded
back to whatever fraction ensures the last pixel
<big>&#9474;</big> is at the bottom of the window, and some
other pixel is <big>&#9474;</big> at the top.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>yview
scroll</b> <i>number what</i></p>

<p style="margin-left:32%;">This command adjust the view in
the window up or down according to <i>number</i> and
<i>what</i>. <i>What</i> must be <b>units</b>, <b>pages</b>
or <b>pixels</b>. If <i>what</i> is <b>units</b> or
<b>pages</b> then <i>number</i> must be <big>&#9474;</big>
an integer, otherwise number may be specified in any of
<big>&#9474;</big> the forms acceptable to
<b>Tk_GetPixels</b>, such as &ldquo;2.0c&rdquo; or
<big>&#9474;</big> &ldquo;1i&rdquo; (the result is rounded
to the nearest integer value. <big>&#9474;</big> If no units
are given, pixels are assumed). If <i>what</i> is
<big>&#9474;</big> <b>units</b>, the view adjusts up or down
by <i>number</i> lines on the <big>&#9474;</big> display; if
it is <b>pages</b> then the view adjusts by <i>number</i>
<big>&#9474;</big> screenfuls; if it is <b>pixels</b> then
the view adjusts by <big>&#9474;</big> <i>number</i> pixels.
If <i>number</i> is negative then earlier positions in the
text become visible; if it is positive then later positions
in the text become visible.</p>

<p style="margin-left:22%;"><i>pathName</i> <b>yview</b>
?<b>&minus;pickplace</b>? <i>index</i></p>

<p style="margin-left:32%;">Changes the view in the
widget&rsquo;s window to make <i>index</i> visible. If the
<b>&minus;pickplace</b> option is not specified then
<i>index</i> will appear at the top of the window. If
<b>&minus;pickplace</b> is specified then the widget chooses
where <i>index</i> appears in the window:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p>[1]</p></td>
<td width="6%"></td>
<td width="57%">


<p>If <i>index</i> is already visible somewhere in the
window then the command does nothing.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p>[2]</p></td>
<td width="6%"></td>
<td width="57%">


<p>If <i>index</i> is only a few lines off-screen above the
window then it will be positioned at the top of the
window.</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p>[3]</p></td>
<td width="6%"></td>
<td width="57%">


<p>If <i>index</i> is only a few lines off-screen below the
window then it will be positioned at the bottom of the
window.</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p>[4]</p></td>
<td width="6%"></td>
<td width="57%">


<p>Otherwise, <i>index</i> will be centered in the
window.</p> </td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">The
<b>&minus;pickplace</b> option has been obsoleted by the
<i>pathName</i> <b>see</b> widget command (<i>pathName</i>
<b>see</b> handles both x- and y-motion to make a location
visible, whereas the <b>&minus;pickplace</b> mode only
handles motion in y).</p>

<p style="margin-left:22%;"><i>pathName</i> <b>yview</b>
<i>number</i></p>

<p style="margin-left:32%;">This command makes the first
character on the line after the one given by <i>number</i>
visible at the top of the window. <i>Number</i> must be an
integer. This command used to be used for scrolling, but now
it is obsolete.</p>

<h2>BINDINGS
<a name="BINDINGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tk
automatically creates class bindings for texts that give
them the following default behavior. In the descriptions
below, &ldquo;word&rdquo; is dependent on the value of the
<b>tcl_wordchars</b> variable. See <b>tclvars</b>(n).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[1]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Clicking mouse button 1 positions the insertion cursor
just before the character underneath the mouse cursor, sets
the input focus to this widget, and clears any selection in
the widget. Dragging with mouse button 1 strokes out a
selection between the insertion cursor and the character
under the mouse.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[2]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Double-clicking with mouse button 1 selects the word
under the mouse and positions the insertion cursor at the
start of the word. Dragging after a double click will stroke
out a selection consisting of whole words.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[3]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Triple-clicking with mouse button 1 selects the line
under the mouse and positions the insertion cursor at the
start of the line. Dragging after a triple click will stroke
out a selection consisting of whole lines.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[4]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The ends of the selection can be adjusted by dragging
with mouse button 1 while the Shift key is down; this will
adjust the end of the selection that was nearest to the
mouse cursor when button 1 was pressed. If the button is
double-clicked before dragging then the selection will be
adjusted in units of whole words; if it is triple-clicked
then the selection will be adjusted in units of whole
lines.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[5]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Clicking mouse button 1 with the Control key down will
reposition the insertion cursor without affecting the
selection.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[6]</p></td>
<td width="5%"></td>
<td width="78%">


<p>If any normal printing characters are typed, they are
inserted at the point of the insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[7]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The view in the widget can be adjusted by dragging with
mouse button 2. If mouse button 2 is clicked without moving
the mouse, the selection is copied into the text at the
position of the mouse cursor. The Insert key also inserts
the selection, but at the position of the insertion
cursor.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[8]</p></td>
<td width="5%"></td>
<td width="78%">


<p>If the mouse is dragged out of the widget while button 1
is pressed, the entry will automatically scroll to make more
text visible (if there is more text off-screen on the side
where the mouse left the window).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[9]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The Left and Right keys move the insertion cursor one
character to the left or right; they also clear any
selection in the text. If Left or Right is typed with the
Shift key down, then the insertion cursor moves and the
selection is extended to include the new character.
Control-Left and Control-Right move the insertion cursor by
words, and Control-Shift-Left and Control-Shift-Right move
the insertion cursor by words and also extend the selection.
Control-b and Control-f behave the same as Left and Right,
respectively. Meta-b and Meta-f behave the same as
Control-Left and Control-Right, respectively.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[10]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The Up and Down keys move the insertion cursor one line
up or down and clear any selection in the text. If Up or
Right is typed with the Shift key down, then the insertion
cursor moves and the selection is extended to include the
new character. Control-Up and Control-Down move the
insertion cursor by paragraphs (groups of lines separated by
blank lines), and Control-Shift-Up and Control-Shift-Down
move the insertion cursor by paragraphs and also extend the
selection. Control-p and Control-n behave the same as Up and
Down, respectively.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[11]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The Next and Prior keys move the insertion cursor
forward or backwards by one screenful and clear any
selection in the text. If the Shift key is held down while
Next or Prior is typed, then the selection is extended to
include the new character.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[12]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-Next and Control-Prior scroll the view right or
left by one page without moving the insertion cursor or
affecting the selection.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[13]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Home and Control-a move the insertion cursor to the
beginning of its display line and clear any selection in the
widget. Shift-Home moves the insertion cursor to the
beginning of the display line and also extends the selection
to that point.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[14]</p></td>
<td width="5%"></td>
<td width="78%">


<p>End and Control-e move the insertion cursor to the end
of the display line and clear any selection in the widget.
Shift-End moves the cursor to the end of the display line
and extends the selection to that point.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[15]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-Home and Meta-&lt; move the insertion cursor to
the beginning of the text and clear any selection in the
widget. Control-Shift-Home moves the insertion cursor to the
beginning of the text and also extends the selection to that
point.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[16]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-End and Meta-&gt; move the insertion cursor to
the end of the text and clear any selection in the widget.
Control-Shift-End moves the cursor to the end of the text
and extends the selection to that point.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[17]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The Select key and Control-Space set the selection
anchor to the position of the insertion cursor. They do not
affect the current selection. Shift-Select and
Control-Shift-Space adjust the selection to the current
position of the insertion cursor, selecting from the anchor
to the insertion cursor if there was not any selection
previously.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[18]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-/ selects the entire contents of the widget.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[19]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-\ clears any selection in the widget.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[20]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The F16 key (labelled Copy on many Sun workstations) or
Meta-w copies the selection in the widget to the clipboard,
if there is a selection. This action is carried out by the
command <b>tk_textCopy</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[21]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The F20 key (labelled Cut on many Sun workstations) or
Control-w copies the selection in the widget to the
clipboard and deletes the selection. This action is carried
out by the command <b>tk_textCut</b>. If there is no
selection in the widget then these keys have no effect.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[22]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The F18 key (labelled Paste on many Sun workstations) or
Control-y inserts the contents of the clipboard at the
position of the insertion cursor. This action is carried out
by the command <b>tk_textPaste</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[23]</p></td>
<td width="5%"></td>
<td width="78%">


<p>The Delete key deletes the selection, if there is one in
the widget. If there is no selection, it deletes the
character to the right of the insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[24]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Backspace and Control-h delete the selection, if there
is one in the widget. If there is no selection, they delete
the character to the left of the insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[25]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-d deletes the character to the right of the
insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[26]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Meta-d deletes the word to the right of the insertion
cursor.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[27]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-k deletes from the insertion cursor to the end
of its line; if the insertion cursor is already at the end
of a line, then Control-k deletes the newline character.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[28]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-o opens a new line by inserting a newline
character in front of the insertion cursor without moving
the insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[29]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Meta-backspace and Meta-Delete delete the word to the
left of the insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[30]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-x deletes whatever is selected in the text
widget after copying it to the clipboard.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[31]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-t reverses the order of the two characters to
the right of the insertion cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[32]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-z (and Control-underscore on UNIX when
<b>tk_strictMotif</b> is true) undoes the last edit action
if the <b>&minus;undo</b> option is true. Does nothing
otherwise.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p>[33]</p></td>
<td width="5%"></td>
<td width="78%">


<p>Control-Z (or Control-y on Windows) reapplies the last
undone edit action if the <b>&minus;undo</b> option is true.
Does nothing otherwise.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If the widget
is disabled using the <b>&minus;state</b> option, then its
view can still be adjusted and text can still be selected,
but no insertion cursor will be displayed and no text
modifications will take place.</p>

<p style="margin-left:11%; margin-top: 1em">The behavior of
texts can be changed by defining new bindings for individual
widgets or by redefining the class bindings.</p>

<h2>KNOWN ISSUES
<a name="KNOWN ISSUES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ISSUES
CONCERNING CHARS AND INDICES</b> <br>
Before Tk 8.5, the widget used the string
&ldquo;chars&rdquo; to refer to index <big>&#9474;</big>
positions (which included characters, embedded windows and
embedded <big>&#9474;</big> images). As of Tk 8.5 the text
widget deals separately and correctly <big>&#9474;</big>
with &ldquo;chars&rdquo; and &ldquo;indices&rdquo;. For
backwards compatibility, however, the <big>&#9474;</big>
index modifiers &ldquo;+N chars&rdquo; and &ldquo;&minus;N
chars&rdquo; continue to refer to indices.
<big>&#9474;</big> One must use any of the full forms
&ldquo;+N any chars&rdquo; or &ldquo;&minus;N any
chars&rdquo; <big>&#9474;</big> etc. to refer to actual
character indices. This confusion may be fixed
<big>&#9474;</big> in a future release by making the widget
correctly interpret &ldquo;+N chars&rdquo;
<big>&#9474;</big> as a synonym for &ldquo;+N any
chars&rdquo;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>PERFORMANCE
ISSUES</b> <br>
Text widgets should run efficiently under a variety of
conditions. The text widget uses about 2-3 bytes of main
memory for each byte of text, so texts containing a megabyte
or more should be practical on most workstations. Text is
represented internally with a modified B-tree structure that
makes operations relatively efficient even with large texts.
Tags are included in the B-tree structure in a way that
allows tags to span large ranges or have many disjoint
smaller ranges without loss of efficiency. Marks are also
implemented in a way that allows large numbers of marks. In
most cases it is fine to have large numbers of unique tags,
or a tag that has many distinct ranges.</p>

<p style="margin-left:11%; margin-top: 1em">One performance
problem can arise if you have hundreds or thousands of
different tags that all have the following characteristics:
the first and last ranges of each tag are near the beginning
and end of the text, respectively, or a single tag range
covers most of the text widget. The cost of adding and
deleting tags like this is proportional to the number of
other tags with the same properties. In contrast, there is
no problem with having thousands of distinct tags if their
overall ranges are localized and spread uniformly throughout
the text.</p>

<p style="margin-left:11%; margin-top: 1em">Very long text
lines can be expensive, especially if they have many marks
and tags within them.</p>

<p style="margin-left:11%; margin-top: 1em">The display
line with the insert cursor is redrawn each time the cursor
blinks, which causes a steady stream of graphics traffic.
Set the <b>insertOffTime</b> attribute to 0 avoid this.</p>

<p style="margin-left:11%; margin-top: 1em"><b>KNOWN
BUGS</b> <br>
The <i>pathName</i> <b>search &minus;regexp</b> sub-command
attempts to perform <big>&#9474;</big> sophisticated regexp
matching across multiple lines in an efficient
<big>&#9474;</big> fashion (since Tk 8.5), examining each
line individually, and then in <big>&#9474;</big> small
groups of lines, whether searching forwards or backwards.
Under <big>&#9474;</big> certain conditions the search
result might differ from that obtained by <big>&#9474;</big>
applying the same regexp to the entire text from the widget
in one go. <big>&#9474;</big> For example, when searching
with a greedy regexp, the widget will <big>&#9474;</big>
continue to attempt to add extra lines to the match as long
as one of <big>&#9474;</big> two conditions are true: either
Tcl&rsquo;s regexp library returns a code to
<big>&#9474;</big> indicate a longer match is possible (but
there are known bugs in Tcl <big>&#9474;</big> which mean
this code is not always correctly returned); or if each
<big>&#9474;</big> extra line added results in at least a
partial match with the pattern. <big>&#9474;</big> This
means in the case where the first extra line added results
in no <big>&#9474;</big> match and Tcl&rsquo;s regexp system
returns the incorrect code and adding a <big>&#9474;</big>
second extra line would actually match, the text widget will
return the <big>&#9474;</big> wrong result. In practice this
is a rare problem, but it can occur, <big>&#9474;</big> for
example: <big>&#9474;</big></p>

<p style="margin-left:22%;">pack [text .t]
<big>&#9474;</big> <br>
.t insert 1.0 &quot;aaaa\nbbbb\ncccc\nbbbb\naaaa\n&quot;
<big>&#9474;</big> <br>
.t search &minus;regexp &minus;&minus;
{(a+|b+\nc+\nb+)+\na+} 1.0 <big>&#9474;</big></p>

<p style="margin-left:11%;">will not find a match when one
exists of 19 characters starting from <big>&#9474;</big> the
first &ldquo;b&rdquo;. <big>&#9474;</big></p>

<p style="margin-left:11%; margin-top: 1em">Whenever one
possible match is fully enclosed in another, the search
<big>&#9474;</big> command will attempt to ensure only the
larger match is returned. When <big>&#9474;</big> performing
backwards regexp searches it is possible that Tcl will not
<big>&#9474;</big> always achieve this, in the case where a
match is preceded by one or <big>&#9474;</big> more short,
non-overlapping matches, all of which are preceded by a
<big>&#9474;</big> large match which actually encompasses
all of them. The search <big>&#9474;</big> algorithm used by
the widget does not look back arbitrarily far for a
<big>&#9474;</big> possible match which might cover large
portions of the widget. For <big>&#9474;</big> example:
<big>&#9474;</big></p>

<p style="margin-left:22%;">pack [text .t]
<big>&#9474;</big> <br>
.t insert 1.0 &quot;aaaa\nbbbb\nbbbb\nbbbb\nbbbb\n&quot;
<big>&#9474;</big> <br>
.t search &minus;regexp &minus;backward &minus;&minus;
{b+\n|a+\n(b+\n)+} end <big>&#9474;</big></p>

<p style="margin-left:11%;">matches at &ldquo;5.0&rdquo;
when a true greedy match would match at &ldquo;1.0&rdquo;.
<big>&#9474;</big> Similarly if we add <b>&minus;all</b> to
this case, it matches at all of &ldquo;5.0&rdquo;,
<big>&#9474;</big> &ldquo;4.0&rdquo;, &ldquo;3.0&rdquo; and
&ldquo;1.0&rdquo;, when really it should only match at
&ldquo;1.0&rdquo; since <big>&#9474;</big> that match
encloses all the others.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">entry(n),
scrollbar(n)</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">text, widget,
tkvars</p>
<hr>
</body>
</html>
