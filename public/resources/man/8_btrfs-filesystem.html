<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:24:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BTRFS&minus;FILESYSTEM</title>

</head>
<body>

<h1 align="center">BTRFS&minus;FILESYSTEM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SUBCOMMAND">SUBCOMMAND</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#AVAILABILITY">AVAILABILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">btrfs-filesystem
&minus; control btrfs filesystem</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>btrfs
filesystem</b> <i>&lt;subcommand&gt; &lt;args&gt;</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i><b>btrfs
filesystem</b></i> is used to do the filesystem level
control jobs, including all the regular filesystem
operations like setting/getting label, resizing,
defragment.</p>

<h2>SUBCOMMAND
<a name="SUBCOMMAND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>df</b>
[options] <i>&lt;path&gt;</i></p>

<p style="margin-left:17%;">Show space usage information
for a mount point.</p>


<p style="margin-left:17%; margin-top: 1em"><b>Options</b></p>


<p style="margin-left:17%; margin-top: 1em">&minus;b|&minus;&minus;raw</p>

<p style="margin-left:23%;">raw numbers in bytes, without
the <i>B</i> suffix</p>


<p style="margin-left:17%; margin-top: 1em">&minus;h|&minus;&minus;human&minus;readable</p>

<p style="margin-left:23%;">print human friendly numbers,
base 1024, this is the default</p>

<p style="margin-left:17%; margin-top: 1em">&minus;H</p>

<p style="margin-left:23%;">print human friendly numbers,
base 1000</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;iec</p>

<p style="margin-left:23%;">select the 1024 base for the
following options, according to the IEC standard</p>


<p style="margin-left:17%; margin-top: 1em">&minus;&minus;si</p>

<p style="margin-left:23%;">select the 1000 base for the
following options, according to the SI standard</p>


<p style="margin-left:17%; margin-top: 1em">&minus;k|&minus;&minus;kbytes</p>

<p style="margin-left:23%;">show sizes in KiB, or kB with
&minus;&minus;si</p>


<p style="margin-left:17%; margin-top: 1em">&minus;m|&minus;&minus;mbytes</p>

<p style="margin-left:23%;">show sizes in MiB, or MB with
&minus;&minus;si</p>


<p style="margin-left:17%; margin-top: 1em">&minus;g|&minus;&minus;gbytes</p>

<p style="margin-left:23%;">show sizes in GiB, or GB with
&minus;&minus;si</p>


<p style="margin-left:17%; margin-top: 1em">&minus;t|&minus;&minus;tbytes</p>

<p style="margin-left:23%;">show sizes in TiB, or TB with
&minus;&minus;si</p>

<p style="margin-left:23%; margin-top: 1em">If conflicting
options are passed, the last one takes precedence.</p>


<p style="margin-left:11%; margin-top: 1em"><b>defragment</b>
[options] <i>&lt;file&gt;</i>|<i>&lt;dir&gt;</i>
[<i>&lt;file&gt;</i>|<i>&lt;dir&gt;</i>...]</p>

<p style="margin-left:17%;">Defragment file data and/or
directory metadata <b>online</b>.</p>

<p style="margin-left:17%; margin-top: 1em">If
<i>&minus;r</i> is passed, files in dir will be defragmented
recursively. The start position and the number of bytes to
defragment can be specified by start and len using
<i>&minus;s</i> and <i>&minus;l</i> options below. Any
extent bigger than threshold given by <i>&minus;t</i>
option, will be considered already defragged. Use 0 to take
the kernel default. You can also turn on compression in
defragment operations.</p>


<p style="margin-left:17%; margin-top: 1em"><b>Options</b></p>

<p style="margin-left:17%; margin-top: 1em">&minus;v</p>

<p style="margin-left:23%;">be verbose</p>

<p style="margin-left:17%; margin-top: 1em">&minus;c</p>

<p style="margin-left:23%;">compress file contents while
defragmenting</p>

<p style="margin-left:17%; margin-top: 1em">&minus;r</p>

<p style="margin-left:23%;">defragment files
recursively</p>

<p style="margin-left:17%; margin-top: 1em">&minus;f</p>

<p style="margin-left:23%;">flush filesystem after
defragmenting</p>

<p style="margin-left:17%; margin-top: 1em">&minus;s
<i>&lt;start&gt;</i>[kKmMgGtTpPeE]</p>

<p style="margin-left:23%;">defragment only from byte
<i>&lt;start&gt;</i> onward</p>

<p style="margin-left:17%; margin-top: 1em">&minus;l
<i>&lt;len&gt;</i>[kKmMgGtTpPeE]</p>

<p style="margin-left:23%;">defragment only up to
<i>&lt;len&gt;</i> bytes</p>

<p style="margin-left:17%; margin-top: 1em">&minus;t
<i>&lt;size&gt;</i>[kKmMgGtTpPeE]</p>

<p style="margin-left:23%;">defragment only files at least
<i>&lt;size&gt;</i> bytes big</p>

<p style="margin-left:23%; margin-top: 1em">For
<i>&lt;start&gt;</i>, <i>&lt;len&gt;</i>,
<i>&lt;size&gt;</i> it is possible to append units
designator: 'K', 'M', 'G', 'T', 'P', or 'E', which represent
KiB, MiB, GiB, TiB, PiB, or EiB, respectively. Case does not
matter.</p>


<p style="margin-left:29%; margin-top: 1em"><b><big>Warning</big></b>
<br>
defragmenting with kernels up to 2.6.37 will unlink
COW&minus;ed copies of data, don&rsquo;t use it if you use
snapshots, have de&minus;duplicated your data or made copies
with <b>cp &minus;&minus;reflink</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b><big>label</big></b>
<big>[<i>&lt;dev&gt;</i>|<i>&lt;mountpoint&gt;</i>]
[<i>&lt;newlabel&gt;</i>]</big></p>

<p style="margin-left:17%;"><big>Show or update the label
of a filesystem.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big>[<i>&lt;device&gt;</i>|<i>&lt;mountpoint&gt;</i>]
is used to identify the filesystem. If a newlabel optional
argument is passed, the label is changed.</big></p>


<p style="margin-left:23%; margin-top: 1em"><big><b><big>Note</big></b>
<br>
the maximum allowable length shall be less than 256
chars</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b><big>resize</big></b>
<big>[<i>&lt;devid&gt;</i>:][+/&minus;]<i>&lt;size&gt;</i>[kKmMgGtTpPeE]|[<i>&lt;devid&gt;</i>:]max
<i>&lt;path&gt;</i></big></big></p>

<p style="margin-left:17%;"><big><big>Resize a filesystem
identified by <i>&lt;path&gt;</i> for the underlying device
devid <b>online</b>.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
devid can be found with <b>btrfs filesystem show</b> and
defaults to 1 if not specified. The <i>&lt;size&gt;</i>
parameter specifies the new size of the filesystem. If the
prefix + or &minus; is present the size is increased or
decreased by the quantity <i>&lt;size&gt;</i>. If no units
are specified, the unit of the <i>&lt;size&gt;</i> parameter
defaults to bytes. Optionally, the size parameter may be
suffixed by one of the following units designators: 'K',
'M', 'G', 'T', 'P', or 'E', which represent KiB, MiB, GiB,
TiB, PiB, or EiB, respectively. Case does not
matter.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If
'max' is passed, the filesystem will occupy all available
space on the device devid.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>The
resize command does not manipulate the size of underlying
partition. If you wish to enlarge/reduce a filesystem, you
must make sure you can expand the partition before enlarging
the filesystem and shrink the partition after reducing the
size of the filesystem. This can done using <b>fdisk</b>(8)
or <b>parted</b>(8) to delete the existing partition and
recreate it with the new desired size. When recreating the
partition make sure to use the same starting disk cylinder
as before.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>show</b>
[&minus;&minus;mounted|&minus;&minus;all&minus;devices|<i>&lt;path&gt;</i>|<i>&lt;uuid&gt;</i>|<i>&lt;device&gt;</i>|<i>&lt;label&gt;</i>]</big></big></p>

<p style="margin-left:17%;"><big><big>Show the btrfs
filesystem with some additional info.</big></big></p>

<p style="margin-left:17%; margin-top: 1em"><big><big>If no
option nor
<i>&lt;path&gt;</i>|<i>&lt;uuid&gt;</i>|<i>&lt;device&gt;</i>|<i>&lt;label&gt;</i>
is passed, btrfs shows information of all the btrfs
filesystem both mounted and unmounted. If
<i>&minus;&minus;mounted</i> is passed, it would probe btrfs
kernel to list mounted btrfs filesystem(s); If
<i>&minus;&minus;all&minus;devices</i> is passed, all the
devices under /dev are scanned; otherwise the devices list
is extracted from the /proc/partitions file.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>sync</b>
<i>&lt;path&gt;</i></big></big></p>

<p style="margin-left:17%;"><big><big>Force a sync for the
filesystem identified by
<i>&lt;path&gt;</i>.</big></big></p>


<p style="margin-left:11%; margin-top: 1em"><big><big><b>usage</b>
[options] <i>&lt;path&gt;</i>
[<i>&lt;path&gt;</i>...]</big></big></p>

<p style="margin-left:17%;"><big><big>Show detailed
information about internal filesystem usage.</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big><b>Options</b></big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;b|&minus;&minus;raw</big></big></p>

<p style="margin-left:23%;"><big><big>raw numbers in bytes,
without the <i>B</i> suffix</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;h|&minus;&minus;human&minus;readable</big></big></p>

<p style="margin-left:23%;"><big><big>print human friendly
numbers, base 1024, this is the default</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;H</big></big></p>

<p style="margin-left:23%;"><big><big>print human friendly
numbers, base 1000</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;&minus;iec</big></big></p>

<p style="margin-left:23%;"><big><big>select the 1024 base
for the following options, according to the IEC
standard</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;&minus;si</big></big></p>

<p style="margin-left:23%;"><big><big>select the 1000 base
for the following options, according to the SI
standard</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;k|&minus;&minus;kbytes</big></big></p>

<p style="margin-left:23%;"><big><big>show sizes in KiB, or
kB with &minus;&minus;si</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;m|&minus;&minus;mbytes</big></big></p>

<p style="margin-left:23%;"><big><big>show sizes in MiB, or
MB with &minus;&minus;si</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;g|&minus;&minus;gbytes</big></big></p>

<p style="margin-left:23%;"><big><big>show sizes in GiB, or
GB with &minus;&minus;si</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;t|&minus;&minus;tbytes</big></big></p>

<p style="margin-left:23%;"><big><big>show sizes in TiB, or
TB with &minus;&minus;si</big></big></p>


<p style="margin-left:17%; margin-top: 1em"><big><big>&minus;T</big></big></p>

<p style="margin-left:23%;"><big><big>show data in tabular
format</big></big></p>

<p style="margin-left:23%; margin-top: 1em"><big><big>If
conflicting options are passed, the last one takes
precedence.</big></big></p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><b>btrfs
filesystem</b> returns a zero exit status if it succeeds.
Non zero is returned in case of failure.</big></big></p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><b>btrfs</b>
is part of btrfs&minus;progs. Please refer to the btrfs wiki
<b><font color="#0000FF">http://btrfs.wiki.kernel.org</font></b>
<font color="#000000">for further
details.</font></big></big></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><big><font color="#000000"><b>mkfs.btrfs</b>(8),</font></big></big></p>
<hr>
</body>
</html>
