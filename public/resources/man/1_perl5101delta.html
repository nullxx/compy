<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:58:47 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERL5101DELTA</title>

</head>
<body>

<h1 align="center">PERL5101DELTA</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Incompatible Changes">Incompatible Changes</a><br>
<a href="#Core Enhancements">Core Enhancements</a><br>
<a href="#Modules and Pragmata">Modules and Pragmata</a><br>
<a href="#Utility Changes">Utility Changes</a><br>
<a href="#New Documentation">New Documentation</a><br>
<a href="#Changes to Existing Documentation">Changes to Existing Documentation</a><br>
<a href="#Performance Enhancements">Performance Enhancements</a><br>
<a href="#Installation and Configuration Improvements">Installation and Configuration Improvements</a><br>
<a href="#Selected Bug Fixes">Selected Bug Fixes</a><br>
<a href="#New or Changed Diagnostics">New or Changed Diagnostics</a><br>
<a href="#Changed Internals">Changed Internals</a><br>
<a href="#New Tests">New Tests</a><br>
<a href="#Known Problems">Known Problems</a><br>
<a href="#Deprecations">Deprecations</a><br>
<a href="#Acknowledgements">Acknowledgements</a><br>
<a href="#Reporting Bugs">Reporting Bugs</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perl5101delta
&minus; what is new for perl v5.10.1</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This document
describes differences between the 5.10.0 release and the
5.10.1 release.</p>

<p style="margin-left:11%; margin-top: 1em">If you are
upgrading from an earlier release such as 5.8.8, first read
the perl5100delta, which describes differences between 5.8.8
and 5.10.0</p>

<h2>Incompatible Changes
<a name="Incompatible Changes"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Switch
statement changes</b> <br>
The handling of complex expressions by the
<tt>&quot;given&quot;</tt>/<tt>&quot;when&quot;</tt> switch
statement has been enhanced. There are two new cases where
<tt>&quot;when&quot;</tt> now interprets its argument as a
boolean, instead of an expression to be used in a smart
match: <br>
flip-flop operators</p>

<p style="margin-left:17%;">The <tt>&quot;..&quot;</tt> and
<tt>&quot;...&quot;</tt> flip-flop operators are now
evaluated in boolean context, following their usual
semantics; see &quot;Range Operators&quot; in perlop.</p>

<p style="margin-left:17%; margin-top: 1em">Note that, as
in perl 5.10.0, <tt>&quot;when (1..10)&quot;</tt> will not
work to test whether a given value is an integer between 1
and 10; you should use <tt>&quot;when ([1..10])&quot;</tt>
instead (note the array reference).</p>

<p style="margin-left:17%; margin-top: 1em">However,
contrary to 5.10.0, evaluating the flip-flop operators in
boolean context ensures it can now be useful in a
<tt>&quot;when()&quot;</tt>, notably for implementing
bistable conditions, like in:</p>

<pre style="margin-left:17%; margin-top: 1em">    when (/^=begin/ .. /^=end/) {
      # do something
    }</pre>


<p style="margin-left:11%;">defined-or operator</p>

<p style="margin-left:17%;">A compound expression involving
the defined-or operator, as in <tt>&quot;when (expr1 //
expr2)&quot;</tt>, will be treated as boolean if the first
expression is boolean. (This just extends the existing rule
that applies to the regular or operator, as in
<tt>&quot;when (expr1 || expr2)&quot;</tt>.)</p>

<p style="margin-left:11%; margin-top: 1em">The next
section details more changes brought to the semantics to the
smart match operator, that naturally also modify the
behaviour of the switch statements where smart matching is
implicitly used.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Smart match
changes</b> <i><br>
Changes to type-based dispatch</i></p>

<p style="margin-left:11%; margin-top: 1em">The smart match
operator <tt>&quot;~~&quot;</tt> is no longer commutative.
The behaviour of a smart match now depends primarily on the
type of its right hand argument. Moreover, its semantics
have been adjusted for greater consistency or usefulness in
several cases. While the general backwards compatibility is
maintained, several changes must be noted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Code references with an empty prototype are no longer
treated specially. They are passed an argument like the
other code references (even if they choose to ignore
it).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;%hash ~~ sub {}&quot;</tt> and
<tt>&quot;@array ~~ sub {}&quot;</tt> now test that the
subroutine returns a true value for each key of the hash (or
element of the array), instead of passing the whole hash or
array as a reference to the subroutine.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Due to the commutativity breakage, code references are
no longer treated specially when appearing on the left of
the <tt>&quot;~~&quot;</tt> operator, but like any vulgar
scalar.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;undef ~~ %hash&quot;</tt> is always false
(since <tt>&quot;undef&quot;</tt> can&rsquo;t be a key in a
hash). No implicit conversion to <tt>&quot;&quot;</tt> is
done (as was the case in perl 5.10.0).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;$scalar ~~ @array&quot;</tt> now always
distributes the smart match across the elements of the
array. It&rsquo;s true if one element in <tt>@array</tt>
verifies <tt>&quot;$scalar ~~ $element&quot;</tt>. This is a
generalization of the old behaviour that tested whether the
array contained the scalar.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The full
dispatch table for the smart match operator is given in
&quot;Smart matching in detail&quot; in perlsyn.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Smart match
and overloading</i></p>

<p style="margin-left:11%; margin-top: 1em">According to
the rule of dispatch based on the rightmost argument type,
when an object overloading <tt>&quot;~~&quot;</tt> appears
on the right side of the operator, the overload routine will
always be called (with a 3rd argument set to a true value,
see overload.) However, when the object will appear on the
left, the overload routine will be called only when the
rightmost argument is a simple scalar. This way
distributivity of smart match across arrays is not broken,
as well as the other behaviours with complex types
(coderefs, hashes, regexes). Thus, writers of overloading
routines for smart match mostly need to worry only with
comparing against a scalar, and possibly with
stringification overloading; the other common cases will be
automatically handled consistently.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;~~&quot;</tt>
will now refuse to work on objects that do not overload it
(in order to avoid relying on the object&rsquo;s underlying
structure). (However, if the object overloads the
stringification or the numification operators, and if
overload fallback is active, it will be used instead, as
usual.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Other
incompatible changes</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The semantics of <tt>&quot;use
feature :5.10*&quot;</tt> have changed slightly. See
&quot;Modules and Pragmata&quot; for more information.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>It is now a run-time error to use the smart match
operator <tt>&quot;~~&quot;</tt> with an object that has no
overload defined for it. (This way <tt>&quot;~~&quot;</tt>
will not break encapsulation by matching against the
object&rsquo;s internal representation as a reference.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The version control system used for the development of
the perl interpreter has been switched from Perforce to git.
This is mainly an internal issue that only affects people
actively working on the perl core; but it may have minor
external visibility, for example in some of details of the
output of <tt>&quot;perl &minus;V&quot;</tt>. See
perlrepository for more information.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The internal structure of the <tt>&quot;ext/&quot;</tt>
directory in the perl source has been reorganised. In
general, a module <tt>&quot;Foo::Bar&quot;</tt> whose source
was stored under <i>ext/Foo/Bar/</i> is now located under
<i>ext/Foo&minus;Bar/</i>. Also, some modules have been
moved from <i>lib/</i> to <i>ext/</i>. This is purely a
source tarball change, and should make no difference to the
compilation or installation of perl, unless you have a very
customised build process that explicitly relies on this
structure, or which hard-codes the
<tt>&quot;nonxs_ext&quot;</tt> <i>Configure</i> parameter.
Specifically, this change does not by default alter the
location of any files in the final installation.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>As part of the <tt>&quot;Test::Harness&quot;</tt> 2.x to
3.x upgrade, the experimental
<tt>&quot;Test::Harness::Straps&quot;</tt> module has been
removed. See &quot;Updated Modules&quot; for more
details.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>As part of the <tt>&quot;ExtUtils::MakeMaker&quot;</tt>
upgrade, the <tt>&quot;ExtUtils::MakeMaker::bytes&quot;</tt>
and <tt>&quot;ExtUtils::MakeMaker::vmsish&quot;</tt> modules
have been removed from this distribution.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Module::CoreList&quot;</tt> no longer contains
the <tt>%:patchlevel</tt> hash.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>This one is actually a change introduced in 5.10.0, but
it was missed from that release&rsquo;s perldelta, so it is
mentioned here instead.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A bugfix
related to the handling of the <tt>&quot;/m&quot;</tt>
modifier and <tt>&quot;qr&quot;</tt> resulted in a change of
behaviour between 5.8.x and 5.10.0:</p>

<pre style="margin-left:17%; margin-top: 1em">    # matches in 5.8.x, doesn't match in 5.10.0
    $re = qr/^bar/; &quot;foo\nbar&quot; =~ /$re/m;</pre>


<h2>Core Enhancements
<a name="Core Enhancements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Unicode
Character Database 5.1.0</b> <br>
The copy of the Unicode Character Database included in Perl
5.10.1 has been updated to 5.1.0 from 5.0.0. See
&lt;http://www.unicode.org/versions/Unicode5.1.0/#Notable_Changes&gt;
for the notable changes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>A proper
interface for pluggable Method Resolution Orders</b> <br>
As of Perl 5.10.1 there is a new interface for plugging and
using method resolution orders other than the default
(linear depth first search). The C3 method resolution order
added in 5.10.0 has been re-implemented as a plugin, without
changing its Perl-space interface. See perlmroapi for more
information.</p>

<p style="margin-left:11%; margin-top: 1em"><b>The
&quot;overloading&quot; pragma</b> <br>
This pragma allows you to lexically disable or enable
overloading for some or all operations. (Yuval Kogman)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Parallel
tests</b> <br>
The core distribution can now run its regression tests in
parallel on Unix-like platforms. Instead of running
<tt>&quot;make test&quot;</tt>, set
<tt>&quot;TEST_JOBS&quot;</tt> in your environment to the
number of tests to run in parallel, and run <tt>&quot;make
test_harness&quot;</tt>. On a Bourne-like shell, this can be
done as</p>

<pre style="margin-left:11%; margin-top: 1em">    TEST_JOBS=3 make test_harness  # Run 3 tests in parallel</pre>


<p style="margin-left:11%; margin-top: 1em">An environment
variable is used, rather than parallel make itself, because
TAP::Harness needs to be able to schedule individual
non-conflicting test scripts itself, and there is no
standard interface to <tt>&quot;make&quot;</tt> utilities to
interact with their job schedulers.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
currently some test scripts may fail when run in parallel
(most notably <tt>&quot;ext/IO/t/io_dir.t&quot;</tt>). If
necessary run just the failing scripts again sequentially
and see if the failures go away.</p>

<p style="margin-left:11%; margin-top: 1em"><b>DTrace
support</b> <br>
Some support for DTrace has been added. See &quot;DTrace
support&quot; in <i><small>INSTALL</small></i> .</p>

<p style="margin-left:11%; margin-top: 1em"><b>Support for
&quot;configure_requires&quot; in <small>CPAN</small> module
metadata</b> <br>
Both <tt>&quot;CPAN&quot;</tt> and
<tt>&quot;CPANPLUS&quot;</tt> now support the
<tt>&quot;configure_requires&quot;</tt> keyword in the
<tt>&quot;META.yml&quot;</tt> metadata file included in most
recent <small>CPAN</small> distributions. This allows
distribution authors to specify configuration prerequisites
that must be installed before running <i>Makefile.PL</i> or
<i>Build.PL</i>.</p>

<p style="margin-left:11%; margin-top: 1em">See the
documentation for <tt>&quot;ExtUtils::MakeMaker&quot;</tt>
or <tt>&quot;Module::Build&quot;</tt> for more on how to
specify <tt>&quot;configure_requires&quot;</tt> when
creating a distribution for <small>CPAN</small> .</p>

<h2>Modules and Pragmata
<a name="Modules and Pragmata"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>New Modules
and Pragmata</b> <br>
&quot;autodie&quot;</p>

<p style="margin-left:17%;">This is a new lexically-scoped
alternative for the <tt>&quot;Fatal&quot;</tt> module. The
bundled version is 2.06_01. Note that in this release, using
a string eval when <tt>&quot;autodie&quot;</tt> is in effect
can cause the autodie behaviour to leak into the surrounding
scope. See &quot; <small>BUGS</small> &quot; in autodie for
more details.</p>


<p style="margin-left:11%;">&quot;Compress::Raw::Bzip2&quot;</p>

<p style="margin-left:17%;">This has been added to the core
(version 2.020).</p>

<p style="margin-left:11%;">&quot;parent&quot;</p>

<p style="margin-left:17%;">This pragma establishes an
<small>ISA</small> relationship with base classes at compile
time. It provides the key feature of
<tt>&quot;base&quot;</tt> without the feature creep.</p>


<p style="margin-left:11%;">&quot;Parse::CPAN::Meta&quot;</p>

<p style="margin-left:17%;">This has been added to the core
(version 1.39).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Pragmata
Changes</b> <br>
&quot;attributes&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.08 to
0.09.</p>

<p style="margin-left:11%;">&quot;attrs&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.02 to
1.03.</p>

<p style="margin-left:11%;">&quot;base&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.13 to
2.14. See parent for a replacement.</p>

<p style="margin-left:11%;">&quot;bigint&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.22 to
0.23.</p>

<p style="margin-left:11%;">&quot;bignum&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.22 to
0.23.</p>

<p style="margin-left:11%;">&quot;bigrat&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.22 to
0.23.</p>

<p style="margin-left:11%;">&quot;charnames&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.06 to
1.07.</p>

<p style="margin-left:17%; margin-top: 1em">The Unicode
<i>NameAliases.txt</i> database file has been added. This
has the effect of adding some extra <tt>&quot;\N&quot;</tt>
character names that formerly wouldn&rsquo;t have been
recognised; for example, <tt>&quot;\N{LATIN CAPITAL LETTER
GHA}&quot;</tt>.</p>

<p style="margin-left:11%;">&quot;constant&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.13 to
1.17.</p>

<p style="margin-left:11%;">&quot;feature&quot;</p>

<p style="margin-left:17%;">The meaning of the
<tt>&quot;:5.10&quot;</tt> and <tt>&quot;:5.10.X&quot;</tt>
feature bundles has changed slightly. The last component, if
any (i.e. <tt>&quot;X&quot;</tt>) is simply ignored. This is
predicated on the assumption that new features will not, in
general, be added to maintenance releases. So
<tt>&quot;:5.10&quot;</tt> and <tt>&quot;:5.10.X&quot;</tt>
have identical effect. This is a change to the behaviour
documented for 5.10.0.</p>

<p style="margin-left:11%;">&quot;fields&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.13 to
2.14 (this was just a version bump; there were no functional
changes).</p>

<p style="margin-left:11%;">&quot;lib&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.5565 to
0.62.</p>

<p style="margin-left:11%;">&quot;open&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.06 to
1.07.</p>

<p style="margin-left:11%;">&quot;overload&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.06 to
1.07.</p>

<p style="margin-left:11%;">&quot;overloading&quot;</p>

<p style="margin-left:17%;">See &quot;The
<tt>&quot;overloading&quot;</tt> pragma&quot; above.</p>

<p style="margin-left:11%;">&quot;version&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.74 to
0.77.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Updated
Modules</b> <br>
&quot;Archive::Extract&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.24 to
0.34.</p>

<p style="margin-left:11%;">&quot;Archive::Tar&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.38 to
1.52.</p>


<p style="margin-left:11%;">&quot;Attribute::Handlers&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.79 to
0.85.</p>

<p style="margin-left:11%;">&quot;AutoLoader&quot;</p>

<p style="margin-left:17%;">Upgraded from version 5.63 to
5.68.</p>

<p style="margin-left:11%;">&quot;AutoSplit&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.05 to
1.06.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>&quot;B&quot;</p></td>
<td width="2%"></td>
<td width="54%">


<p>Upgraded from version 1.17 to 1.22.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;">&quot;B::Debug&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.05 to
1.11.</p>

<p style="margin-left:11%;">&quot;B::Deparse&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.83 to
0.89.</p>

<p style="margin-left:11%;">&quot;B::Lint&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.09 to
1.11.</p>

<p style="margin-left:11%;">&quot;B::Xref&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.01 to
1.02.</p>

<p style="margin-left:11%;">&quot;Benchmark&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.10 to
1.11.</p>

<p style="margin-left:11%;">&quot;Carp&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.08 to
1.11.</p>

<p style="margin-left:11%;">&quot;CGI&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.29 to
3.43. (also includes the &quot;default_value for
<i>popup_menu()</i>&quot; fix from 3.45).</p>

<p style="margin-left:11%;">&quot;Compress::Zlib&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.008 to
2.020.</p>

<p style="margin-left:11%;">&quot;CPAN&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.9205 to
1.9402. <tt>&quot;CPAN::FTP&quot;</tt> has a local fix to
stop it being too verbose on download failure.</p>

<p style="margin-left:11%;">&quot;CPANPLUS&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.84 to
0.88.</p>


<p style="margin-left:11%;">&quot;CPANPLUS::Dist::Build&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.06_02
to 0.36.</p>

<p style="margin-left:11%;">&quot;Cwd&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.25_01
to 3.30.</p>

<p style="margin-left:11%;">&quot;Data::Dumper&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.121_14
to 2.124.</p>

<p style="margin-left:11%;">&quot;DB&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.01 to
1.02.</p>

<p style="margin-left:11%;">&quot;DB_File&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.816_1
to 1.820.</p>

<p style="margin-left:11%;">&quot;Devel::PPPort&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.13 to
3.19.</p>

<p style="margin-left:11%;">&quot;Digest::MD5&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.36_01
to 2.39.</p>

<p style="margin-left:11%;">&quot;Digest::SHA&quot;</p>

<p style="margin-left:17%;">Upgraded from version 5.45 to
5.47.</p>

<p style="margin-left:11%;">&quot;DirHandle&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.01 to
1.03.</p>

<p style="margin-left:11%;">&quot;Dumpvalue&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.12 to
1.13.</p>

<p style="margin-left:11%;">&quot;DynaLoader&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.08 to
1.10.</p>

<p style="margin-left:11%;">&quot;Encode&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.23 to
2.35.</p>

<p style="margin-left:11%;">&quot;Errno&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.10 to
1.11.</p>

<p style="margin-left:11%;">&quot;Exporter&quot;</p>

<p style="margin-left:17%;">Upgraded from version 5.62 to
5.63.</p>


<p style="margin-left:11%;">&quot;ExtUtils::CBuilder&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.21 to
0.2602.</p>


<p style="margin-left:11%;">&quot;ExtUtils::Command&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.13 to
1.16.</p>


<p style="margin-left:11%;">&quot;ExtUtils::Constant&quot;</p>

<p style="margin-left:17%;">Upgraded from 0.20 to 0.22.
(Note that neither of these versions are available on
<small>CPAN</small> .)</p>


<p style="margin-left:11%;">&quot;ExtUtils::Embed&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.27 to
1.28.</p>


<p style="margin-left:11%;">&quot;ExtUtils::Install&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.44 to
1.54.</p>


<p style="margin-left:11%;">&quot;ExtUtils::MakeMaker&quot;</p>

<p style="margin-left:17%;">Upgraded from version 6.42 to
6.55_02.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
<tt>&quot;ExtUtils::MakeMaker::bytes&quot;</tt> and
<tt>&quot;ExtUtils::MakeMaker::vmsish&quot;</tt> have been
removed from this distribution.</p>


<p style="margin-left:11%;">&quot;ExtUtils::Manifest&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.51_01
to 1.56.</p>


<p style="margin-left:11%;">&quot;ExtUtils::ParseXS&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.18_02
to 2.2002.</p>

<p style="margin-left:11%;">&quot;Fatal&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.05 to
2.06_01. See also the new pragma
<tt>&quot;autodie&quot;</tt>.</p>

<p style="margin-left:11%;">&quot;File::Basename&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.76 to
2.77.</p>

<p style="margin-left:11%;">&quot;File::Compare&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.1005 to
1.1006.</p>

<p style="margin-left:11%;">&quot;File::Copy&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.11 to
2.14.</p>

<p style="margin-left:11%;">&quot;File::Fetch&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.14 to
0.20.</p>

<p style="margin-left:11%;">&quot;File::Find&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.12 to
1.14.</p>

<p style="margin-left:11%;">&quot;File::Path&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.04 to
2.07_03.</p>

<p style="margin-left:11%;">&quot;File::Spec&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.2501 to
3.30.</p>

<p style="margin-left:11%;">&quot;File::stat&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.00 to
1.01.</p>

<p style="margin-left:11%;">&quot;File::Temp&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.18 to
0.22.</p>

<p style="margin-left:11%;">&quot;FileCache&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.07 to
1.08.</p>

<p style="margin-left:11%;">&quot;FileHandle&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.01 to
2.02.</p>

<p style="margin-left:11%;">&quot;Filter::Simple&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.82 to
0.84.</p>


<p style="margin-left:11%;">&quot;Filter::Util::Call&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.07 to
1.08.</p>

<p style="margin-left:11%;">&quot;FindBin&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.49 to
1.50.</p>

<p style="margin-left:11%;">&quot;GDBM_File&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.08 to
1.09.</p>

<p style="margin-left:11%;">&quot;Getopt::Long&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.37 to
2.38.</p>


<p style="margin-left:11%;">&quot;Hash::Util::FieldHash&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.03 to
1.04. This fixes a memory leak.</p>

<p style="margin-left:11%;">&quot;I18N::Collate&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.00 to
1.01.</p>

<p style="margin-left:11%;">&quot;IO&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.23_01
to 1.25.</p>

<p style="margin-left:17%; margin-top: 1em">This makes
non-blocking mode work on Windows in
<tt>&quot;IO::Socket::INET&quot;</tt> [ <small>CPAN</small>
#43573].</p>


<p style="margin-left:11%;">&quot;IO::Compress::*&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.008 to
2.020.</p>

<p style="margin-left:11%;">&quot;IO::Dir&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.06 to
1.07.</p>

<p style="margin-left:11%;">&quot;IO::Handle&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.27 to
1.28.</p>

<p style="margin-left:11%;">&quot;IO::Socket&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.30_01
to 1.31.</p>

<p style="margin-left:11%;">&quot;IO::Zlib&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.07 to
1.09.</p>

<p style="margin-left:11%;">&quot;IPC::Cmd&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.40_1 to
0.46.</p>

<p style="margin-left:11%;">&quot;IPC::Open3&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.02 to
1.04.</p>

<p style="margin-left:11%;">&quot;IPC::SysV&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.05 to
2.01.</p>

<p style="margin-left:11%;">&quot;lib&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.5565 to
0.62.</p>

<p style="margin-left:11%;">&quot;List::Util&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.19 to
1.21.</p>


<p style="margin-left:11%;">&quot;Locale::MakeText&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.12 to
1.13.</p>

<p style="margin-left:11%;">&quot;Log::Message&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.01 to
0.02.</p>

<p style="margin-left:11%;">&quot;Math::BigFloat&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.59 to
1.60.</p>

<p style="margin-left:11%;">&quot;Math::BigInt&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.88 to
1.89.</p>


<p style="margin-left:11%;">&quot;Math::BigInt::FastCalc&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.16 to
0.19.</p>

<p style="margin-left:11%;">&quot;Math::BigRat&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.21 to
0.22.</p>

<p style="margin-left:11%;">&quot;Math::Complex&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.37 to
1.56.</p>

<p style="margin-left:11%;">&quot;Math::Trig&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.04 to
1.20.</p>

<p style="margin-left:11%;">&quot;Memoize&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.01_02
to 1.01_03 (just a minor documentation change).</p>

<p style="margin-left:11%;">&quot;Module::Build&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.2808_01
to 0.34_02.</p>


<p style="margin-left:11%;">&quot;Module::CoreList&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.13 to
2.18. This release no longer contains the
<tt>%Module::CoreList::patchlevel</tt> hash.</p>

<p style="margin-left:11%;">&quot;Module::Load&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.12 to
0.16.</p>


<p style="margin-left:11%;">&quot;Module::Load::Conditional&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.22 to
0.30.</p>

<p style="margin-left:11%;">&quot;Module::Loaded&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.01 to
0.02.</p>


<p style="margin-left:11%;">&quot;Module::Pluggable&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.6 to
3.9.</p>

<p style="margin-left:11%;">&quot;NDBM_File&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.07 to
1.08.</p>

<p style="margin-left:11%;">&quot;Net::Ping&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.33 to
2.36.</p>

<p style="margin-left:11%;">&quot;NEXT&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.60_01
to 0.64.</p>


<p style="margin-left:11%;">&quot;Object::Accessor&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.32 to
0.34.</p>

<p style="margin-left:11%;">&quot;OS2::REXX&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.03 to
1.04.</p>


<p style="margin-left:11%;">&quot;Package::Constants&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.01 to
0.02.</p>

<p style="margin-left:11%;">&quot;PerlIO&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.04 to
1.06.</p>

<p style="margin-left:11%;">&quot;PerlIO::via&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.04 to
0.07.</p>

<p style="margin-left:11%;">&quot;Pod::Man&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.16 to
2.22.</p>

<p style="margin-left:11%;">&quot;Pod::Parser&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.35 to
1.37.</p>

<p style="margin-left:11%;">&quot;Pod::Simple&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.05 to
3.07.</p>

<p style="margin-left:11%;">&quot;Pod::Text&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.08 to
3.13.</p>

<p style="margin-left:11%;">&quot;POSIX&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.13 to
1.17.</p>

<p style="margin-left:11%;">&quot;Safe&quot;</p>

<p style="margin-left:17%;">Upgraded from 2.12 to 2.18.</p>

<p style="margin-left:11%;">&quot;Scalar::Util&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.19 to
1.21.</p>

<p style="margin-left:11%;">&quot;SelectSaver&quot;</p>

<p style="margin-left:17%;">Upgraded from 1.01 to 1.02.</p>

<p style="margin-left:11%;">&quot;SelfLoader&quot;</p>

<p style="margin-left:17%;">Upgraded from 1.11 to 1.17.</p>

<p style="margin-left:11%;">&quot;Socket&quot;</p>

<p style="margin-left:17%;">Upgraded from 1.80 to 1.82.</p>

<p style="margin-left:11%;">&quot;Storable&quot;</p>

<p style="margin-left:17%;">Upgraded from 2.18 to 2.20.</p>

<p style="margin-left:11%;">&quot;Switch&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.13 to
2.14. Please see &quot;Deprecations&quot;.</p>

<p style="margin-left:11%;">&quot;Symbol&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.06 to
1.07.</p>

<p style="margin-left:11%;">&quot;Sys::Syslog&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.22 to
0.27.</p>


<p style="margin-left:11%;">&quot;Term::ANSIColor&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.12 to
2.00.</p>

<p style="margin-left:11%;">&quot;Term::ReadLine&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.03 to
1.04.</p>

<p style="margin-left:11%;">&quot;Term::UI&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.18 to
0.20.</p>

<p style="margin-left:11%;">&quot;Test::Harness&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.64 to
3.17.</p>

<p style="margin-left:17%; margin-top: 1em">Note that one
side-effect of the 2.x to 3.x upgrade is that the
experimental <tt>&quot;Test::Harness::Straps&quot;</tt>
module (and its supporting <tt>&quot;Assert&quot;</tt>,
<tt>&quot;Iterator&quot;</tt>, <tt>&quot;Point&quot;</tt>
and <tt>&quot;Results&quot;</tt> modules) have been removed.
If you still need this, then they are available in the
(unmaintained)
<tt>&quot;Test&minus;Harness&minus;Straps&quot;</tt>
distribution on <small>CPAN</small> .</p>

<p style="margin-left:11%;">&quot;Test::Simple&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.72 to
0.92.</p>


<p style="margin-left:11%;">&quot;Text::ParseWords&quot;</p>

<p style="margin-left:17%;">Upgraded from version 3.26 to
3.27.</p>

<p style="margin-left:11%;">&quot;Text::Tabs&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2007.1117
to 2009.0305.</p>

<p style="margin-left:11%;">&quot;Text::Wrap&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2006.1117
to 2009.0305.</p>

<p style="margin-left:11%;">&quot;Thread::Queue&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.00 to
2.11.</p>


<p style="margin-left:11%;">&quot;Thread::Semaphore&quot;</p>

<p style="margin-left:17%;">Upgraded from version 2.01 to
2.09.</p>

<p style="margin-left:11%;">&quot;threads&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.67 to
1.72.</p>


<p style="margin-left:11%;">&quot;threads::shared&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.14 to
1.29.</p>

<p style="margin-left:11%;">&quot;Tie::RefHash&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.37 to
1.38.</p>

<p style="margin-left:11%;">&quot;Tie::StdHandle&quot;</p>

<p style="margin-left:17%;">This has documentation changes,
and has been assigned a version for the first time: version
4.2.</p>

<p style="margin-left:11%;">&quot;Time::HiRes&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.9711 to
1.9719.</p>

<p style="margin-left:11%;">&quot;Time::Local&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.18 to
1.1901.</p>

<p style="margin-left:11%;">&quot;Time::Piece&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.12 to
1.15.</p>


<p style="margin-left:11%;">&quot;Unicode::Normalize&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.02 to
1.03.</p>

<p style="margin-left:11%;">&quot;Unicode::UCD&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.25 to
0.27.</p>


<p style="margin-left:17%; margin-top: 1em"><tt>&quot;charinfo()&quot;</tt>
now works on Unified <small>CJK</small> code points added to
later versions of Unicode.</p>


<p style="margin-left:17%; margin-top: 1em"><tt>&quot;casefold()&quot;</tt>
has new fields returned to provide both a simpler interface
and previously missing information. The old fields are
retained for backwards compatibility. Information about
Turkic-specific code points is now returned.</p>

<p style="margin-left:17%; margin-top: 1em">The
documentation has been corrected and expanded.</p>

<p style="margin-left:11%;">&quot;UNIVERSAL&quot;</p>

<p style="margin-left:17%;">Upgraded from version 1.04 to
1.05.</p>

<p style="margin-left:11%;">&quot;Win32&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.34 to
0.39.</p>

<p style="margin-left:11%;">&quot;Win32API::File&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.1001_01
to 0.1101.</p>

<p style="margin-left:11%;">&quot;XSLoader&quot;</p>

<p style="margin-left:17%;">Upgraded from version 0.08 to
0.10.</p>

<h2>Utility Changes
<a name="Utility Changes"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>h2ph</i></p>

<p style="margin-left:17%;">Now looks in
<tt>&quot;include&minus;fixed&quot;</tt> too, which is a
recent addition to gcc&rsquo;s search path.</p>

<p style="margin-left:11%;"><i>h2xs</i></p>

<p style="margin-left:17%;">No longer incorrectly treats
enum values like macros (Daniel Burr).</p>

<p style="margin-left:17%; margin-top: 1em">Now handles C
<small>++</small> style constants (<tt>&quot;//&quot;</tt>)
properly in enums. (A patch from Rainer Weikusat was used;
Daniel Burr also proposed a similar fix).</p>

<p style="margin-left:11%;"><i>perl5db.pl</i></p>

<p style="margin-left:17%;"><tt>&quot;LVALUE&quot;</tt>
subroutines now work under the debugger.</p>

<p style="margin-left:17%; margin-top: 1em">The debugger
now correctly handles proxy constant subroutines, and
subroutine stubs.</p>

<p style="margin-left:11%;"><i>perlthanks</i></p>

<p style="margin-left:17%;">Perl 5.10.1 adds a new utility
<i>perlthanks</i>, which is a variant of <i>perlbug</i>, but
for sending non-bug-reports to the authors and maintainers
of Perl. Getting nothing but bug reports can become a bit
demoralising: we&rsquo;ll see if this changes things.</p>

<h2>New Documentation
<a name="New Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perlhaiku</p>

<p style="margin-left:17%;">This contains instructions on
how to build perl for the Haiku platform.</p>

<p style="margin-left:11%;">perlmroapi</p>

<p style="margin-left:17%;">This describes the new
interface for pluggable Method Resolution Orders.</p>

<p style="margin-left:11%;">perlperf</p>

<p style="margin-left:17%;">This document, by Richard
Foley, provides an introduction to the use of performance
and optimization techniques which can be used with
particular reference to perl programs.</p>

<p style="margin-left:11%;">perlrepository</p>

<p style="margin-left:17%;">This describes how to access
the perl source using the <i>git</i> version control
system.</p>

<p style="margin-left:11%;">perlthanks</p>

<p style="margin-left:17%;">This describes the new
<i>perlthanks</i> utility.</p>

<h2>Changes to Existing Documentation
<a name="Changes to Existing Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The various
large <tt>&quot;Changes*&quot;</tt> files (which listed
every change made to perl over the last 18 years) have been
removed, and replaced by a small file, also called
<tt>&quot;Changes&quot;</tt>, which just explains how that
same information may be extracted from the git version
control system.</p>

<p style="margin-left:11%; margin-top: 1em">The file
<i>Porting/patching.pod</i> has been deleted, as it mainly
described interacting with the old Perforce-based
repository, which is now obsolete. Information still
relevant has been moved to perlrepository.</p>

<p style="margin-left:11%; margin-top: 1em">perlapi,
perlintern, perlmodlib and perltoc are now all generated at
build time, rather than being shipped as part of the
release.</p>

<h2>Performance Enhancements
<a name="Performance Enhancements"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">A new internal cache means that
<tt>&quot;isa()&quot;</tt> will often be faster.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under <tt>&quot;use locale&quot;</tt>, the
locale-relevant information is now cached on read-only
values, such as the list returned by <tt>&quot;keys
%hash&quot;</tt>. This makes operations such as
<tt>&quot;sort keys %hash&quot;</tt> in the scope of
<tt>&quot;use locale&quot;</tt> much faster.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Empty <tt>&quot;DESTROY&quot;</tt> methods are no longer
called.</p> </td></tr>
</table>

<h2>Installation and Configuration Improvements
<a name="Installation and Configuration Improvements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>ext/</i>
<b>reorganisation</b> <br>
The layout of directories in <i>ext</i> has been revised.
Specifically, all extensions are now flat, and at the top
level, with <tt>&quot;/&quot;</tt> in pathnames replaced by
<tt>&quot;&minus;&quot;</tt>, so that
<i>ext/Data/Dumper/</i> is now
<i>ext/Data&minus;Dumper/</i>, etc. The names of the
extensions as specified to <i>Configure</i>, and as reported
by <tt>%Config::Config</tt> under the keys
<tt>&quot;dynamic_ext&quot;</tt>,
<tt>&quot;known_extensions&quot;</tt>,
<tt>&quot;nonxs_ext&quot;</tt> and
<tt>&quot;static_ext&quot;</tt> have not changed, and still
use <tt>&quot;/&quot;</tt>. Hence this change will not have
any affect once perl is installed. However,
<tt>&quot;Attribute::Handlers&quot;</tt>,
<tt>&quot;Safe&quot;</tt> and <tt>&quot;mro&quot;</tt> have
now become extensions in their own right, so if you run
<i>Configure</i> with options to specify an exact list of
extensions to build, you will need to change it to account
for this.</p>

<p style="margin-left:11%; margin-top: 1em">For 5.10.2, it
is planned that many dual-life modules will have been moved
from <i>lib</i> to <i>ext</i>; again this will have no
effect on an installed perl, but will matter if you invoke
<i>Configure</i> with a pre-canned list of extensions to
build.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Configuration
improvements</b> <br>
If <tt>&quot;vendorlib&quot;</tt> and
<tt>&quot;vendorarch&quot;</tt> are the same, then they are
only added to <tt>@INC</tt> once.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>$Config{usedevel}</tt>
and the C&minus;level <tt>&quot;PERL_USE_DEVEL&quot;</tt>
are now defined if perl is built with
<tt>&quot;&minus;Dusedevel&quot;</tt>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Configure</i>
will enable use of
<tt>&quot;&minus;fstack&minus;protector&quot;</tt>, to
provide protection against stack-smashing attacks, if the
compiler supports it.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Configure</i>
will now determine the correct prototypes for re-entrant
functions, and for <tt>&quot;gconvert&quot;</tt>, if you are
using a C <small>++</small> compiler rather than a C
compiler.</p>

<p style="margin-left:11%; margin-top: 1em">On Unix, if you
build from a tree containing a git repository, the
configuration process will note the commit hash you have
checked out, for display in the output of <tt>&quot;perl
&minus;v&quot;</tt> and <tt>&quot;perl &minus;V&quot;</tt>.
Unpushed local commits are automatically added to the list
of local patches displayed by <tt>&quot;perl
&minus;V&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Compilation
improvements</b> <br>
As part of the flattening of <i>ext</i>, all extensions on
all platforms are built by <i>make_ext.pl</i>. This replaces
the Unix-specific <i>ext/util/make_ext</i>, VMS-specific
<i>make_ext.com</i> and Win32&minus;specific
<i>win32/buildext.pl</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Platform
Specific Changes</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><small>AIX</small></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Removed <i>libbsd</i> for
<small>AIX</small> 5L and 6.1. Only <i>flock()</i> was used
from <i>libbsd</i>.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Removed
<i>libgdbm</i> for <small>AIX</small> 5L and 6.1. The
<i>libgdbm</i> is delivered as an optional package with the
<small>AIX</small> Toolbox. Unfortunately the 64 bit version
is broken.</p>

<p style="margin-left:17%; margin-top: 1em">Hints changes
mean that <small>AIX</small> 4.2 should work again.</p>

<p style="margin-left:11%;">Cygwin</p>

<p style="margin-left:17%;">On Cygwin we now strip the last
number from the <small>DLL</small> . This has been the
behaviour in the cygwin.com build for years. The hints files
have been updated.</p>

<p style="margin-left:11%;">FreeBSD</p>

<p style="margin-left:17%;">The hints files now identify
the correct threading libraries on FreeBSD 7 and later.</p>

<p style="margin-left:11%;">Irix</p>

<p style="margin-left:17%;">We now work around a bizarre
preprocessor bug in the Irix 6.5 compiler: <tt>&quot;cc
&minus;E &minus;&quot;</tt> unfortunately goes into K&amp;R
mode, but <tt>&quot;cc &minus;E file.c&quot;</tt>
doesn&rsquo;t.</p>

<p style="margin-left:11%;">Haiku</p>

<p style="margin-left:17%;">Patches from the Haiku
maintainers have been merged in. Perl should now build on
Haiku.</p>

<p style="margin-left:11%;">MirOS <small>BSD</small></p>

<p style="margin-left:17%;">Perl should now build on MirOS
<small>BSD</small> .</p>

<p style="margin-left:11%;">NetBSD</p>

<p style="margin-left:17%;">Hints now supports versions
5.*.</p>

<p style="margin-left:11%;">Stratus <small>VOS</small></p>

<p style="margin-left:17%;">Various changes from Stratus
have been merged in.</p>

<p style="margin-left:11%;">Symbian</p>

<p style="margin-left:17%;">There is now support for
Symbian S60 3.2 <small>SDK</small> and S60 5.0
<small>SDK</small> .</p>

<p style="margin-left:11%;">Win32</p>

<p style="margin-left:17%;">Improved message window
handling means that <tt>&quot;alarm&quot;</tt> and
<tt>&quot;kill&quot;</tt> messages will no longer be dropped
under race conditions.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><small>VMS</small></p></td>
<td width="2%"></td>
<td width="83%">


<p>Reads from the in-memory temporary files of
<tt>&quot;PerlIO::scalar&quot;</tt> used to fail if
<tt>$/</tt> was set to a numeric reference (to indicate
record-style reads). This is now fixed.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em"><small>VMS</small>
now supports <tt>&quot;getgrgid&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">Many
improvements and cleanups have been made to the
<small>VMS</small> file name handling and conversion
code.</p>

<p style="margin-left:17%; margin-top: 1em">Enabling the
<tt>&quot;PERL_VMS_POSIX_EXIT&quot;</tt> logical name now
encodes a <small>POSIX</small> exit status in a
<small>VMS</small> condition value for better interaction
with <small>GNV</small> &rsquo;s bash shell and other
utilities that depend on <small>POSIX</small> exit values.
See &quot;$?&quot; in perlvms for details.</p>

<h2>Selected Bug Fixes
<a name="Selected Bug Fixes"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">5.10.0 inadvertently disabled an
optimisation, which caused a measurable performance drop in
list assignment, such as is often used to assign function
parameters from <tt>@_</tt>. The optimisation has been
re-instated, and the performance regression fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Fixed memory leak on <tt>&quot;while (1) { map 1, 1
}&quot;</tt> [ <small>RT</small> #53038].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Some potential coredumps in PerlIO fixed [
<small>RT</small> #57322,54828].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The debugger now works with lvalue subroutines.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The debugger&rsquo;s <tt>&quot;m&quot;</tt> command was
broken on modules that defined constants [ <small>RT</small>
#61222].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;crypt()&quot;</tt> and string complement could
return tainted values for untainted arguments [
<small>RT</small> #59998].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>&quot;&minus;i.suffix&quot;</tt> command-line
switch now recreates the file using restricted permissions,
before changing its mode to match the original file. This
eliminates a potential race condition [ <small>RT</small>
#60904].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>On some Unix systems, the value in <tt>$?</tt> would not
have the top bit set (<tt>&quot;$? &amp; 128&quot;</tt>)
even if the child core dumped.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under some circumstances, $^R could incorrectly become
undefined [ <small>RT</small> #57042].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>( <small>XS</small> ) In various hash functions, passing
a pre-computed hash to when the key is
<small>UTF&minus;8</small> might result in an incorrect
lookup.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>( <small>XS</small> ) Including <i><small>XSUB</small>
.h</i> before <i>perl.h</i> gave a compile-time error [
<small>RT</small> #57176].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;$object&minus;&gt;isa('Foo')&quot;</tt> would
report false if the package <tt>&quot;Foo&quot;</tt>
didn&rsquo;t exist, even if the object&rsquo;s <tt>@ISA</tt>
contained <tt>&quot;Foo&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Various bugs in the new-to 5.10.0 mro code, triggered by
manipulating <tt>@ISA</tt>, have been found and fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Bitwise operations on references could crash the
interpreter, e.g. <tt>&quot;$x=\$y; $x |=
&quot;foo&quot;&quot;</tt> [ <small>RT</small> #54956].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Patterns including alternation might be sensitive to the
internal <small>UTF&minus;8</small> representation, e.g.</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    my $byte = chr(192);
    my $utf8 = chr(192); utf8::upgrade($utf8);
    $utf8 =~ /$byte|X}/i;       # failed in 5.10.0</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Within UTF8&minus;encoded Perl
source files (i.e. where <tt>&quot;use utf8&quot;</tt> is in
effect), double-quoted literal strings could be corrupted
where a <tt>&quot;\xNN&quot;</tt>,
<tt>&quot;\0NNN&quot;</tt> or <tt>&quot;\N{}&quot;</tt> is
followed by a literal character with ordinal value greater
than 255 [ <small>RT</small> #59908].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;B::Deparse&quot;</tt> failed to correctly
deparse various constructs: <tt>&quot;readpipe
STRING&quot;</tt> [ <small>RT</small> #62428],
<tt>&quot;CORE::require(STRING)&quot;</tt> [
<small>RT</small> #62488], <tt>&quot;sub foo(_)&quot;</tt> [
<small>RT</small> #62484].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using <tt>&quot;setpgrp()&quot;</tt> with no arguments
could corrupt the perl stack.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The block form of <tt>&quot;eval&quot;</tt> is now
specifically trappable by <tt>&quot;Safe&quot;</tt> and
<tt>&quot;ops&quot;</tt>. Previously it was erroneously
treated like string <tt>&quot;eval&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In 5.10.0, the two characters <tt>&quot;[~&quot;</tt>
were sometimes parsed as the smart match operator
(<tt>&quot;~~&quot;</tt>) [ <small>RT</small> #63854].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In 5.10.0, the <tt>&quot;*&quot;</tt> quantifier in
patterns was sometimes treated as
<tt>&quot;{0,32767}&quot;</tt> [ <small>RT</small> #60034,
#60464]. For example, this match would fail:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    (&quot;ab&quot; x 32768) =~ /^(ab)*$/</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;shmget&quot;</tt> was
limited to a 32 bit segment size on a 64 bit
<small>OS</small> [ <small>RT</small> #63924].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using <tt>&quot;next&quot;</tt> or
<tt>&quot;last&quot;</tt> to exit a
<tt>&quot;given&quot;</tt> block no longer produces a
spurious warning like the following:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    Exiting given via last at foo.pl line 123</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">On Windows, <tt>'.\foo'</tt> and
<tt>'..\foo'</tt> were treated differently than
<tt>'./foo'</tt> and <tt>'../foo'</tt> by
<tt>&quot;do&quot;</tt> and <tt>&quot;require&quot;</tt> [
<small>RT</small> #63492].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Assigning a format to a glob could corrupt the format;
e.g.:</p> </td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">     *bar=*foo{FORMAT}; # foo format now bad</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Attempting to coerce a typeglob
to a string or number could cause an assertion failure. The
correct error message is now generated, <tt>&quot;Can't
coerce GLOB to</tt> <i>$type</i><tt>&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under <tt>&quot;use filetest 'access'&quot;</tt>,
<tt>&quot;&minus;x&quot;</tt> was using the wrong access
mode. This has been fixed [ <small>RT</small> #49003].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;length&quot;</tt> on a tied scalar that
returned a Unicode value would not be correct the first
time. This has been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using an array <tt>&quot;tie&quot;</tt> inside in array
<tt>&quot;tie&quot;</tt> could <small>SEGV</small> . This
has been fixed. [ <small>RT</small> #51636]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A race condition inside
<tt>&quot;PerlIOStdio_close()&quot;</tt> has been identified
and fixed. This used to cause various threading issues,
including SEGVs.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In <tt>&quot;unpack&quot;</tt>, the use of
<tt>&quot;()&quot;</tt> groups in scalar context was
internally placing a list on the interpreter&rsquo;s stack,
which manifested in various ways, including SEGVs. This is
now fixed [ <small>RT</small> #50256].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Magic was called twice in <tt>&quot;substr&quot;</tt>,
<tt>&quot;\&amp;$x&quot;</tt>, <tt>&quot;tie $x,
$m&quot;</tt> and <tt>&quot;chop&quot;</tt>. These have all
been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A 5.10.0 optimisation to clear the temporary stack
within the implicit loop of <tt>&quot;s///ge&quot;</tt> has
been reverted, as it turned out to be the cause of obscure
bugs in seemingly unrelated parts of the interpreter [commit
ef0d4e17921ee3de].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The line numbers for warnings inside
<tt>&quot;elsif&quot;</tt> are now correct.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>&quot;..&quot;</tt> operator now works correctly
with ranges whose ends are at or close to the values of the
smallest and largest integers.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;binmode STDIN, ':raw'&quot;</tt> could lead to
segmentation faults on some platforms. This has been fixed [
<small>RT</small> #54828].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>An off-by-one error meant that <tt>&quot;index $str,
...&quot;</tt> was effectively being executed as
<tt>&quot;index &quot;$str\0&quot;, ...&quot;</tt>. This has
been fixed [ <small>RT</small> #53746].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Various leaks associated with named captures in regexes
have been fixed [ <small>RT</small> #57024].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A weak reference to a hash would leak. This was
affecting <tt>&quot;DBI&quot;</tt> [ <small>RT</small>
#56908].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using (?|) in a regex could cause a segfault [
<small>RT</small> #59734].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use of a <small>UTF&minus;8</small>
<tt>&quot;tr//&quot;</tt> within a closure could cause a
segfault [ <small>RT</small> #61520].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Calling <tt>&quot;sv_chop()&quot;</tt> or otherwise
upgrading an <small>SV</small> could result in an unaligned
64&minus;bit access on the <small>SPARC</small> architecture
[ <small>RT</small> #60574].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In the 5.10.0 release,
<tt>&quot;inc_version_list&quot;</tt> would incorrectly list
<tt>&quot;5.10.*&quot;</tt> after
<tt>&quot;5.8.*&quot;</tt>; this affected the <tt>@INC</tt>
search order [ <small>RT</small> #67628].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In 5.10.0, <tt>&quot;pack &quot;a*&quot;,
$tainted_value&quot;</tt> returned a non-tainted value [
<small>RT</small> #52552].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In 5.10.0, <tt>&quot;printf&quot;</tt> and
<tt>&quot;sprintf&quot;</tt> could produce the fatal error
<tt>&quot;panic: utf8_mg_pos_cache_update&quot;</tt> when
printing <small>UTF&minus;8</small> strings [
<small>RT</small> #62666].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In the 5.10.0 release, a dynamically created
<tt>&quot;AUTOLOAD&quot;</tt> method might be missed (method
cache issue) [ <small>RT</small> #60220,60232].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In the 5.10.0 release, a combination of <tt>&quot;use
feature&quot;</tt> and <tt>&quot;//ee&quot;</tt> could cause
a memory leak [ <small>RT</small> #63110].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;&minus;C&quot;</tt> on the shebang
(<tt>&quot;#!&quot;</tt>) line is once more permitted if it
is also specified on the command line.
<tt>&quot;&minus;C&quot;</tt> on the shebang line used to be
a silent no-op <i>if</i> it was not also on the command
line, so perl 5.10.0 disallowed it, which broke some
scripts. Now perl checks whether it is also on the command
line and only dies if it is not [ <small>RT</small>
#67880].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In 5.10.0, certain types of re-entrant regular
expression could crash, or cause the following assertion
failure [ <small>RT</small> #60508]:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    Assertion rx&minus;&gt;sublen &gt;= (s &minus; rx&minus;&gt;subbeg) + i failed</pre>


<h2>New or Changed Diagnostics
<a name="New or Changed Diagnostics"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&quot;panic:
sv_chop %s&quot;</p>

<p style="margin-left:17%;">This new fatal error occurs
when the C routine <tt>&quot;Perl_sv_chop()&quot;</tt> was
passed a position that is not within the scalar&rsquo;s
string buffer. This could be caused by buggy
<small>XS</small> code, and at this point recovery is not
possible.</p>

<p style="margin-left:11%;">&quot;Can't locate package %s
for the parents of %s&quot;</p>

<p style="margin-left:17%;">This warning has been removed.
In general, it only got produced in conjunction with other
warnings, and removing it allowed an <small>ISA</small>
lookup optimisation to be added.</p>

<p style="margin-left:11%;">&quot;v&minus;string in
use/require is non&minus;portable&quot;</p>

<p style="margin-left:17%;">This warning has been
removed.</p>

<p style="margin-left:11%;">&quot;Deep recursion on
subroutine &quot;%s&quot;&quot;</p>

<p style="margin-left:17%;">It is now possible to change
the depth threshold for this warning from the default of
100, by recompiling the <i>perl</i> binary, setting the C
pre-processor macro <tt>&quot;PERL_SUB_DEPTH_WARN&quot;</tt>
to the desired value.</p>

<h2>Changed Internals
<a name="Changed Internals"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The J.R.R. Tolkien quotes at the
head of C source file have been checked and proper citations
added, thanks to a patch from Tom Christiansen.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;vcroak()&quot;</tt> now accepts a null first
argument. In addition, a full audit was made of the
&quot;not <small>NULL</small> &quot; compiler annotations,
and those for several other internal functions were
corrected.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>New macros <tt>&quot;dSAVEDERRNO&quot;</tt>,
<tt>&quot;dSAVE_ERRNO&quot;</tt>,
<tt>&quot;SAVE_ERRNO&quot;</tt>,
<tt>&quot;RESTORE_ERRNO&quot;</tt> have been added to
formalise the temporary saving of the
<tt>&quot;errno&quot;</tt> variable.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The function <tt>&quot;Perl_sv_insert_flags&quot;</tt>
has been added to augment
<tt>&quot;Perl_sv_insert&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The function <tt>&quot;Perl_newSV_type(type)&quot;</tt>
has been added, equivalent to
<tt>&quot;Perl_newSV()&quot;</tt> followed by
<tt>&quot;Perl_sv_upgrade(type)&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The function <tt>&quot;Perl_newSVpvn_flags()&quot;</tt>
has been added, equivalent to
<tt>&quot;Perl_newSVpvn()&quot;</tt> and then performing the
action relevant to the flag.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Two flag bits
are currently supported. <br>
&quot;SVf_UTF8&quot;</p>

<p style="margin-left:23%;">This will call
<tt>&quot;SvUTF8_on()&quot;</tt> for you. (Note that this
does not convert an sequence of <small>ISO</small>
8859&minus;1 characters to <small>UTF&minus;8</small> ). A
wrapper, <tt>&quot;newSVpvn_utf8()&quot;</tt> is available
for this.</p>

<p style="margin-left:17%;">&quot;SVs_TEMP&quot;</p>

<p style="margin-left:23%;">Call
<tt>&quot;sv_2mortal()&quot;</tt> on the new
<small>SV</small> .</p>

<p style="margin-left:17%; margin-top: 1em">There is also a
wrapper that takes constant strings,
<tt>&quot;newSVpvs_flags()&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The function <tt>&quot;Perl_croak_xs_usage&quot;</tt>
has been added as a wrapper to
<tt>&quot;Perl_croak&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The functions <tt>&quot;PerlIO_find_layer&quot;</tt> and
<tt>&quot;PerlIO_list_alloc&quot;</tt> are now exported.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;PL_na&quot;</tt> has been exterminated from
the core code, replaced by local <small>STRLEN</small>
temporaries, or <tt>&quot;*_nolen()&quot;</tt> calls. Either
approach is faster than <tt>&quot;PL_na&quot;</tt>, which is
a pointer deference into the interpreter structure under
ithreads, and a global variable otherwise.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Perl_mg_free()&quot;</tt> used to leave freed
memory accessible via <i>SvMAGIC()</i> on the scalar. It now
updates the linked list to remove each piece of magic as it
is freed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under ithreads, the regex in
<tt>&quot;PL_reg_curpm&quot;</tt> is now reference counted.
This eliminates a lot of hackish workarounds to cope with it
not being reference counted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Perl_mg_magical()&quot;</tt> would sometimes
incorrectly turn on <tt>&quot;SvRMAGICAL()&quot;</tt>. This
has been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <i>public</i> <small>IV</small> and
<small>NV</small> flags are now not set if the string value
has trailing &quot;garbage&quot;. This behaviour is
consistent with not setting the public <small>IV</small> or
<small>NV</small> flags if the value is out of range for the
type.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>SV</small> allocation tracing has been added to
the diagnostics enabled by <tt>&quot;&minus;Dm&quot;</tt>.
The tracing can alternatively output via the
<tt>&quot;PERL_MEM_LOG&quot;</tt> mechanism, if that was
enabled when the <i>perl</i> binary was compiled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Uses of <tt>&quot;Nullav&quot;</tt>,
<tt>&quot;Nullcv&quot;</tt>, <tt>&quot;Nullhv&quot;</tt>,
<tt>&quot;Nullop&quot;</tt>, <tt>&quot;Nullsv&quot;</tt> etc
have been replaced by <tt>&quot;NULL&quot;</tt> in the core
code, and non-dual-life modules, as
<tt>&quot;NULL&quot;</tt> is clearer to those unfamiliar
with the core code.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A macro <tt>MUTABLE_PTR(p)</tt> has been added, which on
(non-pedantic) gcc will not cast away
<tt>&quot;const&quot;</tt>, returning a <tt>&quot;void
*&quot;</tt>. Macros <tt>&quot;MUTABLE_SV(av)&quot;</tt>,
<tt>&quot;MUTABLE_SV(cv)&quot;</tt> etc build on this,
casting to <tt>&quot;AV *&quot;</tt> etc without casting
away <tt>&quot;const&quot;</tt>. This allows proper
compile-time auditing of <tt>&quot;const&quot;</tt>
correctness in the core, and helped picked up some errors
(now fixed).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Macros <tt>&quot;mPUSHs()&quot;</tt> and
<tt>&quot;mXPUSHs()&quot;</tt> have been added, for pushing
SVs on the stack and mortalizing them.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use of the private structure
<tt>&quot;mro_meta&quot;</tt> has changed slightly. Nothing
outside the core should be accessing this directly
anyway.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new tool,
<tt>&quot;Porting/expand&minus;macro.pl&quot;</tt> has been
added, that allows you to view how a C preprocessor macro
would be expanded when compiled. This is handy when trying
to decode the macro hell that is the perl guts.</p></td></tr>
</table>

<h2>New Tests
<a name="New Tests"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Many modules
updated from <small>CPAN</small> incorporate new tests.</p>

<p style="margin-left:11%; margin-top: 1em">Several tests
that have the potential to hang forever if they fail now
incorporate a &quot;watchdog&quot; functionality that will
kill them after a timeout, which helps ensure that
<tt>&quot;make test&quot;</tt> and <tt>&quot;make
test_harness&quot;</tt> run to completion automatically.
(Jerry Hedden).</p>

<p style="margin-left:11%; margin-top: 1em">Some
core-specific tests have been added: <br>
t/comp/retainedlines.t</p>

<p style="margin-left:17%;">Check that the debugger can
retain source lines from <tt>&quot;eval&quot;</tt>.</p>

<p style="margin-left:11%;">t/io/perlio_fail.t</p>

<p style="margin-left:17%;">Check that bad layers fail.</p>

<p style="margin-left:11%;">t/io/perlio_leaks.t</p>

<p style="margin-left:17%;">Check that PerlIO layers are
not leaking.</p>

<p style="margin-left:11%;">t/io/perlio_open.t</p>

<p style="margin-left:17%;">Check that certain special
forms of open work.</p>

<p style="margin-left:11%;">t/io/perlio.t</p>

<p style="margin-left:17%;">General PerlIO tests.</p>

<p style="margin-left:11%;">t/io/pvbm.t</p>

<p style="margin-left:17%;">Check that there is no
unexpected interaction between the internal types
<tt>&quot;PVBM&quot;</tt> and <tt>&quot;PVGV&quot;</tt>.</p>

<p style="margin-left:11%;">t/mro/package_aliases.t</p>

<p style="margin-left:17%;">Check that mro works properly
in the presence of aliased packages.</p>

<p style="margin-left:11%;">t/op/dbm.t</p>

<p style="margin-left:17%;">Tests for
<tt>&quot;dbmopen&quot;</tt> and
<tt>&quot;dbmclose&quot;</tt>.</p>

<p style="margin-left:11%;">t/op/index_thr.t</p>

<p style="margin-left:17%;">Tests for the interaction of
<tt>&quot;index&quot;</tt> and threads.</p>

<p style="margin-left:11%;">t/op/pat_thr.t</p>

<p style="margin-left:17%;">Tests for the interaction of
esoteric patterns and threads.</p>

<p style="margin-left:11%;">t/op/qr_gc.t</p>

<p style="margin-left:17%;">Test that
<tt>&quot;qr&quot;</tt> doesn&rsquo;t leak.</p>

<p style="margin-left:11%;">t/op/reg_email_thr.t</p>

<p style="margin-left:17%;">Tests for the interaction of
regex recursion and threads.</p>

<p style="margin-left:11%;">t/op/regexp_qr_embed_thr.t</p>

<p style="margin-left:17%;">Tests for the interaction of
patterns with embedded <tt>&quot;qr//&quot;</tt> and
threads.</p>

<p style="margin-left:11%;">t/op/regexp_unicode_prop.t</p>

<p style="margin-left:17%;">Tests for Unicode properties in
regular expressions.</p>


<p style="margin-left:11%;">t/op/regexp_unicode_prop_thr.t</p>

<p style="margin-left:17%;">Tests for the interaction of
Unicode properties and threads.</p>

<p style="margin-left:11%;">t/op/reg_nc_tie.t</p>

<p style="margin-left:17%;">Test the tied methods of
<tt>&quot;Tie::Hash::NamedCapture&quot;</tt>.</p>

<p style="margin-left:11%;">t/op/reg_posixcc.t</p>

<p style="margin-left:17%;">Check that <small>POSIX</small>
character classes behave consistently.</p>

<p style="margin-left:11%;">t/op/re.t</p>

<p style="margin-left:17%;">Check that exportable
<tt>&quot;re&quot;</tt> functions in <i>universal.c</i>
work.</p>

<p style="margin-left:11%;">t/op/setpgrpstack.t</p>

<p style="margin-left:17%;">Check that
<tt>&quot;setpgrp&quot;</tt> works.</p>

<p style="margin-left:11%;">t/op/substr_thr.t</p>

<p style="margin-left:17%;">Tests for the interaction of
<tt>&quot;substr&quot;</tt> and threads.</p>

<p style="margin-left:11%;">t/op/upgrade.t</p>

<p style="margin-left:17%;">Check that upgrading and
assigning scalars works.</p>

<p style="margin-left:11%;">t/uni/lex_utf8.t</p>

<p style="margin-left:17%;">Check that Unicode in the lexer
works.</p>

<p style="margin-left:11%;">t/uni/tie.t</p>

<p style="margin-left:17%;">Check that Unicode and
<tt>&quot;tie&quot;</tt> work.</p>

<h2>Known Problems
<a name="Known Problems"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This is a list
of some significant unfixed bugs, which are regressions from
either 5.10.0 or 5.8.x.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;List::Util::first&quot;</tt> misbehaves in the
presence of a lexical <tt>$_</tt> (typically introduced by
<tt>&quot;my $_&quot;</tt> or implicitly by
<tt>&quot;given&quot;</tt>). The variable which gets set for
each iteration is the package variable <tt>$_</tt>, not the
lexical <tt>$_</tt> [ <small>RT</small> #67694].</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A similar issue
may occur in other modules that provide functions which take
a block as their first argument, like</p>

<pre style="margin-left:17%; margin-top: 1em">    foo { ... $_ ...} list</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The
<tt>&quot;charnames&quot;</tt> pragma may generate a
run-time error when a regex is interpolated [
<small>RT</small> #56444]:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use charnames ':full';
    my $r1 = qr/\N{THAI CHARACTER SARA I}/;
    &quot;foo&quot; =~ $r1;    # okay
    &quot;foo&quot; =~ /$r1+/; # runtime error</pre>


<p style="margin-left:17%; margin-top: 1em">A workaround is
to generate the character outside of the regex:</p>

<pre style="margin-left:17%; margin-top: 1em">    my $a = &quot;\N{THAI CHARACTER SARA I}&quot;;
    my $r1 = qr/$a/;</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Some regexes may run much more
slowly when run in a child thread compared with the thread
the pattern was compiled into [ <small>RT</small>
#55600].</p> </td></tr>
</table>

<h2>Deprecations
<a name="Deprecations"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
items are now deprecated.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;Switch&quot;</tt> is
buggy and should be avoided. From perl 5.11.0 onwards, it is
intended that any use of the core version of this module
will emit a warning, and that the module will eventually be
removed from the core (probably in perl 5.14.0). See
&quot;Switch statements&quot; in perlsyn for its
replacement.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;suidperl&quot;</tt> will be removed in 5.12.0.
This provides a mechanism to emulate setuid permission bits
on systems that don&rsquo;t support it properly.</p></td></tr>
</table>

<h2>Acknowledgements
<a name="Acknowledgements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some of the
work in this release was funded by a <small>TPF</small>
grant.</p>

<p style="margin-left:11%; margin-top: 1em">Nicholas Clark
officially retired from maintenance pumpking duty at the end
of 2008; however in reality he has put much effort in since
then to help get 5.10.1 into a fit state to be released,
including writing a considerable chunk of this
perldelta.</p>

<p style="margin-left:11%; margin-top: 1em">Steffen Mueller
and David Golden in particular helped getting
<small>CPAN</small> modules polished and synchronised with
their in-core equivalents.</p>

<p style="margin-left:11%; margin-top: 1em">Craig Berry was
tireless in getting maint to run under <small>VMS</small> ,
no matter how many times we broke it for him.</p>

<p style="margin-left:11%; margin-top: 1em">The other core
committers contributed most of the changes, and applied most
of the patches sent in by the hundreds of contributors
listed in <i><small>AUTHORS</small></i> .</p>

<p style="margin-left:11%; margin-top: 1em">(Sorry to all
the people I haven&rsquo;t mentioned by name).</p>

<p style="margin-left:11%; margin-top: 1em">Finally, thanks
to Larry Wall, without whom none of this would be
necessary.</p>

<h2>Reporting Bugs
<a name="Reporting Bugs"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you find
what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the
perl bug database at http://rt.perl.org/perlbug/ . There may
also be information at http://www.perl.org/ , the Perl Home
Page.</p>

<p style="margin-left:11%; margin-top: 1em">If you believe
you have an unreported bug, please run the <b>perlbug</b>
program included with your release. Be sure to trim your bug
down to a tiny but sufficient test case. Your bug report,
along with the output of <tt>&quot;perl &minus;V&quot;</tt>,
will be sent off to perlbug@perl.org to be analysed by the
Perl porting team.</p>

<p style="margin-left:11%; margin-top: 1em">If the bug you
are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list,
then please send it to
perl5&minus;security&minus;report@perl.org. This points to a
closed subscription unarchived mailing list, which includes
all the core committers, who will be able to help assess the
impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the
problem across all platforms on which Perl is supported.
Please only use this address for security issues in the Perl
core, not for modules independently distributed on
<small>CPAN</small> .</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>Changes</i> file for an explanation of how to view
exhaustive details on what changed.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>INSTALL</small></i> file for how to build
Perl.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>README</small></i> file for general stuff.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>Artistic</i> and <i>Copying</i> files for copyright
information.</p>
<hr>
</body>
</html>
