<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:22:49 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FD</title>

</head>
<body>

<h1 align="center">FD</h1>

<a href="#NAME">NAME</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fd &minus;
floppy disk device</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Floppy drives
are block devices with major number 2. Typically they are
owned by <i>root.floppy</i> (i.e., user root, group floppy)
and have either mode 0660 (access checking via group
membership) or mode 0666 (everybody has access). The minor
numbers encode the device type, drive number, and controller
number. For each device type (that is, combination of
density and track count) there is a base minor number. To
this base number, add the drive&rsquo;s number on its
controller and 128 if the drive is on the secondary
controller. In the following device tables, <i>n</i>
represents the drive number.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Warning: If
you use formats with more tracks than supported by your
drive, you may cause it mechanical damage.</b> Trying once
if more tracks than the usual 40/80 are supported should not
damage it, but no warranty is given for that. If you are not
sure, don&rsquo;t create device entries for those formats,
so as to prevent their usage.</p>


<p style="margin-left:11%; margin-top: 1em">Drive-independent
device files which automatically detect the media format and
capacity:</p>

<p style="margin-left:11%; margin-top: 1em">5.25 inch
double density device files:</p>

<p style="margin-left:11%; margin-top: 1em">5.25 inch high
density device files:</p>

<p style="margin-left:11%; margin-top: 1em">3.5 inch double
density device files:</p>

<p style="margin-left:11%; margin-top: 1em">3.5 inch high
density device files:</p>

<p style="margin-left:11%; margin-top: 1em">3.5 inch extra
density device files:</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>fd</b>
special files access the floppy disk drives in raw mode. The
following <b>ioctl</b>(2) calls are supported by <b>fd</b>
devices: <b><br>
FDCLRPRM</b></p>

<p style="margin-left:22%;">clears the media information of
a drive (geometry of disk in drive).</p>

<p style="margin-left:11%;"><b>FDSETPRM</b></p>

<p style="margin-left:22%;">sets the media information of a
drive. The media information will be lost when the media is
changed.</p>

<p style="margin-left:11%;"><b>FDDEFPRM</b></p>

<p style="margin-left:22%;">sets the media information of a
drive (geometry of disk in drive). The media information
will not be lost when the media is changed. This will
disable autodetection. In order to reenable autodetection,
you have to issue an <b>FDCLRPRM</b>.</p>

<p style="margin-left:11%;"><b>FDGETDRVTYP</b></p>

<p style="margin-left:22%;">returns the type of a drive
(name parameter). For formats which work in several drive
types, <b>FDGETDRVTYP</b> returns a name which is
appropriate for the oldest drive type which supports this
format.</p>

<p style="margin-left:11%;"><b>FDFLUSH</b></p>

<p style="margin-left:22%;">invalidates the buffer cache
for the given drive.</p>

<p style="margin-left:11%;"><b>FDSETMAXERRS</b></p>

<p style="margin-left:22%;">sets the error thresholds for
reporting errors, aborting the operation, recalibrating,
resetting, and reading sector by sector.</p>

<p style="margin-left:11%;"><b>FDSETMAXERRS</b></p>

<p style="margin-left:22%;">gets the current error
thresholds.</p>

<p style="margin-left:11%;"><b>FDGETDRVTYP</b></p>

<p style="margin-left:22%;">gets the internal name of the
drive.</p>

<p style="margin-left:11%;"><b>FDWERRORCLR</b></p>

<p style="margin-left:22%;">clears the write error
statistics.</p>

<p style="margin-left:11%;"><b>FDWERRORGET</b></p>

<p style="margin-left:22%;">reads the write error
statistics. These include the total number of write errors,
the location and disk of the first write error, and the
location and disk of the last write error. Disks are
identified by a generation number which is incremented at
(almost) each disk change.</p>

<p style="margin-left:11%;"><b>FDTWADDLE</b></p>

<p style="margin-left:22%;">Switch the drive motor off for
a few microseconds. This might be needed in order to access
a disk whose sectors are too close together.</p>

<p style="margin-left:11%;"><b>FDSETDRVPRM</b></p>

<p style="margin-left:22%;">sets various drive
parameters.</p>

<p style="margin-left:11%;"><b>FDGETDRVPRM</b></p>

<p style="margin-left:22%;">reads these parameters
back.</p>

<p style="margin-left:11%;"><b>FDGETDRVSTAT</b></p>

<p style="margin-left:22%;">gets the cached drive state
(disk changed, write protected et al.)</p>

<p style="margin-left:11%;"><b>FDPOLLDRVSTAT</b></p>

<p style="margin-left:22%;">polls the drive and return its
state.</p>

<p style="margin-left:11%;"><b>FDGETFDCSTAT</b></p>

<p style="margin-left:22%;">gets the floppy controller
state.</p>

<p style="margin-left:11%;"><b>FDRESET</b></p>

<p style="margin-left:22%;">resets the floppy controller
under certain conditions.</p>

<p style="margin-left:11%;"><b>FDRAWCMD</b></p>

<p style="margin-left:22%;">sends a raw command to the
floppy controller.</p>

<p style="margin-left:11%; margin-top: 1em">For more
precise information, consult also the
<i>&lt;linux/fd.h&gt;</i> and <i>&lt;linux/fdreg.h&gt;</i>
include files, as well as the <b>floppycontrol</b>(1) manual
page.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">/dev/fd*</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The various
formats permit reading and writing many types of disks.
However, if a floppy is formatted with an inter-sector gap
that is too small, performance may drop, to the point of
needing a few seconds to access an entire track. To prevent
this, use interleaved formats.</p>

<p style="margin-left:11%; margin-top: 1em">It is not
possible to read floppies which are formatted using GCR
(group code recording), which is used by Apple II and
Macintosh computers (800k disks).</p>

<p style="margin-left:11%; margin-top: 1em">Reading
floppies which are hard sectored (one hole per sector, with
the index hole being a little skewed) is not supported. This
used to be common with older 8-inch floppies.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>chown</b>(1),
<b>floppycontrol</b>(1), <b>getfdprm</b>(1),
<b>mknod</b>(1), <b>superformat</b>(1), <b>mount</b>(8),
<b>setfdprm</b>(8)</p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 3.53 of the Linux <i>man-pages</i> project.
A description of the project, and information about
reporting bugs, can be found at
http://www.kernel.org/doc/man&minus;pages/.</p>
<hr>
</body>
</html>
