<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:25:58 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>photo</title>

</head>
<body>

<h1 align="center">photo</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#CREATING PHOTOS">CREATING PHOTOS</a><br>
<a href="#IMAGE COMMAND">IMAGE COMMAND</a><br>
<a href="#IMAGE FORMATS">IMAGE FORMATS</a><br>
<a href="#COLOR ALLOCATION">COLOR ALLOCATION</a><br>
<a href="#CREDITS">CREDITS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">photo &minus;
Full-color images</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>image create
photo</b> ?<i>name</i>? ?<i>options</i>?
_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A photo is an
image whose pixels can display any color or be transparent.
A photo image is stored internally in full color (32 bits
per pixel), and is displayed using dithering if necessary.
Image data for a photo image can be obtained from a file or
a string, or it can be supplied from C code through a
procedural interface. At present, only GIF and PPM/PGM
formats are supported, but an interface exists to allow
additional image file formats to be added easily. A photo
image is transparent in regions where no image data has been
supplied or where it has been set transparent by the
<b>transparency set</b> subcommand.</p>

<h2>CREATING PHOTOS
<a name="CREATING PHOTOS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Like all
images, photos are created using the <b>image create</b>
command. Photos support the following <i>options</i>:
<b><br>
&minus;data</b> <i>string</i></p>

<p style="margin-left:22%;">Specifies the contents of the
image as a string. The string should contain binary data or,
for some formats, base64-encoded data (this is currently
guaranteed to be supported for GIF images). The format of
the string must be one of those for which there is an image
file format handler that will accept string data. If both
the <b>&minus;data</b> and <b>&minus;file</b> options are
specified, the <b>&minus;file</b> option takes
precedence.</p>

<p style="margin-left:11%;"><b>&minus;format</b>
<i>format-name</i></p>

<p style="margin-left:22%;">Specifies the name of the file
format for the data specified with the <b>&minus;data</b> or
<b>&minus;file</b> option.</p>

<p style="margin-left:11%;"><b>&minus;file</b>
<i>name</i></p>

<p style="margin-left:22%;"><i>name</i> gives the name of a
file that is to be read to supply data for the photo image.
The file format must be one of those for which there is an
image file format handler that can read data.</p>

<p style="margin-left:11%;"><b>&minus;gamma</b>
<i>value</i></p>

<p style="margin-left:22%;">Specifies that the colors
allocated for displaying this image in a window should be
corrected for a non-linear display with the specified gamma
exponent value. (The intensity produced by most CRT displays
is a power function of the input value, to a good
approximation; gamma is the exponent and is typically around
2). The value specified must be greater than zero. The
default value is one (no correction). In general, values
greater than one will make the image lighter, and values
less than one will make it darker.</p>

<p style="margin-left:11%;"><b>&minus;height</b>
<i>number</i></p>

<p style="margin-left:22%;">Specifies the height of the
image, in pixels. This option is useful primarily in
situations where the user wishes to build up the contents of
the image piece by piece. A value of zero (the default)
allows the image to expand or shrink vertically to fit the
data stored in it.</p>

<p style="margin-left:11%;"><b>&minus;palette</b>
<i>palette-spec</i></p>

<p style="margin-left:22%;">Specifies the resolution of the
color cube to be allocated for displaying this image, and
thus the number of colors used from the colormaps of the
windows where it is displayed. The <i>palette-spec</i>
string may be either a single decimal number, specifying the
number of shades of gray to use, or three decimal numbers
separated by slashes (/), specifying the number of shades of
red, green and blue to use, respectively. If the first form
(a single number) is used, the image will be displayed in
monochrome (i.e., grayscale).</p>

<p style="margin-left:11%;"><b>&minus;width</b>
<i>number</i></p>

<p style="margin-left:22%;">Specifies the width of the
image, in pixels. This option is useful primarily in
situations where the user wishes to build up the contents of
the image piece by piece. A value of zero (the default)
allows the image to expand or shrink horizontally to fit the
data stored in it.</p>

<h2>IMAGE COMMAND
<a name="IMAGE COMMAND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When a photo
image is created, Tk also creates a new command whose name
is the same as the image. This command may be used to invoke
various operations on the image. It has the following
general form:</p>

<p style="margin-left:22%;"><i>imageName option</i> ?<i>arg
arg ...</i>?</p>

<p style="margin-left:11%;"><i>Option</i> and the
<i>arg</i>s determine the exact behavior of the command.</p>

<p style="margin-left:11%; margin-top: 1em">Those options
that write data to the image generally expand the size of
the image, if necessary, to accommodate the data written to
the image, unless the user has specified non-zero values for
the <b>&minus;width</b> and/or <b>&minus;height</b>
configuration options, in which case the width and/or
height, respectively, of the image will not be changed.</p>

<p style="margin-left:11%; margin-top: 1em">The following
commands are possible for photo images: <i><br>
imageName</i> <b>blank</b></p>

<p style="margin-left:22%;">Blank the image; that is, set
the entire image to have no data, so it will be displayed as
transparent, and the background of whatever window it is
displayed in will show through.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>cget</b>
<i>option</i></p>

<p style="margin-left:22%;">Returns the current value of
the configuration option given by <i>option</i>.
<i>Option</i> may have any of the values accepted by the
<b>image create photo</b> command.</p>

<p style="margin-left:11%;"><i>imageName</i>
<b>configure</b> ?<i>option</i>? ?<i>value option value
...</i>?</p>

<p style="margin-left:22%;">Query or modify the
configuration options for the image. If no <i>option</i> is
specified, returns a list describing all of the available
options for <i>imageName</i> (see <b>Tk_ConfigureInfo</b>
for information on the format of this list). If
<i>option</i> is specified with no <i>value</i>, then the
command returns a list describing the one named option (this
list will be identical to the corresponding sublist of the
value returned if no <i>option</i> is specified). If one or
more <i>option&minus;value</i> pairs are specified, then the
command modifies the given option(s) to have the given
value(s); in this case the command returns an empty string.
<i>Option</i> may have any of the values accepted by the
<b>image create photo</b> command.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>copy</b>
<i>sourceImage</i> ?<i>option value(s) ...</i>?</p>

<p style="margin-left:22%;">Copies a region from the image
called <i>sourceImage</i> (which must be a photo image) to
the image called <i>imageName</i>, possibly with pixel
zooming and/or subsampling. If no options are specified,
this command copies the whole of <i>sourceImage</i> into
<i>imageName</i>, starting at coordinates (0,0) in
<i>imageName</i>. The following options may be specified:
<b><br>
&minus;from</b> <i>x1 y1 x2 y2</i></p>

<p style="margin-left:32%;">Specifies a rectangular
sub-region of the source image to be copied. (<i>x1,y1</i>)
and (<i>x2,y2</i>) specify diagonally opposite corners of
the rectangle. If <i>x2</i> and <i>y2</i> are not specified,
the default value is the bottom-right corner of the source
image. The pixels copied will include the left and top edges
of the specified rectangle but not the bottom or right
edges. If the <b>&minus;from</b> option is not given, the
default is the whole source image.</p>

<p style="margin-left:22%;"><b>&minus;to</b> <i>x1 y1 x2
y2</i></p>

<p style="margin-left:32%;">Specifies a rectangular
sub-region of the destination image to be affected.
(<i>x1,y1</i>) and (<i>x2,y2</i>) specify diagonally
opposite corners of the rectangle. If <i>x2</i> and
<i>y2</i> are not specified, the default value is
(<i>x1,y1</i>) plus the size of the source region (after
subsampling and zooming, if specified). If <i>x2</i> and
<i>y2</i> are specified, the source region will be
replicated if necessary to fill the destination region in a
tiled fashion.</p>

<p style="margin-left:22%;"><b>&minus;shrink</b></p>

<p style="margin-left:32%;">Specifies that the size of the
destination image should be reduced, if necessary, so that
the region being copied into is at the bottom-right corner
of the image. This option will not affect the width or
height of the image if the user has specified a non-zero
value for the <b>&minus;width</b> or <b>&minus;height</b>
configuration option, respectively.</p>

<p style="margin-left:22%;"><b>&minus;zoom</b> <i>x
y</i></p>

<p style="margin-left:32%;">Specifies that the source
region should be magnified by a factor of <i>x</i> in the X
direction and <i>y</i> in the Y direction. If <i>y</i> is
not given, the default value is the same as <i>x</i>. With
this option, each pixel in the source image will be expanded
into a block of <i>x</i> x <i>y</i> pixels in the
destination image, all the same color. <i>x</i> and <i>y</i>
must be greater than 0.</p>

<p style="margin-left:22%;"><b>&minus;subsample</b> <i>x
y</i></p>

<p style="margin-left:32%;">Specifies that the source image
should be reduced in size by using only every <i>x</i>th
pixel in the X direction and <i>y</i>th pixel in the Y
direction. Negative values will cause the image to be
flipped about the Y or X axes, respectively. If <i>y</i> is
not given, the default value is the same as <i>x</i>.</p>

<p style="margin-left:22%;"><b>&minus;compositingrule</b>
<i>rule</i></p>

<p style="margin-left:32%;">Specifies how transparent
pixels in the source image are combined with the destination
image. When a compositing rule of <i>overlay</i> is set, the
old contents of the destination image are visible, as if the
source image were printed on a piece of transparent film and
placed over the top of the destination. When a compositing
rule of <i>set</i> is set, the old contents of the
destination image are discarded and the source image is used
as-is. The default compositing rule is <i>overlay</i>.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>data
?</b><i>option value(s) ...</i>?</p>

<p style="margin-left:22%;">Returns image data in the form
of a string. The following options may be specified: <b><br>
&minus;background</b> <i>color</i></p>

<p style="margin-left:32%;">If the color is specified, the
data will not contain any transparency information. In all
transparent pixels the color will be replaced by the
specified color.</p>

<p style="margin-left:22%;"><b>&minus;format</b>
<i>format-name</i></p>

<p style="margin-left:32%;">Specifies the name of the image
file format handler to be used. Specifically, this
subcommand searches for the first handler whose name matches
an initial substring of <i>format-name</i> and which has the
capability to write a string containing this image data. If
this option is not given, this subcommand uses a format that
consists of a list (one element per row) of lists (one
element per pixel/column) of colors in
&ldquo;<b>#</b><i>rrggbb</i>&rdquo; format (where <i>rr</i>
is a pair of hexadecimal digits for the red channel,
<i>gg</i> for green, and <i>bb</i> for blue).</p>

<p style="margin-left:22%;"><b>&minus;from</b> <i>x1 y1 x2
y2</i></p>

<p style="margin-left:32%;">Specifies a rectangular region
of <i>imageName</i> to be returned. If only <i>x1</i> and
<i>y1</i> are specified, the region extends from
<i>(x1,y1)</i> to the bottom-right corner of
<i>imageName</i>. If all four coordinates are given, they
specify diagonally opposite corners of the rectangular
region, including x1,y1 and excluding x2,y2. The default, if
this option is not given, is the whole image.</p>

<p style="margin-left:22%;"><b>&minus;grayscale</b></p>

<p style="margin-left:32%;">If this options is specified,
the data will not contain color information. All pixel data
will be transformed into grayscale.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>get</b>
<i>x y</i></p>

<p style="margin-left:22%;">Returns the color of the pixel
at coordinates (<i>x</i>,<i>y</i>) in the image as a list of
three integers between 0 and 255, representing the red,
green and blue components respectively.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>put</b>
<i>data</i> ?<i>option value(s) ...</i>?</p>

<p style="margin-left:22%;">Sets pixels in <i>imageName</i>
to the data specified in <i>data</i>. This command first
searches the list of image file format handlers for a
handler that can interpret the data in <i>data</i>, and then
reads the image encoded within into <i>imageName</i> (the
destination image). If <i>data</i> does not match any known
format, an attempt to interpret it as a (top-to-bottom) list
of scan-lines is made, with each scan-line being a
(left-to-right) list of pixel colors (see <b>Tk_GetColor</b>
for a description of valid colors.) Every scan-line must be
of the same length. Note that when <i>data</i> is a single
color name, you are instructing Tk to fill a rectangular
region with that color. The following options may be
specified: <b><br>
&minus;format</b> <i>format-name</i></p>

<p style="margin-left:32%;">Specifies the format of the
image data in <i>data</i>. Specifically, only image file
format handlers whose names begin with <i>format-name</i>
will be used while searching for an image data format
handler to read the data.</p>

<p style="margin-left:22%;"><b>&minus;to</b> <i>x1 y1</i>
?<i>x2 y2</i>?</p>

<p style="margin-left:32%;">Specifies the coordinates of
the top-left corner (<i>x1</i>,<i>y1</i>) of the region of
<i>imageName</i> into which the image data will be copied.
The default position is (0,0). If <i>x2</i>,<i>y2</i> is
given and <i>data</i> is not large enough to cover the
rectangle specified by this option, the image data extracted
will be tiled so it covers the entire destination rectangle.
Note that if <i>data</i> specifies a single color value,
then a region extending to the bottom-right corner
represented by (<i>x2</i>,<i>y2</i>) will be filled with
that color.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>read</b>
<i>filename</i> ?<i>option value(s) ...</i>?</p>

<p style="margin-left:22%;">Reads image data from the file
named <i>filename</i> into the image. This command first
searches the list of image file format handlers for a
handler that can interpret the data in <i>filename</i>, and
then reads the image in <i>filename</i> into
<i>imageName</i> (the destination image). The following
options may be specified: <b><br>
&minus;format</b> <i>format-name</i></p>

<p style="margin-left:32%;">Specifies the format of the
image data in <i>filename</i>. Specifically, only image file
format handlers whose names begin with <i>format-name</i>
will be used while searching for an image data format
handler to read the data.</p>

<p style="margin-left:22%;"><b>&minus;from</b> <i>x1 y1 x2
y2</i></p>

<p style="margin-left:32%;">Specifies a rectangular
sub-region of the image file data to be copied to the
destination image. If only <i>x1</i> and <i>y1</i> are
specified, the region extends from (<i>x1,y1</i>) to the
bottom-right corner of the image in the image file. If all
four coordinates are specified, they specify diagonally
opposite corners or the region. The default, if this option
is not specified, is the whole of the image in the image
file.</p>

<p style="margin-left:22%;"><b>&minus;shrink</b></p>

<p style="margin-left:32%;">If this option, the size of
<i>imageName</i> will be reduced, if necessary, so that the
region into which the image file data are read is at the
bottom-right corner of the <i>imageName</i>. This option
will not affect the width or height of the image if the user
has specified a non-zero value for the <b>&minus;width</b>
or <b>&minus;height</b> configuration option,
respectively.</p>

<p style="margin-left:22%;"><b>&minus;to</b> <i>x y</i></p>

<p style="margin-left:32%;">Specifies the coordinates of
the top-left corner of the region of <i>imageName</i> into
which data from <i>filename</i> are to be read. The default
is (0,0).</p>

<p style="margin-left:11%;"><i>imageName</i>
<b>redither</b></p>

<p style="margin-left:22%;">The dithering algorithm used in
displaying photo images propagates quantization errors from
one pixel to its neighbors. If the image data for
<i>imageName</i> is supplied in pieces, the dithered image
may not be exactly correct. Normally the difference is not
noticeable, but if it is a problem, this command can be used
to recalculate the dithered image in each window where the
image is displayed.</p>

<p style="margin-left:11%;"><i>imageName</i>
<b>transparency</b> <i>subcommand ?arg arg ...?</i></p>

<p style="margin-left:22%;">Allows examination and
manipulation of the transparency information in the photo
image. Several subcommands are available: <i><br>
imageName</i> <b>transparency get</b> <i>x y</i></p>

<p style="margin-left:32%;">Returns a boolean indicating if
the pixel at (<i>x</i>,<i>y</i>) is transparent.</p>

<p style="margin-left:22%;"><i>imageName</i>
<b>transparency set</b> <i>x y boolean</i></p>

<p style="margin-left:32%;">Makes the pixel at
(<i>x</i>,<i>y</i>) transparent if <i>boolean</i> is true,
and makes that pixel opaque otherwise.</p>

<p style="margin-left:11%;"><i>imageName</i> <b>write</b>
<i>filename</i> ?<i>option value(s) ...</i>?</p>

<p style="margin-left:22%;">Writes image data from
<i>imageName</i> to a file named <i>filename</i>. The
following options may be specified: <b><br>
&minus;background</b> <i>color</i></p>

<p style="margin-left:32%;">If the color is specified, the
data will not contain any transparency information. In all
transparent pixels the color will be replaced by the
specified color.</p>

<p style="margin-left:22%;"><b>&minus;format</b>
<i>format-name</i></p>

<p style="margin-left:32%;">Specifies the name of the image
file format handler to be used to write the data to the
file. Specifically, this subcommand searches for the first
handler whose name matches an initial substring of
<i>format-name</i> and which has the capability to write an
image file. If this option is not given, this subcommand
uses the first handler that has the capability to write an
image file.</p>

<p style="margin-left:22%;"><b>&minus;from</b> <i>x1 y1 x2
y2</i></p>

<p style="margin-left:32%;">Specifies a rectangular region
of <i>imageName</i> to be written to the image file. If only
<i>x1</i> and <i>y1</i> are specified, the region extends
from <i>(x1,y1)</i> to the bottom-right corner of
<i>imageName</i>. If all four coordinates are given, they
specify diagonally opposite corners of the rectangular
region. The default, if this option is not given, is the
whole image.</p>

<p style="margin-left:22%;"><b>&minus;grayscale</b></p>

<p style="margin-left:32%;">If this options is specified,
the data will not contain color information. All pixel data
will be transformed into grayscale.</p>

<h2>IMAGE FORMATS
<a name="IMAGE FORMATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The photo image
code is structured to allow handlers for additional image
file formats to be added easily. The photo image code
maintains a list of these handlers. Handlers are added to
the list by registering them with a call to
<b>Tk_CreatePhotoImageFormat</b>. The standard Tk
distribution comes with handlers for PPM/PGM and GIF
formats, which are automatically registered on
initialization.</p>

<p style="margin-left:11%; margin-top: 1em">When reading an
image file or processing string data specified with the
<b>&minus;data</b> configuration option, the photo image
code invokes each handler in turn until one is found that
claims to be able to read the data in the file or string.
Usually this will find the correct handler, but if it does
not, the user may give a format name with the
<b>&minus;format</b> option to specify which handler to use.
In fact the photo image code will try those handlers whose
names begin with the string specified for the
<b>&minus;format</b> option (the comparison is
case-insensitive). For example, if the user specifies
<b>&minus;format gif</b>, then a handler named GIF87 or
GIF89 may be invoked, but a handler named JPEG may not
(assuming that such handlers had been registered).</p>

<p style="margin-left:11%; margin-top: 1em">When writing
image data to a file, the processing of the
<b>&minus;format</b> option is slightly different: the
string value given for the <b>&minus;format</b> option must
begin with the complete name of the requested handler, and
may contain additional information following that, which the
handler can use, for example, to specify which variant to
use of the formats supported by the handler. Note that not
all image handlers may support writing transparency data to
a file, even where the target image format does.</p>

<h2>COLOR ALLOCATION
<a name="COLOR ALLOCATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When a photo
image is displayed in a window, the photo image code
allocates colors to use to display the image and dithers the
image, if necessary, to display a reasonable approximation
to the image using the colors that are available. The colors
are allocated as a color cube, that is, the number of colors
allocated is the product of the number of shades of red,
green and blue.</p>

<p style="margin-left:11%; margin-top: 1em">Normally, the
number of colors allocated is chosen based on the depth of
the window. For example, in an 8-bit PseudoColor window, the
photo image code will attempt to allocate seven shades of
red, seven shades of green and four shades of blue, for a
total of 198 colors. In a 1-bit StaticGray (monochrome)
window, it will allocate two colors, black and white. In a
24-bit DirectColor or TrueColor window, it will allocate 256
shades each of red, green and blue. Fortunately, because of
the way that pixel values can be combined in DirectColor and
TrueColor windows, this only requires 256 colors to be
allocated. If not all of the colors can be allocated, the
photo image code reduces the number of shades of each
primary color and tries again.</p>

<p style="margin-left:11%; margin-top: 1em">The user can
exercise some control over the number of colors that a photo
image uses with the <b>&minus;palette</b> configuration
option. If this option is used, it specifies the maximum
number of shades of each primary color to try to allocate.
It can also be used to force the image to be displayed in
shades of gray, even on a color display, by giving a single
number rather than three numbers separated by slashes.</p>

<h2>CREDITS
<a name="CREDITS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The photo image
type was designed and implemented by Paul Mackerras, based
on his earlier photo widget and some suggestions from John
Ousterhout.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Load an image
from a file and tile it to the size of a window, which is
useful for producing a tiled background:</p>

<p style="margin-left:22%;"># These lines should be called
once <b><br>
image create photo</b> untiled &minus;file
&quot;theFile.ppm&quot; <b><br>
image create photo</b> tiled</p>

<p style="margin-left:22%; margin-top: 1em"># These lines
should be called whenever .someWidget changes <br>
# size; a &lt;Configure&gt; binding is useful here <br>
set width [winfo width .someWidget] <br>
set height [winfo height .someWidget] <br>
tiled <b>copy</b> untiled &minus;to 0 0 $width $height
&minus;shrink</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">image(n)</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">photo, image,
color</p>
<hr>
</body>
</html>
