<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:57:20 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CRLUTIL</title>

</head>
<body>

<h1 align="center">CRLUTIL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#STATUS">STATUS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS AND ARGUMENTS">OPTIONS AND ARGUMENTS</a><br>
<a href="#CRL GENERATION SCRIPT SYNTAX">CRL GENERATION SCRIPT SYNTAX</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#ADDITIONAL RESOURCES">ADDITIONAL RESOURCES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">crlutil &minus;
List, generate, modify, or delete CRLs within the NSS
security database file(s) and list, create, modify or delete
certificates entries in a particular CRL.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="47%">


<p style="margin-top: 1em"><b>crlutil</b> [<i>options</i>]
[[<i>arguments</i>]]</p> </td>
<td width="42%">
</td></tr>
</table>

<h2>STATUS
<a name="STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This
documentation is still work in progress. Please contribute
to the initial review in <b><font color="#0000FF">Mozilla
NSS bug 836477</font></b>
<small><font color="#000000">[1]</font></small></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
Certificate Revocation List (CRL) Management Tool,
<b>crlutil</b>, is a command&minus;line utility that can
list, generate, modify, or delete CRLs within the NSS
security database file(s) and list, create, modify or delete
certificates entries in a particular CRL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
key and certificate management process generally begins with
creating keys in the key database, then generating and
managing certificates in the certificate database(see
certutil tool) and continues with certificates expiration or
revocation.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
document discusses certificate revocation list management.
For information on security module database management, see
Using the Security Module Database Tool. For information on
certificate and key database management, see Using the
Certificate Database Tool.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
run the Certificate Revocation List Management Tool, type
the command</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">crlutil
option [arguments]</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">where
options and arguments are combinations of the options and
arguments listed in the following section. Each command
takes one option. Each option may take zero or more
arguments. To see a usage string, issue the command without
options, or with the &minus;H option.</font></p>

<h2>OPTIONS AND ARGUMENTS
<a name="OPTIONS AND ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Options</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Options
specify an action. Option arguments modify an action. The
options and arguments for the crlutil command are defined as
follows:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;D</font></p>

<p style="margin-left:17%;"><font color="#000000">Delete
Certificate Revocation List from cert database.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;E</font></p>

<p style="margin-left:17%;"><font color="#000000">Erase all
CRLs of specified type from the cert database</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;G</font></p>

<p style="margin-left:17%;"><font color="#000000">Create
new Certificate Revocation List (CRL).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;I</font></p>

<p style="margin-left:17%;"><font color="#000000">Import a
CRL to the cert database</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;L</font></p>

<p style="margin-left:17%;"><font color="#000000">List
existing CRL located in cert database file.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;M</font></p>

<p style="margin-left:17%;"><font color="#000000">Modify
existing CRL which can be located in cert db or in arbitrary
file. If located in file it should be encoded in ASN.1
encode format.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;S</font></p>

<p style="margin-left:17%;"><font color="#000000">Show
contents of a CRL file which isn't stored in the
database.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Arguments</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Option
arguments modify an action.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;a</font></p>

<p style="margin-left:17%;"><font color="#000000">Use ASCII
format or allow the use of ASCII format for input and
output. This formatting follows RFC #1113.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;B</font></p>

<p style="margin-left:17%;"><font color="#000000">Bypass CA
signature checks.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;c
crl&minus;gen&minus;file</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
script file that will be used to control crl
generation/modification. See crl&minus;cript&minus;file
format below. If options &minus;M|&minus;G is used and
&minus;c crl&minus;script&minus;file is not specified,
crlutil will read script data from standard
input.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;d
directory</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the database directory containing the certificate and key
database files. On Unix the Certificate Database Tool
defaults to $HOME/.netscape (that is, ~/.netscape). On
Windows NT the default is the current directory.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
NSS database files must reside in the same
directory.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;f
password&minus;file</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify a
file that will automatically supply the password to include
in a certificate or to access a certificate database. This
is a plain&minus;text file containing one password. Be sure
to prevent unauthorized access to this file.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;i
crl&minus;file</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the file which contains the CRL to import or
show.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;l
algorithm&minus;name</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify a
specific signature algorithm. List of possible algorithms:
MD2 | MD4 | MD5 | SHA1 | SHA256 | SHA384 | SHA512</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;n
nickname</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the nickname of a certificate or key to list, create, add to
a database, modify, or validate. Bracket the nickname string
with quotation marks if it contains spaces.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;o
output&minus;file</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the output file name for new CRL. Bracket the
output&minus;file string with quotation marks if it contains
spaces. If this argument is not used the output destination
defaults to standard output.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;P
dbprefix</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the prefix used on the NSS security database files (for
example, my_cert8.db and my_key3.db). This option is
provided as a special case. Changing the names of the
certificate and key databases is not recommended.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;t
crl&minus;type</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
type of CRL. possible types are: 0 &minus; SEC_KRL_TYPE, 1
&minus; SEC_CRL_TYPE. This option is obsolete</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;u
url</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the url.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;w
pwd&minus;string</font></p>

<p style="margin-left:17%;"><font color="#000000">Provide
db password in command line.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;Z
algorithm</font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the hash algorithm to use for signing the CRL.</font></p>

<h2>CRL GENERATION SCRIPT SYNTAX
<a name="CRL GENERATION SCRIPT SYNTAX"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">CRL
generation script file has the following syntax:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Line with comments should have # as a first symbol of a
line</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Set &quot;this update&quot; or &quot;next update&quot; CRL
fields:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">update=YYYYMMDDhhmmssZ
nextupdate=YYYYMMDDhhmmssZ</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Field
&quot;next update&quot; is optional. Time should be in
GeneralizedTime format (YYYYMMDDhhmmssZ). For example:
20050204153000Z</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add an extension to a CRL or a crl certificate
entry:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">addext
extension&minus;name critical/non&minus;critical [arg1[arg2
...]]</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">extension&minus;name:
string value of a name of known extensions.
critical/non&minus;critical: is 1 when extension is critical
and 0 otherwise. arg1, arg2: specific to extension type
extension parameters</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">addext
uses the range that was set earlier by addcert and will
install an extension to every cert entries within the
range.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add certificate entries(s) to CRL:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">addcert
range date</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">range:
two integer values separated by dash: range of certificates
that will be added by this command. dash is used as a
delimiter. Only one cert will be added if there is no
delimiter. date: revocation date of a cert. Date should be
represented in GeneralizedTime format
(YYYYMMDDhhmmssZ).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Remove certificate entry(s) from CRL</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">rmcert
range</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">range:
two integer values separated by dash: range of certificates
that will be added by this command. dash is used as a
delimiter. Only one cert will be added if there is no
delimiter.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Change range of certificate entry(s) in CRL</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">range
new&minus;range</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">new&minus;range:
two integer values separated by dash: range of certificates
that will be added by this command. dash is used as a
delimiter. Only one cert will be added if there is no
delimiter.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Implemented
Extensions</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
extensions defined for CRL provide methods for associating
additional attributes with CRLs of theirs entries. For more
information see RFC #3280</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add The Authority Key Identifier extension:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
authority key identifier extension provides a means of
identifying the public key corresponding to the private key
used to sign a CRL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">authKeyId
critical [key&minus;id | dn cert&minus;serial]</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">authKeyIdent:
identifies the name of an extension critical: value of 1 of
0. Should be set to 1 if this extension is critical or 0
otherwise. key&minus;id: key identifier represented in octet
string. dn:: is a CA distinguished name cert&minus;serial:
authority certificate serial number.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add Issuer Alternative Name extension:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
issuer alternative names extension allows additional
identities to be associated with the issuer of the CRL.
Defined options include an rfc822 name (electronic mail
address), a DNS name, an IP address, and a URI.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">issuerAltNames
non&minus;critical name&minus;list</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">subjAltNames:
identifies the name of an extension should be set to 0 since
this is non&minus;critical extension name&minus;list: comma
separated list of names</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add CRL Number extension:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
CRL number is a non&minus;critical CRL extension which
conveys a monotonically increasing sequence number for a
given CRL scope and CRL issuer. This extension allows users
to easily determine when a particular CRL supersedes another
CRL</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">crlNumber
non&minus;critical number</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">crlNumber:
identifies the name of an extension critical: should be set
to 0 since this is non&minus;critical extension number:
value of long which identifies the sequential number of a
CRL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add Revocation Reason Code extension:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
reasonCode is a non&minus;critical CRL entry extension that
identifies the reason for the certificate
revocation.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">reasonCode
non&minus;critical code</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">reasonCode:
identifies the name of an extension non&minus;critical:
should be set to 0 since this is non&minus;critical
extension code: the following codes are
available:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">unspecified
(0), keyCompromise (1), cACompromise (2), affiliationChanged
(3), superseded (4), cessationOfOperation (5),
certificateHold (6), removeFromCRL (8), privilegeWithdrawn
(9), aACompromise (10)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Add Invalidity Date extension:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
invalidity date is a non&minus;critical CRL entry extension
that provides the date on which it is known or suspected
that the private key was compromised or that the certificate
otherwise became invalid.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">invalidityDate
non&minus;critical date</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Where:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">crlNumber:
identifies the name of an extension non&minus;critical:
should be set to 0 since this is non&minus;critical
extension date: invalidity date of a cert. Date should be
represented in GeneralizedTime format
(YYYYMMDDhhmmssZ).</font></p>

<h2>USAGE
<a name="USAGE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
Certificate Revocation List Management Tool's capabilities
are grouped as follows, using these combinations of options
and arguments. Options and arguments in square brackets are
optional, those without square brackets are
required.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">See
&quot;Implemented extensions&quot; for more information
regarding extensions and their parameters.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Creating or modifying a CRL:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">crlutil
&minus;G|&minus;M &minus;c crl&minus;gen&minus;file &minus;n
nickname [&minus;i crl] [&minus;u url] [&minus;d keydir]
[&minus;P dbprefix] [&minus;l alg] [&minus;a]
[&minus;B]</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Listing all CRls or a named CRL:</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">crlutil &minus;L [&minus;n
crl&minus;name] [&minus;d krydir]</font></p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Deleting CRL from db:</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">crlutil &minus;D &minus;n nickname
[&minus;d keydir] [&minus;P dbprefix]</font></p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Erasing CRLs from db:</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">crlutil &minus;E [&minus;d keydir]
[&minus;P dbprefix]</font></p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Deleting CRL from db:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">crlutil
&minus;D &minus;n nickname [&minus;d keydir] [&minus;P
dbprefix]</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Erasing CRLs from db:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">crlutil
&minus;E [&minus;d keydir] [&minus;P dbprefix]</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Import CRL from file:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">crlutil
&minus;I &minus;i crl [&minus;t crlType] [&minus;u url]
[&minus;d keydir] [&minus;P dbprefix] [&minus;B]</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">certutil(1)</font></p>

<h2>ADDITIONAL RESOURCES
<a name="ADDITIONAL RESOURCES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
information about NSS and other tools related to NSS (like
JSS), check out the NSS project wiki at</font>
<b><font color="#0000FF">http://www.mozilla.org/projects/security/pki/nss/</font></b><font color="#000000">.
The NSS site relates directly to NSS code changes and
releases.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Mailing
lists:
https://lists.mozilla.org/listinfo/dev&minus;tech&minus;crypto</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">IRC:
Freenode at #dogtag&minus;pki</font></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
NSS tools were written and maintained by developers with
Netscape, Red Hat, Sun, Oracle, Mozilla, and
Google.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Authors:
Elio Maldonado &lt;emaldona@redhat.com&gt;, Deon Lackey
&lt;dlackey@redhat.com&gt;.</font></p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Licensed
under the Mozilla Public License, v. 2.0. If a copy of the
MPL was not distributed with this file, You can obtain one
at http://mozilla.org/MPL/2.0/.</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="34%">


<p style="margin-top: 1em"><font color="#000000">Mozilla
NSS bug 836477</font></p></td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://bugzilla.mozilla.org/show_bug.cgi?id=836477</font></p>
<hr>
</body>
</html>
