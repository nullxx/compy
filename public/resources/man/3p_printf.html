<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:16:09 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FPRINTF</title>

</head>
<body>

<h1 align="center">FPRINTF</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fprintf,
printf, snprintf, sprintf &minus; print formatted output</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;stdio.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
fprintf(FILE *restrict</b> <i>stream</i><b>, const char
*restrict</b> <i>format</i><b>, ...); <br>
int printf(const char *restrict</b> <i>format</i><b>, ...);
<br>
int snprintf(char *restrict</b> <i>s</i><b>, size_t</b>
<i>n</i><b>, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
const char *restrict</b> <i>format</i><b>, ...); <br>
int sprintf(char *restrict</b> <i>s</i><b>, const char
*restrict</b> <i>format</i><b>, ...);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>fprintf</i>() function shall place output on the named
output <i>stream</i>. The <i>printf</i>() function shall
place output on the standard output stream <i>stdout</i>.
The <i>sprintf</i>() function shall place output followed by
the null byte, <b>&rsquo;\0&rsquo;</b>, in consecutive bytes
starting at *<i>s</i>; it is the user&rsquo;s responsibility
to ensure that enough space is available.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>snprintf</i>() function shall be equivalent to
<i>sprintf</i>(), with the addition of the <i>n</i> argument
which states the size of the buffer referred to by <i>s</i>.
If <i>n</i> is zero, nothing shall be written and <i>s</i>
may be a null pointer. Otherwise, output bytes beyond the
<i>n</i>-1st shall be discarded instead of being written to
the array, and a null byte is written at the end of the
bytes actually written into the array.</p>

<p style="margin-left:11%; margin-top: 1em">If copying
takes place between objects that overlap as a result of a
call to <i>sprintf</i>() or <i>snprintf</i>(), the results
are undefined.</p>

<p style="margin-left:11%; margin-top: 1em">Each of these
functions converts, formats, and prints its arguments under
control of the <i>format</i>. The <i>format</i> is a
character string, beginning and ending in its initial shift
state, if any. The <i>format</i> is composed of zero or more
directives: <i>ordinary characters</i>, which are simply
copied to the output stream, and <i>conversion
specifications</i>, each of which shall result in the
fetching of zero or more arguments. The results are
undefined if there are insufficient arguments for the
<i>format</i>. If the <i>format</i> is exhausted while
arguments remain, the excess arguments shall be evaluated
but are otherwise ignored.</p>

<p style="margin-left:11%; margin-top: 1em">Conversions can
be applied to the <i>n</i>th argument after the
<i>format</i> in the argument list, rather than to the next
unused argument. In this case, the conversion specifier
character <b>%</b> (see below) is replaced by the sequence
<b>&quot;%</b><i>n</i><b>$&quot;</b>, where <i>n</i> is a
decimal integer in the range [1,{NL_ARGMAX}], giving the
position of the argument in the argument list. This feature
provides for the definition of format strings that select
arguments in an order appropriate to specific languages (see
the EXAMPLES section).</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>format</i> can contain either numbered argument
conversion specifications (that is,
<b>&quot;%</b><i>n</i><b>$&quot;</b> and
<b>&quot;*</b><i>m</i><b>$&quot;</b>), or unnumbered
argument conversion specifications (that is, <b>%</b> and
<b>*</b> ), but not both. The only exception to this is that
<b>%%</b> can be mixed with the
<b>&quot;%</b><i>n</i><b>$&quot;</b> form. The results of
mixing numbered and unnumbered argument specifications in a
<i>format</i> string are undefined. When numbered argument
specifications are used, specifying the <i>N</i>th argument
requires that all the leading arguments, from the first to
the (<i>N-1</i>)th, are specified in the format string.</p>

<p style="margin-left:11%; margin-top: 1em">In format
strings containing the <b>&quot;%</b><i>n</i><b>$&quot;</b>
form of conversion specification, numbered arguments in the
argument list can be referenced from the format string as
many times as required.</p>

<p style="margin-left:11%; margin-top: 1em">In format
strings containing the <b>%</b> form of conversion
specification, each conversion specification uses the first
unused argument in the argument list.</p>

<p style="margin-left:11%; margin-top: 1em">All forms of
the <i>fprintf</i>() functions allow for the insertion of a
language-dependent radix character in the output string. The
radix character is defined in the program&rsquo;s locale
(category <i>LC_NUMERIC ).</i> In the POSIX locale, or in a
locale where the radix character is not defined, the radix
character shall default to a period ( <b>&rsquo;.&rsquo;</b>
).</p>

<p style="margin-left:11%; margin-top: 1em">Each conversion
specification is introduced by the <b>&rsquo;%&rsquo;</b>
character &nbsp;or by the character sequence
<b>&quot;%</b><i>n</i><b>$&quot;</b>, after which the
following appear in sequence:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Zero or more <i>flags</i> (in any order), which modify
the meaning of the conversion specification.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>An optional minimum <i>field width</i>. If the converted
value has fewer bytes than the field width, it shall be
padded with spaces by default on the left; it shall be
padded on the right if the left-adjustment flag (
<b>&rsquo;-&rsquo;</b> ), described below, is given to the
field width. The field width takes the form of an asterisk (
<b>&rsquo;*&rsquo;</b> ), described below, or a decimal
integer.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>An optional <i>precision</i> that gives the minimum
number of digits to appear for the <b>d</b>, <b>i</b>,
<b>o</b>, <b>u</b>, <b>x</b>, and <b>X</b> conversion
specifiers; the number of digits to appear after the radix
character for the <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>,
<b>f</b>, and <b>F</b> conversion specifiers; the maximum
number of significant digits for the <b>g</b> and <b>G</b>
conversion specifiers; or the maximum number of bytes to be
printed from a string in the <b>s</b> and <b>S
&nbsp;</b>conversion specifiers. The precision takes the
form of a period ( <b>&rsquo;.&rsquo;</b> ) followed either
by an asterisk ( <b>&rsquo;*&rsquo;</b> ), described below,
or an optional decimal digit string, where a null digit
string is treated as zero. If a precision appears with any
other conversion specifier, the behavior is undefined.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>An optional length modifier that specifies the size of
the argument.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>A <i>conversion specifier</i> character that indicates
the type of conversion to be applied.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A field width,
or precision, or both, may be indicated by an asterisk (
<b>&rsquo;*&rsquo;</b> ). In this case an argument of type
<b>int</b> supplies the field width or precision.
Applications shall ensure that arguments specifying field
width, or precision, or both appear in that order before the
argument, if any, to be converted. A negative field width is
taken as a <b>&rsquo;-&rsquo;</b> flag followed by a
positive field width. A negative precision is taken as if
the precision were omitted. In format strings containing the
<b>&quot;%</b><i>n</i><b>$&quot;</b> form of a conversion
specification, a field width or precision may be indicated
by the sequence <b>&quot;*</b><i>m</i><b>$&quot;</b>, where
<i>m</i> is a decimal integer in the range [1,{NL_ARGMAX}]
giving the position in the argument list (after the
<i>format</i> argument) of an integer argument containing
the field width or precision, for example:</p>


<p style="margin-left:22%; margin-top: 1em"><b>printf(&quot;%1$d:%2$.*3$d:%4$.*3$d\n&quot;,
hour, min, precision, sec);</b></p>

<p style="margin-left:11%; margin-top: 1em">The flag
characters and their meanings are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>&rsquo;</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The integer portion of the
result of a decimal conversion ( <b>%i</b>, <b>%d</b>,
<b>%u</b>, <b>%f</b>, <b>%F</b>, <b>%g</b>, or <b>%G</b> )
shall be formatted with thousands&rsquo; grouping
characters. For other conversions the behavior is undefined.
The non-monetary grouping character is used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>-</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>The result of the conversion shall be left-justified
within the field. The conversion is right-justified if this
flag is not specified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>+</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>The result of a signed conversion shall always begin
with a sign ( <b>&rsquo;+&rsquo;</b> or
<b>&rsquo;-&rsquo;</b> ). The conversion shall begin with a
sign only when a negative value is converted if this flag is
not specified.</p></td></tr>
</table>

<p style="margin-left:11%;">&lt;space&gt;</p>

<p style="margin-left:22%;">If the first character of a
signed conversion is not a sign or if a signed conversion
results in no characters, a &lt;space&gt; shall be prefixed
to the result. This means that if the &lt;space&gt; and
<b>&rsquo;+&rsquo;</b> flags both appear, the &lt;space&gt;
flag shall be ignored.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>#</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Specifies that the value is to be converted to an
alternative form. For <b>o</b> conversion, it increases the
precision (if necessary) to force the first digit of the
result to be zero. For <b>x</b> or <b>X</b> conversion
specifiers, a non-zero result shall have 0x (or 0X) prefixed
to it. For <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>,
<b>F</b>, <b>g</b>, and <b>G</b> conversion specifiers, the
result shall always contain a radix character, even if no
digits follow the radix character. Without this flag, a
radix character appears in the result of these conversions
only if a digit follows it. For <b>g</b> and <b>G</b>
conversion specifiers, trailing zeros shall <i>not</i> be
removed from the result as they normally are. For other
conversion specifiers, the behavior is undefined.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>For <b>d</b>, <b>i</b>, <b>o</b>, <b>u</b>, <b>x</b>,
<b>X</b>, <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>,
<b>F</b>, <b>g</b>, and <b>G</b> conversion specifiers,
leading zeros (following any indication of sign or base) are
used to pad to the field width; no space padding is
performed. If the <b>&rsquo;0&rsquo;</b> and
<b>&rsquo;-&rsquo;</b> flags both appear, the
<b>&rsquo;0&rsquo;</b> flag is ignored. For <b>d</b>,
<b>i</b>, <b>o</b>, <b>u</b>, <b>x</b>, and <b>X</b>
conversion specifiers, if a precision is specified, the
<b>&rsquo;0&rsquo;</b> flag is ignored. If the
<b>&rsquo;0&rsquo;</b> and <b>&rsquo;&quot;</b> flags both
appear, the grouping characters are inserted before zero
padding. For other conversions, the behavior is
undefined.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The length
modifiers and their meanings are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>hh</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Specifies that a following
<b>d</b>, <b>i</b>, <b>o</b>, <b>u</b>, <b>x</b>, or
<b>X</b> conversion specifier applies to a <b>signed
char</b> or <b>unsigned char</b> argument (the argument will
have been promoted according to the integer promotions, but
its value shall be converted to <b>signed char</b> or
<b>unsigned char</b> before printing); or that a following
<b>n</b> conversion specifier applies to a pointer to a
<b>signed char</b> argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>h</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Specifies that a following <b>d</b>, <b>i</b>, <b>o</b>,
<b>u</b>, <b>x</b>, or <b>X</b> conversion specifier applies
to a <b>short</b> or <b>unsigned short</b> argument (the
argument will have been promoted according to the integer
promotions, but its value shall be converted to <b>short</b>
or <b>unsigned short</b> before printing); or that a
following <b>n</b> conversion specifier applies to a pointer
to a <b>short</b> argument.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>l&nbsp;</b>(ell)</p>

<p style="margin-left:22%;">Specifies that a following
<b>d</b>, <b>i</b>, <b>o</b>, <b>u</b>, <b>x</b>, or
<b>X</b> conversion specifier applies to a <b>long</b> or
<b>unsigned long</b> argument; that a following <b>n</b>
conversion specifier applies to a pointer to a <b>long</b>
argument; that a following <b>c</b> conversion specifier
applies to a <b>wint_t</b> argument; that a following
<b>s</b> conversion specifier applies to a pointer to a
<b>wchar_t</b> argument; or has no effect on a following
<b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>,
<b>g</b>, or <b>G</b> conversion specifier.</p>

<p style="margin-left:11%;"><b>ll&nbsp;</b>(ell-ell)</p>

<p style="margin-left:22%; margin-top: 1em">Specifies that
a following <b>d</b>, <b>i</b>, <b>o</b>, <b>u</b>,
<b>x</b>, or <b>X</b> conversion specifier applies to a
<b>long long</b> or <b>unsigned long long</b> argument; or
that a following <b>n</b> conversion specifier applies to a
pointer to a <b>long long</b> argument.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>j</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Specifies that a following <b>d</b>, <b>i</b>, <b>o</b>,
<b>u</b>, <b>x</b>, or <b>X</b> conversion specifier applies
to an <b>intmax_t</b> or <b>uintmax_t</b> argument; or that
a following <b>n</b> conversion specifier applies to a
pointer to an <b>intmax_t</b> argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>z</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Specifies that a following <b>d</b>, <b>i</b>, <b>o</b>,
<b>u</b>, <b>x</b>, or <b>X</b> conversion specifier applies
to a <b>size_t</b> or the corresponding signed integer type
argument; or that a following <b>n</b> conversion specifier
applies to a pointer to a signed integer type corresponding
to a <b>size_t</b> argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Specifies that a following <b>d</b>, <b>i</b>, <b>o</b>,
<b>u</b>, <b>x</b>, or <b>X</b> conversion specifier applies
to a <b>ptrdiff_t</b> or the corresponding <b>unsigned</b>
type argument; or that a following <b>n</b> conversion
specifier applies to a pointer to a <b>ptrdiff_t</b>
argument.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>L</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Specifies that a following <b>a</b>, <b>A</b>, <b>e</b>,
<b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, or <b>G</b>
conversion specifier applies to a <b>long double</b>
argument.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If a length
modifier appears with any conversion specifier other than as
specified above, the behavior is undefined.</p>

<p style="margin-left:11%; margin-top: 1em">The conversion
specifiers and their meanings are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>d</b>,&nbsp;<b>i</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>int</b> argument shall be
converted to a signed decimal in the style
<b>&quot;[-]</b><i>dddd</i><b>&quot;</b>. The precision
specifies the minimum number of digits to appear; if the
value being converted can be represented in fewer digits, it
shall be expanded with leading zeros. The default precision
is 1. The result of converting zero with an explicit
precision of zero shall be no characters.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>The <b>unsigned</b> argument shall be converted to
unsigned octal format in the style
<b>&quot;</b><i>dddd</i><b>&quot;</b>. The precision
specifies the minimum number of digits to appear; if the
value being converted can be represented in fewer digits, it
shall be expanded with leading zeros. The default precision
is 1. The result of converting zero with an explicit
precision of zero shall be no characters.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>The <b>unsigned</b> argument shall be converted to
unsigned decimal format in the style
<b>&quot;</b><i>dddd</i><b>&quot;</b>. The precision
specifies the minimum number of digits to appear; if the
value being converted can be represented in fewer digits, it
shall be expanded with leading zeros. The default precision
is 1. The result of converting zero with an explicit
precision of zero shall be no characters.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>The <b>unsigned</b> argument shall be converted to
unsigned hexadecimal format in the style
<b>&quot;</b><i>dddd</i><b>&quot;</b>; the letters
<b>&quot;abcdef&quot;</b> are used. The precision specifies
the minimum number of digits to appear; if the value being
converted can be represented in fewer digits, it shall be
expanded with leading zeros. The default precision is 1. The
result of converting zero with an explicit precision of zero
shall be no characters.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>X</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Equivalent to the <b>x</b> conversion specifier, except
that letters <b>&quot;ABCDEF&quot;</b> are used instead of
<b>&quot;abcdef&quot;</b> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>f</b>,&nbsp;<b>F</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>The <b>double</b> argument shall be converted to decimal
notation in the style
<b>&quot;[-]</b><i>ddd</i><b>.</b><i>ddd</i><b>&quot;</b>,
where the number of digits after the radix character is
equal to the precision specification. If the precision is
missing, it shall be taken as 6; if the precision is
explicitly zero and no <b>&rsquo;#&rsquo;</b> flag is
present, no radix character shall appear. If a radix
character appears, at least one digit appears before it. The
low-order digit shall be rounded in an
implementation-defined manner.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A <b>double</b>
argument representing an infinity shall be converted in one
of the styles <b>&quot;[-]inf&quot;</b> or
<b>&quot;[-]infinity&quot;</b> ; which style is
implementation-defined. A <b>double</b> argument
representing a NaN shall be converted in one of the styles
<b>&quot;[-]nan(</b><i>n-char-sequence</i><b>)&quot;</b> or
<b>&quot;[-]nan&quot;</b> ; which style, and the meaning of
any <i>n-char-sequence</i>, is implementation-defined. The
<b>F</b> conversion specifier produces
<b>&quot;INF&quot;</b>, <b>&quot;INFINITY&quot;</b>, or
<b>&quot;NAN&quot;</b> instead of <b>&quot;inf&quot;</b>,
<b>&quot;infinity&quot;</b>, or <b>&quot;nan&quot;</b>,
respectively.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>e</b>,&nbsp;<b>E</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>double</b> argument shall
be converted in the style
<b>&quot;[-]</b><i>d</i><b>.</b><i>ddd</i><b>e&plusmn;</b><i>dd</i><b>&quot;</b>,
where there is one digit before the radix character (which
is non-zero if the argument is non-zero) and the number of
digits after it is equal to the precision; if the precision
is missing, it shall be taken as 6; if the precision is zero
and no <b>&rsquo;#&rsquo;</b> flag is present, no radix
character shall appear. The low-order digit shall be rounded
in an implementation-defined manner. The <b>E</b> conversion
specifier shall produce a number with <b>&rsquo;E&rsquo;</b>
instead of <b>&rsquo;e&rsquo;</b> introducing the exponent.
The exponent shall always contain at least two digits. If
the value is zero, the exponent shall be zero.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A <b>double</b>
argument representing an infinity or NaN shall be converted
in the style of an <b>f</b> or <b>F</b> conversion
specifier.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>g</b>,&nbsp;<b>G</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>double</b> argument shall
be converted in the style <b>f</b> or <b>e</b> (or in the
style <b>F</b> or <b>E</b> in the case of a <b>G</b>
conversion specifier), with the precision specifying the
number of significant digits. If an explicit precision is
zero, it shall be taken as 1. The style used depends on the
value converted; style <b>e</b> (or <b>E</b> ) shall be used
only if the exponent resulting from such a conversion is
less than -4 or greater than or equal to the precision.
Trailing zeros shall be removed from the fractional portion
of the result; a radix character shall appear only if it is
followed by a digit or a <b>&rsquo;#&rsquo;</b> flag is
present.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A <b>double</b>
argument representing an infinity or NaN shall be converted
in the style of an <b>f</b> or <b>F</b> conversion
specifier.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>a</b>,&nbsp;<b>A</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">A <b>double</b> argument
representing a floating-point number shall be converted in
the style
<b>&quot;[-]0x</b><i>h</i><b>.</b><i>hhhh</i><b>p&plusmn;</b><i>d</i><b>&quot;</b>,
where there is one hexadecimal digit (which shall be
non-zero if the argument is a normalized floating-point
number and is otherwise unspecified) before the
decimal-point character and the number of hexadecimal digits
after it is equal to the precision; if the precision is
missing and FLT_RADIX is a power of 2, then the precision
shall be sufficient for an exact representation of the
value; if the precision is missing and FLT_RADIX is not a
power of 2, then the precision shall be sufficient to
distinguish values of type <b>double</b>, except that
trailing zeros may be omitted; if the precision is zero and
the <b>&rsquo;#&rsquo;</b> flag is not specified, no
decimal-point character shall appear. The letters
<b>&quot;abcdef&quot;</b> shall be used for <b>a</b>
conversion and the letters <b>&quot;ABCDEF&quot;</b> for
<b>A</b> conversion. The <b>A</b> conversion specifier
produces a number with <b>&rsquo;X&rsquo;</b> and
<b>&rsquo;P&rsquo;</b> instead of <b>&rsquo;x&rsquo;</b> and
<b>&rsquo;p&rsquo;</b> . The exponent shall always contain
at least one digit, and only as many more digits as
necessary to represent the decimal exponent of 2. If the
value is zero, the exponent shall be zero.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A <b>double</b>
argument representing an infinity or NaN shall be converted
in the style of an <b>f</b> or <b>F</b> conversion
specifier.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>c</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>int</b> argument shall be
converted to an <b>unsigned char</b>, and the resulting byte
shall be written.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If an <b>l</b>
(ell) qualifier is present, the <b>wint_t</b> argument shall
be converted as if by an <b>ls</b> conversion specification
with no precision and an argument that points to a
two-element array of type <b>wchar_t</b>, the first element
of which contains the <b>wint_t</b> argument to the
<b>ls</b> conversion specification and the second element
contains a null wide character.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>s</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The argument shall be a pointer
to an array of <b>char</b>. Bytes from the array shall be
written up to (but not including) any terminating null byte.
If the precision is specified, no more than that many bytes
shall be written. If the precision is not specified or is
greater than the size of the array, the application shall
ensure that the array contains a null byte.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If an <b>l</b>
(ell) qualifier is present, the argument shall be a pointer
to an array of type <b>wchar_t</b>. Wide characters from the
array shall be converted to characters (each as if by a call
to the <i>wcrtomb</i>() function, with the conversion state
described by an <b>mbstate_t</b> object initialized to zero
before the first wide character is converted) up to and
including a terminating null wide character. The resulting
characters shall be written up to (but not including) the
terminating null character (byte). If no precision is
specified, the application shall ensure that the array
contains a null wide character. If a precision is specified,
no more than that many characters (bytes) shall be written
(including shift sequences, if any), and the array shall
contain a null wide character if, to equal the character
sequence length given by the precision, the function would
need to access a wide character one past the end of the
array. In no case shall a partial character be written.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>p</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The argument shall be a pointer
to <b>void</b>. The value of the pointer is converted to a
sequence of printable characters, in an
implementation-defined manner.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>The argument shall be a pointer to an integer into which
is written the number of bytes written to the output so far
by this call to one of the <i>fprintf</i>() functions. No
argument is converted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>C</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Equivalent to <b>lc</b> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>S</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Equivalent to <b>ls</b> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>%</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Print a <b>&rsquo;%&rsquo;</b> character; no argument is
converted. The complete conversion specification shall be
<b>%%</b> .</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If a conversion
specification does not match one of the above forms, the
behavior is undefined. If any argument is not the correct
type for the corresponding conversion specification, the
behavior is undefined.</p>

<p style="margin-left:11%; margin-top: 1em">In no case
shall a nonexistent or small field width cause truncation of
a field; if the result of a conversion is wider than the
field width, the field shall be expanded to contain the
conversion result. Characters generated by <i>fprintf</i>()
and <i>printf</i>() are printed as if <i>fputc</i>() had
been called.</p>

<p style="margin-left:11%; margin-top: 1em">For the
<b>a</b> and <b>A</b> conversion specifiers, if FLT_RADIX is
a power of 2, the value shall be correctly rounded to a
hexadecimal floating number with the given precision.</p>

<p style="margin-left:11%; margin-top: 1em">For <b>a</b>
and <b>A</b> conversions, if FLT_RADIX is not a power of 2
and the result is not exactly representable in the given
precision, the result should be one of the two adjacent
numbers in hexadecimal floating style with the given
precision, with the extra stipulation that the error should
have a correct sign for the current rounding direction.</p>

<p style="margin-left:11%; margin-top: 1em">For the
<b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, and
<b>G</b> conversion specifiers, if the number of significant
decimal digits is at most DECIMAL_DIG, then the result
should be correctly rounded. If the number of significant
decimal digits is more than DECIMAL_DIG but the source value
is exactly representable with DECIMAL_DIG digits, then the
result should be an exact representation with trailing
zeros. Otherwise, the source value is bounded by two
adjacent decimal strings <i>L</i> &lt; <i>U</i>, both having
DECIMAL_DIG significant digits; the value of the resultant
decimal string <i>D</i> should satisfy <i>L</i> &lt;=
<i>D</i> &lt;= <i>U</i>, with the extra stipulation that the
error should have a correct sign for the current rounding
direction.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>st_ctime</i> and <i>st_mtime</i> fields of the file shall
be marked for update between the call to a successful
execution of <i>fprintf</i>() or <i>printf</i>() and the
next successful completion of a call to <i>fflush</i>() or
<i>fclose</i>() on the same stream or a call to
<i>exit</i>() or <i>abort</i>().</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Upon successful
completion, the <i>fprintf</i>() and <i>printf</i>()
functions shall return the number of bytes transmitted.</p>

<p style="margin-left:11%; margin-top: 1em">Upon successful
completion, the <i>sprintf</i>() function shall return the
number of bytes written to <i>s</i>, excluding the
terminating null byte.</p>

<p style="margin-left:11%; margin-top: 1em">Upon successful
completion, the <i>snprintf</i>() function shall return the
number of bytes that would be written to <i>s</i> had
<i>n</i> been sufficiently large excluding the terminating
null byte.</p>

<p style="margin-left:11%; margin-top: 1em">If an output
error was encountered, these functions shall return a
negative value.</p>

<p style="margin-left:11%; margin-top: 1em">If the value of
<i>n</i> is zero on a call to <i>snprintf</i>(), nothing
shall be written, the number of bytes that would have been
written had <i>n</i> been sufficiently large excluding the
terminating null shall be returned, and <i>s</i> may be a
null pointer.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For the
conditions under which <i>fprintf</i>() and <i>printf</i>()
fail and may fail, refer to <i>fputc</i>() or
<i>fputwc</i>().</p>

<p style="margin-left:11%; margin-top: 1em">In addition,
all forms of <i>fprintf</i>() may fail if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EILSEQ</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">A wide-character code that does
not correspond to a valid character has been detected.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>There are insufficient arguments.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<i>printf</i>() and <i>fprintf</i>() functions may fail
if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>ENOMEM</b></p></td>
<td width="2%"></td>
<td width="61%">


<p style="margin-top: 1em">Insufficient storage space is
available.</p> </td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<i>snprintf</i>() function shall fail if: <b><br>
EOVERFLOW</b></p>

<p style="margin-left:22%;">The value of <i>n</i> is
greater than {INT_MAX} or the number of bytes needed to hold
the output excluding the terminating null is greater than
{INT_MAX}.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i><b>Printing
Language-Independent Date and Time</b></i> <br>
The following statement can be used to print date and time
using a language-independent format:</p>


<p style="margin-left:22%; margin-top: 1em"><b>printf(format,
weekday, month, day, hour, min);</b></p>

<p style="margin-left:11%; margin-top: 1em">For American
usage, <i>format</i> could be a pointer to the following
string:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;%s, %s
%d, %d:%.2d\n&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">This example
would produce the following message:</p>

<p style="margin-left:22%; margin-top: 1em"><b>Sunday, July
3, 10:02</b></p>

<p style="margin-left:11%; margin-top: 1em">For German
usage, <i>format</i> could be a pointer to the following
string:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;%1$s,
%3$d. %2$s, %4$d:%5$.2d\n&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">This definition
of <i>format</i> would produce the following message:</p>

<p style="margin-left:22%; margin-top: 1em"><b>Sonntag, 3.
Juli, 10:02</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Printing
File Information</b> <br>
The following example prints information about the type,
permissions, and number of links of a specific file in a
directory.</p>

<p style="margin-left:11%; margin-top: 1em">The first two
calls to <i>printf</i>() use data decoded from a previous
<i>stat</i>() call. The user-defined <i>strperm</i>()
function shall return a string similar to the one at the
beginning of the output for the following command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ls
-l</b></p>

<p style="margin-left:11%; margin-top: 1em">The next call
to <i>printf</i>() outputs the owner&rsquo;s name if it is
found using <i>getpwuid</i>(); the <i>getpwuid</i>()
function shall return a <b>passwd</b> structure from which
the name of the user is extracted. If the user name is not
found, the program instead prints out the numeric value of
the user ID.</p>

<p style="margin-left:11%; margin-top: 1em">The next call
prints out the group name if it is found using
<i>getgrgid</i>(); <i>getgrgid</i>() is very similar to
<i>getpwuid</i>() except that it shall return group
information based on the group number. Once again, if the
group is not found, the program prints the numeric value of
the group for the entry.</p>

<p style="margin-left:11%; margin-top: 1em">The final call
to <i>printf</i>() prints the size of the file.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br>
#include &lt;sys/types.h&gt; <br>
#include &lt;pwd.h&gt; <br>
#include &lt;grp.h&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>char
*strperm (mode_t); <br>
... <br>
struct stat statbuf; <br>
struct passwd *pwd; <br>
struct group *grp; <br>
... <br>
printf(&quot;%10.10s&quot;, strperm (statbuf.st_mode)); <br>
printf(&quot;%4d&quot;, statbuf.st_nlink);</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>if ((pwd =
getpwuid(statbuf.st_uid)) != NULL) <br>
printf(&quot; %-8.8s&quot;, pwd-&gt;pw_name); <br>
else <br>
printf(&quot; %-8ld&quot;, (long) statbuf.st_uid);</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>if ((grp =
getgrgid(statbuf.st_gid)) != NULL) <br>
printf(&quot; %-8.8s&quot;, grp-&gt;gr_name); <br>
else <br>
printf(&quot; %-8ld&quot;, (long) statbuf.st_gid);</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>printf(&quot;%9jd&quot;,
(intmax_t) statbuf.st_size); <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Printing a
Localized Date String</b> <br>
The following example gets a localized date string. The
<i>nl_langinfo</i>() function shall return the localized
date string, which specifies the order and layout of the
date. The <i>strftime</i>() function takes this information
and, using the <b>tm</b> structure for values, places the
date and time information into <i>datestring</i>. The
<i>printf</i>() function then outputs <i>datestring</i> and
the name of the entry.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br>
#include &lt;time.h&gt; <br>
#include &lt;langinfo.h&gt; <br>
... <br>
struct dirent *dp; <br>
struct tm *tm; <br>
char datestring[256]; <br>
... <br>
strftime(datestring, sizeof(datestring), nl_langinfo
(D_T_FMT), tm);</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>printf(&quot;
%s %s\n&quot;, datestring, dp-&gt;d_name); <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Printing
Error Information</b> <br>
The following example uses <i>fprintf</i>() to write error
information to standard error.</p>

<p style="margin-left:11%; margin-top: 1em">In the first
group of calls, the program tries to open the password lock
file named <b>LOCKFILE</b>. If the file already exists, this
is an error, as indicated by the O_EXCL flag on the
<i>open</i>() function. If the call fails, the program
assumes that someone else is updating the password file, and
the program exits.</p>

<p style="margin-left:11%; margin-top: 1em">The next group
of calls saves a new password file as the current password
file by creating a link between <b>LOCKFILE</b> and the new
password file <b>PASSWDFILE</b>.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;sys/types.h&gt; <br>
#include &lt;sys/stat.h&gt; <br>
#include &lt;fcntl.h&gt; <br>
#include &lt;stdio.h&gt; <br>
#include &lt;stdlib.h&gt; <br>
#include &lt;unistd.h&gt; <br>
#include &lt;string.h&gt; <br>
#include &lt;errno.h&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>#define
LOCKFILE &quot;/etc/ptmp&quot; <br>
#define PASSWDFILE &quot;/etc/passwd&quot; <br>
... <br>
int pfd; <br>
... <br>
if ((pfd = open(LOCKFILE, O_WRONLY | O_CREAT | O_EXCL, <br>
S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH)) == -1) <br>
{ <br>
fprintf(stderr, &quot;Cannot open /etc/ptmp. Try again
later.\n&quot;); <br>
exit(1); <br>
} <br>
... <br>
if (link(LOCKFILE,PASSWDFILE) == -1) { <br>
fprintf(stderr, &quot;Link error: %s\n&quot;,
strerror(errno)); <br>
exit(1); <br>
} <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Printing
Usage Information</b> <br>
The following example checks to make sure the program has
the necessary arguments, and uses <i>fprintf</i>() to print
usage information if the expected number of arguments is not
present.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br>
#include &lt;stdlib.h&gt; <br>
... <br>
char *Options = &quot;hdbtl&quot;; <br>
... <br>
if (argc &lt; 2) { <br>
fprintf(stderr, &quot;Usage: %s -%s &lt;file\n&quot;,
argv[0], Options); exit(1); <br>
} <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Formatting a
Decimal String</b> <br>
The following example prints a key and data pair on
<i>stdout</i>. Note use of the <b>&rsquo;*&rsquo;</b>
(asterisk) in the format string; this ensures the correct
number of decimal places for the element based on the number
of elements requested.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br>
... <br>
long i; <br>
char *keystr; <br>
int elementlen, len; <br>
... <br>
while (len &lt; elementlen) { <br>
... <br>
printf(&quot;%s Element%0*ld\n&quot;, keystr, elementlen,
i); <br>
... <br>
}</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Creating a
Filename</b> <br>
The following example creates a filename using information
from a previous <i>getpwnam</i>() function that returned the
HOME directory of the user.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br>
#include &lt;sys/types.h&gt; <br>
#include &lt;unistd.h&gt; <br>
... <br>
char filename[PATH_MAX+1]; <br>
struct passwd *pw; <br>
... <br>
sprintf(filename, &quot;%s/%d.out&quot;, pw-&gt;pw_dir,
getpid()); <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Reporting an
Event</b> <br>
The following example loops until an event has timed out.
The <i>pause</i>() function waits forever unless it receives
a signal. The <i>fprintf</i>() statement should never occur
due to the possible return values of <i>pause</i>().</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;stdio.h&gt; <br>
#include &lt;unistd.h&gt; <br>
#include &lt;string.h&gt; <br>
#include &lt;errno.h&gt; <br>
... <br>
while (!event_complete) { <br>
... <br>
if (pause() != -1 || errno != EINTR) <br>
fprintf(stderr, &quot;pause: unknown error: %s\n&quot;,
strerror(errno)); <br>
} <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Printing
Monetary Information</b> <br>
The following example uses <i>strfmon</i>() to convert a
number and store it as a formatted monetary string named
<i>convbuf</i>. If the first number is printed, the program
prints the format and the description; otherwise, it just
prints the number.</p>

<p style="margin-left:22%; margin-top: 1em"><b>#include
&lt;monetary.h&gt; <br>
#include &lt;stdio.h&gt; <br>
... <br>
struct tblfmt { <br>
char *format; <br>
char *description; <br>
};</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>struct
tblfmt table[] = { <br>
{ &quot;%n&quot;, &quot;default formatting&quot; }, <br>
{ &quot;%11n&quot;, &quot;right align within an 11 character
field&quot; }, <br>
{ &quot;%#5n&quot;, &quot;aligned columns for values up to
99999&quot; }, <br>
{ &quot;%=*#5n&quot;, &quot;specify a fill character&quot;
}, <br>
{ &quot;%=0#5n&quot;, &quot;fill characters do not use
grouping&quot; }, <br>
{ &quot;%^#5n&quot;, &quot;disable the grouping
separator&quot; }, <br>
{ &quot;%^#5.0n&quot;, &quot;round off to whole units&quot;
}, <br>
{ &quot;%^#5.4n&quot;, &quot;increase the precision&quot; },
<br>
{ &quot;%(#5n&quot;, &quot;use an alternative pos/neg
style&quot; }, <br>
{ &quot;%!(#5n&quot;, &quot;disable the currency
symbol&quot; }, <br>
}; <br>
... <br>
float input[3]; <br>
int i, j; <br>
char convbuf[100]; <br>
... <br>
strfmon(convbuf, sizeof(convbuf), table[i].format,
input[j]);</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>if (j == 0)
{ <br>
printf(&quot;%s %s %s\n&quot;, table[i].format, <br>
convbuf, table[i].description); <br>
} <br>
else { <br>
printf(&quot; %s\n&quot;, convbuf); <br>
} <br>
...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Printing
Wide Characters</b> <br>
The following example prints a series of wide characters.
Suppose that <b>&quot;L&lsquo;@&lsquo;&quot;</b> expands to
three bytes:</p>

<p style="margin-left:22%; margin-top: 1em"><b>wchar_t wz
[3] = L&quot;@@&quot;; // Zero-terminated <br>
wchar_t wn [3] = L&quot;@@@&quot;; // Unterminated</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>fprintf
(stdout,&quot;%ls&quot;, wz); // Outputs 6 bytes <br>
fprintf (stdout,&quot;%ls&quot;, wn); // Undefined because
wn has no terminator <br>
fprintf (stdout,&quot;%4ls&quot;, wz); // Outputs 3 bytes
<br>
fprintf (stdout,&quot;%4ls&quot;, wn); // Outputs 3 bytes;
no terminator needed <br>
fprintf (stdout,&quot;%9ls&quot;, wz); // Outputs 6 bytes
<br>
fprintf (stdout,&quot;%9ls&quot;, wn); // Outputs 9 bytes;
no terminator needed <br>
fprintf (stdout,&quot;%10ls&quot;, wz); // Outputs 6 bytes
<br>
fprintf (stdout,&quot;%10ls&quot;, wn); // Undefined because
wn has no terminator</b></p>

<p style="margin-left:11%; margin-top: 1em">In the last
line of the example, after processing three characters, nine
bytes have been output. The fourth character must then be
examined to determine whether it converts to one byte or
more. If it converts to more than one byte, the output is
only nine bytes. Since there is no fourth character in the
array, the behavior is undefined.</p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the
application calling <i>fprintf</i>() has any objects of type
<b>wint_t</b> or <b>wchar_t</b>, it must also include the
<i>&lt;wchar.h&gt;</i> header to have these objects
defined.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>fputc</i>(),
<i>fscanf</i>(), <i>setlocale</i>(), <i>strfmon</i>(),
<i>wcrtomb</i>(), the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Chapter 7, Locale,
<i>&lt;stdio.h&gt;</i>, <i>&lt;wchar.h&gt;</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
