<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:03:46 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Tcl_GetTime</title>

</head>
<body>

<h1 align="center">Tcl_GetTime</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tcl_GetTime,
Tcl_SetTimeProc, Tcl_QueryTimeProc &minus; get date and
time</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tcl.h&gt;</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_GetTime</b>(<i>timePtr</i>)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_SetTimeProc</b>(<i>getProc,
scaleProc, clientData</i>)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_QueryTimeProc</b>(<i>getProcPtr,
scaleProcPtr, clientDataPtr</i>)</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p style="margin-top: 1em">Tcl_Time * <i>timePtr</i>
(out)</p> </td>
<td width="14%"></td>
<td width="38%">


<p style="margin-top: 1em">Points to memory in which to
store the date and time information.</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="46%">


<p style="margin-top: 1em">Tcl_GetTimeProc * <i>getProc</i>
(in)</p> </td>
<td width="15%"></td>
<td width="28%">


<p style="margin-top: 1em">Pointer to handler function
replacing <b>Tcl_GetTime</b>&rsquo;s access to the OS.</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p style="margin-top: 1em">Tcl_ScaleTimeProc *
<i>scaleProc</i> (in)</p></td>
<td width="15%"></td>
<td width="22%">


<p style="margin-top: 1em">Pointer to handler function for
the conversion of time delays in the virtual domain to
real-time.</p> </td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="43%">


<p style="margin-top: 1em">ClientData * <i>clientData</i>
(in)</p> </td>
<td width="15%"></td>
<td width="31%">


<p style="margin-top: 1em">Value passed through to the two
handler functions.</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="57%">


<p style="margin-top: 1em">Tcl_GetTimeProc **
<i>getProcPtr</i> (inout)</p></td>
<td width="10%"></td>
<td width="22%">


<p style="margin-top: 1em">Pointer to place the currently
registered get handler function into.</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="63%">


<p style="margin-top: 1em">Tcl_ScaleTimeProc **
<i>scaleProcPtr</i> (inout)</p></td>
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em">Pointer to place the currently
registered scale handler function into.</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="54%">


<p style="margin-top: 1em">ClientData **
<i>clientDataPtr</i> (inout)</p></td>
<td width="10%"></td>
<td width="25%">


<p style="margin-top: 1em">Pointer to place the currently
registered pass-through value into.</p></td></tr>
</table>


<p style="margin-left:75%;">_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>Tcl_GetTime</b> function retrieves the current time as a
<i>Tcl_Time</i> structure in memory the caller provides.
This structure has the following definition:</p>

<p style="margin-left:22%;">typedef struct Tcl_Time { <br>
long sec; <br>
long usec; <br>
} Tcl_Time;</p>

<p style="margin-left:11%; margin-top: 1em">On return, the
<i>sec</i> member of the structure is filled in with the
number of seconds that have elapsed since the <i>epoch:</i>
the epoch is the point in time of 00:00 UTC, 1 January 1970.
This number does <i>not</i> count leap seconds &minus; an
interval of one day advances it by 86400 seconds regardless
of whether a leap second has been inserted.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>usec</i>
member of the structure is filled in with the number of
microseconds that have elapsed since the start of the second
designated by <i>sec</i>. The Tcl library makes every effort
to keep this number as precise as possible, subject to the
limitations of the computer system. On multiprocessor
variants of Windows, this number may be limited to the 10-
or 20-ms granularity of the system clock. (On
single-processor Windows systems, the <i>usec</i> field is
derived from a performance counter and is highly
precise.)</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>Tcl_SetTime</b> function registers two related handler
functions with the core. The first handler function is a
replacement for <b>Tcl_GetTime</b>, or rather the OS access
made by <b>Tcl_GetTime</b>. The other handler function is
used by the Tcl notifier to convert wait/block times from
the virtual domain into real time.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>Tcl_QueryTime</b> function returns the currently
registered handler functions. If no external handlers were
set then this will return the standard handlers accessing
and processing the native time of the OS. The arguments to
the function are allowed to be NULL; and any argument which
is NULL is ignored and not set.</p>

<p style="margin-left:11%; margin-top: 1em">Any handler
pair specified has to return data which is consistent
between them. In other words, setting one handler of the
pair to something assuming a 10-times slowdown, and the
other handler of the pair to something assuming a two-times
slowdown is wrong and not allowed.</p>

<p style="margin-left:11%; margin-top: 1em">The set handler
functions are allowed to run the delivered time backwards,
however this should be avoided. We have to allow it as the
native time can run backwards as the user can fiddle with
the system time one way or other. Note that the insertion of
the hooks will not change the behaviour of the Tcl core with
regard to this situation, i.e. the existing behaviour is
retained.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">clock</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">date, time</p>
<hr>
</body>
</html>
