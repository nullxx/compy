<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:01:15 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ASN1PARSE</title>

</head>
<body>

<h1 align="center">ASN1PARSE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">asn1parse
&minus; ASN.1 parsing tool</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>openssl
asn1parse</b> [<b>&minus;inform PEM|DER</b>] [<b>&minus;in
filename</b>] [<b>&minus;out filename</b>]
[<b>&minus;noout</b>] [<b>&minus;offset number</b>]
[<b>&minus;length number</b>] [<b>&minus;i</b>]
[<b>&minus;oid filename</b>] [<b>&minus;strparse offset</b>]
[<b>&minus;genstr string</b>] [<b>&minus;genconf
file</b>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>asn1parse</b> command is a diagnostic utility that can
parse <small>ASN.1</small> structures. It can also be used
to extract data from <small>ASN.1</small> formatted
data.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;inform
DER|PEM</b></p>

<p style="margin-left:17%;">the input format.
<b><small>DER</small></b> is binary format and
<b><small>PEM</small></b> (the default) is base64
encoded.</p>

<p style="margin-left:11%;"><b>&minus;in filename</b></p>

<p style="margin-left:17%;">the input file, default is
standard input</p>

<p style="margin-left:11%;"><b>&minus;out filename</b></p>

<p style="margin-left:17%;">output file to place the
<small>DER</small> encoded data into. If this option is not
present then no data will be output. This is most useful
when combined with the <b>&minus;strparse</b> option.</p>

<p style="margin-left:11%;"><b>&minus;noout</b></p>

<p style="margin-left:17%;">don&rsquo;t output the parsed
version of the input file.</p>

<p style="margin-left:11%;"><b>&minus;offset number</b></p>

<p style="margin-left:17%;">starting offset to begin
parsing, default is start of file.</p>

<p style="margin-left:11%;"><b>&minus;length number</b></p>

<p style="margin-left:17%;">number of bytes to parse,
default is until end of file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;i</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>indents the output according to the &quot;depth&quot; of
the structures.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;oid filename</b></p>

<p style="margin-left:17%;">a file containing additional
<small>OBJECT</small> IDENTIFIERs (OIDs). The format of this
file is described in the <small>NOTES</small> section
below.</p>

<p style="margin-left:11%;"><b>&minus;strparse
offset</b></p>

<p style="margin-left:17%;">parse the contents octets of
the <small>ASN.1</small> object starting at <b>offset</b>.
This option can be used multiple times to &quot;drill
down&quot; into a nested structure.</p>

<p style="margin-left:11%;"><b>&minus;genstr string</b>,
<b>&minus;genconf file</b></p>

<p style="margin-left:17%;">generate encoded data based on
<b>string</b>, <b>file</b> or both using
<i>ASN1_generate_nconf</i>(3) format. If <b>file</b> only is
present then the string is obtained from the default section
using the name <b>asn1</b>. The encoded data is passed
through the <small>ASN1</small> parser and printed out as
though it came from a file, the contents can thus be
examined and written to a file using the <b>out</b>
option.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>OUTPUT</small></b>
<br>
The output will typically contain lines like this:</p>

<pre style="margin-left:11%; margin-top: 1em">  0:d=0  hl=4 l= 681 cons: SEQUENCE</pre>


<p style="margin-left:11%; margin-top: 1em">.....</p>

<pre style="margin-left:11%; margin-top: 1em">  229:d=3  hl=3 l= 141 prim: BIT STRING
  373:d=2  hl=3 l= 162 cons: cont [ 3 ]
  376:d=3  hl=3 l= 159 cons: SEQUENCE
  379:d=4  hl=2 l=  29 cons: SEQUENCE
  381:d=5  hl=2 l=   3 prim: OBJECT            :X509v3 Subject Key Identifier
  386:d=5  hl=2 l=  22 prim: OCTET STRING
  410:d=4  hl=2 l= 112 cons: SEQUENCE
  412:d=5  hl=2 l=   3 prim: OBJECT            :X509v3 Authority Key Identifier
  417:d=5  hl=2 l= 105 prim: OCTET STRING
  524:d=4  hl=2 l=  12 cons: SEQUENCE</pre>


<p style="margin-left:11%; margin-top: 1em">.....</p>

<p style="margin-left:11%; margin-top: 1em">This example is
part of a self signed certificate. Each line starts with the
offset in decimal. <b>d=XX</b> specifies the current depth.
The depth is increased within the scope of any
<small>SET</small> or <small>SEQUENCE.</small> <b>hl=XX</b>
gives the header length (tag and length octets) of the
current type. <b>l=XX</b> gives the length of the contents
octets.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;i</b> option can be used to make the output more
readable.</p>

<p style="margin-left:11%; margin-top: 1em">Some knowledge
of the <small>ASN.1</small> structure is needed to interpret
the output.</p>

<p style="margin-left:11%; margin-top: 1em">In this example
the <small>BIT STRING</small> at offset 229 is the
certificate public key. The contents octets of this will
contain the public key information. This can be examined
using the option <b>&minus;strparse 229</b> to yield:</p>

<pre style="margin-left:11%; margin-top: 1em">    0:d=0  hl=3 l= 137 cons: SEQUENCE
    3:d=1  hl=3 l= 129 prim: INTEGER           :E5D21E1F5C8D208EA7A2166C7FAF9F6BDF2059669C60876DDB70840F1A5AAFA59699FE471F379F1DD6A487E7D5409AB6A88D4A9746E24B91D8CF55DB3521015460C8EDE44EE8A4189F7A7BE77D6CD3A9AF2696F486855CF58BF0EDF2B4068058C7A947F52548DDF7E15E96B385F86422BEA9064A3EE9E1158A56E4A6F47E5897
  135:d=1  hl=2 l=   3 prim: INTEGER           :010001</pre>


<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If an
<small>OID</small> is not part of OpenSSL&rsquo;s internal
table it will be represented in numerical form (for example
1.2.3.4). The file passed to the <b>&minus;oid</b> option
allows additional OIDs to be included. Each line consists of
three columns, the first column is the <small>OID</small> in
numerical format and should be followed by white space. The
second column is the &quot;short name&quot; which is a
single word followed by white space. The final column is the
rest of the line and is the &quot;long name&quot;.
<b>asn1parse</b> displays the long name. Example:</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;1.2.3.4
shortName A long name&quot;</tt></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Parse a
file:</p>

<pre style="margin-left:11%; margin-top: 1em"> openssl asn1parse &minus;in file.pem</pre>


<p style="margin-left:11%; margin-top: 1em">Parse a
<small>DER</small> file:</p>

<pre style="margin-left:11%; margin-top: 1em"> openssl asn1parse &minus;inform DER &minus;in file.der</pre>


<p style="margin-left:11%; margin-top: 1em">Generate a
simple UTF8String:</p>

<pre style="margin-left:11%; margin-top: 1em"> openssl asn1parse &minus;genstr 'UTF8:Hello World'</pre>


<p style="margin-left:11%; margin-top: 1em">Generate and
write out a UTF8String, don&rsquo;t print parsed output:</p>

<pre style="margin-left:11%; margin-top: 1em"> openssl asn1parse &minus;genstr 'UTF8:Hello World' &minus;noout &minus;out utf8.der</pre>


<p style="margin-left:11%; margin-top: 1em">Generate using
a config file:</p>

<pre style="margin-left:11%; margin-top: 1em"> openssl asn1parse &minus;genconf asn1.cnf &minus;noout &minus;out asn1.der</pre>


<p style="margin-left:11%; margin-top: 1em">Example config
file:</p>

<pre style="margin-left:11%; margin-top: 1em"> asn1=SEQUENCE:seq_sect
 [seq_sect]
 field1=BOOL:TRUE
 field2=EXP:0, UTF8:some random string</pre>


<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There should be
options to change the format of output lines. The output of
some <small>ASN.1</small> types is not well handled (if at
all).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>ASN1_generate_nconf</i>(3)</p>
<hr>
</body>
</html>
