<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:06 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SIGNVER</title>

</head>
<body>

<h1 align="center">SIGNVER</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#STATUS">STATUS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXTENDED EXAMPLES">EXTENDED EXAMPLES</a><br>
<a href="#NSS DATABASE TYPES">NSS DATABASE TYPES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#ADDITIONAL RESOURCES">ADDITIONAL RESOURCES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">signver &minus;
Verify a detached PKCS#7 signature for a file.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>signtool</b> &minus;A |
&minus;V &minus;d&nbsp;<i>directory</i> [&minus;a]
[&minus;i&nbsp;<i>input_file</i>]
[&minus;o&nbsp;<i>output_file</i>]
[&minus;s&nbsp;<i>signature_file</i>] [&minus;v]</p></td></tr>
</table>

<h2>STATUS
<a name="STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This
documentation is still work in progress. Please contribute
to the initial review in <b><font color="#0000FF">Mozilla
NSS bug 836477</font></b>
<small><font color="#000000">[1]</font></small></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
Signature Verification Tool, <b>signver</b>, is a simple
command&minus;line utility that unpacks a
base&minus;64&minus;encoded PKCS#7 signed object and
verifies the digital signature using standard cryptographic
techniques. The Signature Verification Tool can also display
the contents of the signed object.</font></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;A</font></p>

<p style="margin-left:17%;"><font color="#000000">Displays
all of the information in the PKCS#7 signature.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;V</font></p>

<p style="margin-left:17%;"><font color="#000000">Verifies
the digital signature.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;d
[sql:]<i>directory</i></font></p>

<p style="margin-left:17%;"><font color="#000000">Specify
the database directory which contains the certificates and
keys.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000"><b>signver</b>
supports two types of databases: the legacy security
databases (cert8.db, key3.db, and secmod.db) and new SQLite
databases (cert9.db, key4.db, and pkcs11.txt). If the prefix
<b>sql:</b> is not used, then the tool assumes that the
given databases are in the old format.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;a</font></p>

<p style="margin-left:17%;"><font color="#000000">Sets that
the given signature file is in ASCII format.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;i
<i>input_file</i></font></p>

<p style="margin-left:17%;"><font color="#000000">Gives the
input file for the object with signed data.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;o
<i>output_file</i></font></p>

<p style="margin-left:17%;"><font color="#000000">Gives the
output file to which to write the results.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;s
<i>signature_file</i></font></p>

<p style="margin-left:17%;"><font color="#000000">Gives the
input file for the digital signature.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;v</font></p>

<p style="margin-left:17%;"><font color="#000000">Enables
verbose output.</font></p>

<h2>EXTENDED EXAMPLES
<a name="EXTENDED EXAMPLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Verifying
a Signature</b> <br>
The <b>&minus;V</b> option verifies that the signature in a
given signature file is valid when used to sign the given
object (from the input file).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signver
&minus;V &minus;s <i>signature_file</i> &minus;i
<i>signed_file</i> &minus;d
sql:/home/my/sharednssdb</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signatureValid=yes</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Printing
Signature Data</b> <br>
The <b>&minus;A</b> option prints all of the information
contained in a signature file. Using the <b>&minus;o</b>
option prints the signature file information to the given
output file rather than stdout.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signver
&minus;A &minus;s <i>signature_file</i> &minus;o
<i>output_file</i></font></p>

<h2>NSS DATABASE TYPES
<a name="NSS DATABASE TYPES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">NSS
originally used BerkeleyDB databases to store security
information. The last versions of these <i>legacy</i>
databases are:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
cert8.db for certificates</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
key3.db for keys</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
secmod.db for PKCS #11 module information</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">BerkeleyDB
has performance limitations, though, which prevent it from
being easily used by multiple applications simultaneously.
NSS has some flexibility that allows applications to use
their own, independent database engine while keeping a
shared database and working around the access issues. Still,
NSS requires more flexibility to provide a truly shared
security database.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">In
2009, NSS introduced a new set of databases that are SQLite
databases rather than BerkleyDB. These new databases provide
more accessibility and performance:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
cert9.db for certificates</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
key4.db for keys</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
pkcs11.txt, which is listing of all of the PKCS #11 modules
contained in a new subdirectory in the security databases
directory</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Because
the SQLite databases are designed to be shared, these are
the <i>shared</i> database type. The shared database type is
preferred; the legacy format is included for backward
compatibility.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">By
default, the tools (<b>certutil</b>, <b>pk12util</b>,
<b>modutil</b>) assume that the given security databases
follow the more common legacy type. Using the SQLite
databases must be manually specified by using the
<b>sql:</b> prefix with the given security directory. For
example:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">#
signver &minus;A &minus;s <i>signature</i> &minus;d
sql:/home/my/sharednssdb</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
set the shared database type as the default type for the
tools, set the <b>NSS_DEFAULT_DB_TYPE</b> environment
variable to <b>sql</b>:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">export
NSS_DEFAULT_DB_TYPE=&quot;sql&quot;</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
line can be added to the ~/.bashrc file to make the change
permanent for the user.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Most
applications do not use the shared database by default, but
they can be configured to use them. For example, this
how&minus;to article covers how to configure Firefox and
Thunderbird to use the new shared NSS databases:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
https://wiki.mozilla.org/NSS_Shared_DB_Howto</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
an engineering draft on the changes in the shared NSS
databases, see the NSS project wiki:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
https://wiki.mozilla.org/NSS_Shared_DB</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">signtool
(1)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
NSS wiki has information on the new database design and how
to configure applications to use it.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Setting up the shared NSS database</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">https://wiki.mozilla.org/NSS_Shared_DB_Howto</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
Engineering and technical information about the shared NSS
database</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">https://wiki.mozilla.org/NSS_Shared_DB</font></p>

<h2>ADDITIONAL RESOURCES
<a name="ADDITIONAL RESOURCES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
information about NSS and other tools related to NSS (like
JSS), check out the NSS project wiki at</font>
<b><font color="#0000FF">http://www.mozilla.org/projects/security/pki/nss/</font></b><font color="#000000">.
The NSS site relates directly to NSS code changes and
releases.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Mailing
lists:
https://lists.mozilla.org/listinfo/dev&minus;tech&minus;crypto</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">IRC:
Freenode at #dogtag&minus;pki</font></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
NSS tools were written and maintained by developers with
Netscape, Red Hat, Sun, Oracle, Mozilla, and
Google.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Authors:
Elio Maldonado &lt;emaldona@redhat.com&gt;, Deon Lackey
&lt;dlackey@redhat.com&gt;.</font></p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Licensed
under the Mozilla Public License, v. 2.0. If a copy of the
MPL was not distributed with this file, You can obtain one
at http://mozilla.org/MPL/2.0/.</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="34%">


<p style="margin-top: 1em"><font color="#000000">Mozilla
NSS bug 836477</font></p></td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://bugzilla.mozilla.org/show_bug.cgi?id=836477</font></p>
<hr>
</body>
</html>
