<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:06:44 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XkbSetIgnoreLockMods</title>

</head>
<body>

<h1 align="center">XkbSetIgnoreLockMods</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#STRUCTURES">STRUCTURES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">XkbSetIgnoreLockMods
&minus; Sets the modifiers that, if locked, are not to be
reported in matching events to passive grabs</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p style="margin-top: 1em"><b>Bool
XkbSetIgnoreLockMods</b></p> </td>
<td width="2%"></td>
<td width="49%">


<p style="margin-top: 1em"><b>(Display
*</b><i>display</i><b>, unsigned int</b>
<i>device_spec</i><b>,</b></p> </td></tr>
</table>

<p style="margin-left:11%;"><b>unsigned int</b>
<i>affect_real</i><b>, unsigned int</b>
<i>real_values</i><b>, unsigned int</b>
<i>affect_virtual</i><b>, unsigned int</b>
<i>virtual_values</i><b>);</b></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b><i>&minus;
display</i></b></p>

<p style="margin-left:22%;">connection to the X server</p>

<p style="margin-left:11%;"><i>&minus; device_spec</i></p>

<p style="margin-left:22%;">device ID, or XkbUseCoreKbd</p>

<p style="margin-left:11%;"><i>&minus; affect_real</i></p>

<p style="margin-left:22%;">mask of real modifiers affected
by this call</p>

<p style="margin-left:11%;"><i>&minus; real_values</i></p>

<p style="margin-left:22%;">values for affected real
modifiers (1=&gt;set, 0=&gt;unset)</p>

<p style="margin-left:11%;"><i>&minus;
affect_virtual</i></p>

<p style="margin-left:22%;">mask of virtual modifiers
affected by this call</p>

<p style="margin-left:11%;"><i>&minus;
virtual_values</i></p>

<p style="margin-left:22%;">values for affected virtual
modifiers (1=&gt;set, 0=&gt;unset)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The core
protocol does not provide a way to exclude specific
modifiers from grab calculations, with the result that
locking modifiers sometimes have unanticipated side
effects.</p>

<p style="margin-left:11%; margin-top: 1em">The
IgnoreLockMods control specifies modifiers that should be
excluded from grab calculations. These modifiers are also
not reported in any core events except KeyPress and
KeyRelease events that do not activate a passive grab and
that do not occur while a grab is active.</p>

<p style="margin-left:11%; margin-top: 1em">Manipulate the
IgnoreLockMods control via the <i>ignore_lock</i> field in
the XkbControlsRec structure, then use <i>XkbSetControls</i>
and <i>XkbGetControls</i> to query and change this control.
Alternatively, use <i>XkbSetIgnoreLockMods.</i></p>


<p style="margin-left:11%; margin-top: 1em"><i>XkbSetIgnoreLockMods</i>
sends a request to the server to change the server&rsquo;s
IgnoreLockMods control. <i>affect_real</i> and
<i>real_values</i> are masks of real modifier bits
indicating which real modifiers are to be added and removed
from the server&rsquo;s IgnoreLockMods control. Modifiers
selected by both <i>affect_real</i> and <i>real_values</i>
are added to the server&rsquo;s IgnoreLockMods control;
those selected by <i>affect_real</i> but not by
<i>real_values</i> are removed from the server&rsquo;s
IgnoreLockMods control. Valid values for <i>affect_real</i>
and <i>real_values</i> consist of any combination of the
eight core modifier bits: ShiftMask, LockMask, ControlMask,
Mod1Mask - Mod5Mask. <i>affect_virtual</i> and
<i>virtual_values</i> are masks of virtual modifier bits
indicating which virtual modifiers are to be added and
removed from the server&rsquo;s IgnoreLockMods control.
Modifiers selected by both <i>affect_virtual</i> and
<i>virtual_values</i> are added to the server&rsquo;s
IgnoreLockMods control; those selected by
<i>affect_virtual</i> but not by <i>virtual_values</i> are
removed from the server&rsquo;s IgnoreLockMods control. See
below for a discussion of virtual modifier masks to use in
<i>affect_virtual</i> and <i>virtual_values.
XkbSetIgnoreLockMods</i> does not wait for a reply from the
server. It returns True if the request was sent, and False
otherwise.</p>

<p style="margin-left:11%; margin-top: 1em">Virtual
modifiers are named by converting their string name to an X
Atom and storing the Atom in the <i>names.vmods</i> array in
an XkbDescRec structure. The position of a name Atom in the
<i>names.vmods</i> array defines the bit position used to
represent the virtual modifier and also the index used when
accessing virtual modifier information in arrays: the name
in the i-th (0 relative) entry of <i>names.vmods</i> is the
i-th virtual modifier, represented by the mask (1&lt;&lt;i).
Throughout Xkb, various functions have a parameter that is a
mask representing virtual modifier choices. In each case,
the i-th bit (0 relative) of the mask represents the i-th
virtual modifier.</p>

<p style="margin-left:11%; margin-top: 1em">To set the name
of a virtual modifier, use <i>XkbSetNames,</i> using
XkbVirtualModNamesMask in <i>which</i> and the name in the
<i>xkb</i> argument; to retrieve indicator names, use
<i>XkbGetNames.</i></p>

<h2>STRUCTURES
<a name="STRUCTURES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The complete
description of an Xkb keyboard is given by an XkbDescRec.
The component structures in the XkbDescRec represent the
major Xkb components.</p>

<p style="margin-left:11%; margin-top: 1em">typedef struct
{ <br>
struct _XDisplay * display; /&lowast; connection to X server
*/ <br>
unsigned short flags; /&lowast; private to Xkb, do not
modify */ <br>
unsigned short device_spec; /&lowast; device of interest */
<br>
KeyCode min_key_code; /&lowast; minimum keycode for device
*/ <br>
KeyCode max_key_code; /&lowast; maximum keycode for device
*/ <br>
XkbControlsPtr ctrls; /&lowast; controls */ <br>
XkbServerMapPtr server; /&lowast; server keymap */ <br>
XkbClientMapPtr map; /&lowast; client keymap */ <br>
XkbIndicatorPtr indicators; /&lowast; indicator map */ <br>
XkbNamesPtr names; /&lowast; names for all components */
<br>
XkbCompatMapPtr compat; /&lowast; compatibility map */ <br>
XkbGeometryPtr geom; /&lowast; physical geometry of keyboard
*/ <br>
} XkbDescRec, *XkbDescPtr;</p>

<p style="margin-left:11%; margin-top: 1em">The display
field points to an X display structure. The flags field is
private to the library: modifying flags may yield
unpredictable results. The device_spec field specifies the
device identifier of the keyboard input device, or
XkbUseCoreKeyboard, which specifies the core keyboard
device. The min_key_code and max_key_code fields specify the
least and greatest keycode that can be returned by the
keyboard.</p>

<p style="margin-left:11%; margin-top: 1em">Each structure
component has a corresponding mask bit that is used in
function calls to indicate that the structure should be
manipulated in some manner, such as allocating it or freeing
it. These masks and their relationships to the fields in the
XkbDescRec are shown in Table 1.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>XkbGetControls</b>(3),
<b>XkbGetNames</b>(3), <b>XkbSetControls</b>(3),
<b>XkbSetNames</b>(3)</p>
<hr>
</body>
</html>
