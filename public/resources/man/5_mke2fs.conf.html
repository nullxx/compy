<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:23:09 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mke2fs.conf</title>

</head>
<body>

<h1 align="center">mke2fs.conf</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#THE [defaults] STANZA">THE [defaults] STANZA</a><br>
<a href="#THE [fs_types] STANZA">THE [fs_types] STANZA</a><br>
<a href="#THE [devices] STANZA">THE [devices] STANZA</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mke2fs.conf
&minus; Configuration file for mke2fs</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>mke2fs.conf</i>
is the configuration file for <b>mke2fs</b>(8). It controls
the default parameters used by <b>mke2fs</b>(8) when it is
creating ext2, ext3, or ext4 filesystems.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>mke2fs.conf</i> file uses an INI-style format. Stanzas,
or top-level sections, are delimited by square braces: [ ].
Within each section, each line defines a relation, which
assigns tags to values, or to a subsection, which contains
further relations or subsections. An example of the
INI-style format used by this configuration file follows
below:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>[section1]</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>tag1 = value_a</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>tag1 = value_b</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>tag2 = value_c</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>[section 2]</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>tag3 = {</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">


<p>subtag1 = subtag_value_a</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">


<p>subtag1 = subtag_value_b</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">


<p>subtag2 = subtag_value_c</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>}</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>tag1 = value_d</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p>tag2 = value_e</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Comments are
delimited by a semicolon (&rsquo;;&rsquo;) or a hash
(&rsquo;#&rsquo;) character at the beginning of the comment,
and are terminated by the end of line character.</p>

<p style="margin-left:11%; margin-top: 1em">Tags and values
must be quoted using double quotes if they contain spaces.
Within a quoted string, the standard backslash
interpretations apply: &quot;\n&quot; (for the newline
character), &quot;\t&quot; (for the tab character),
&quot;\b&quot; (for the backspace character), and
&quot;\\&quot; (for the backslash character).</p>

<p style="margin-left:11%; margin-top: 1em">Some relations
expect a boolean value. The parser is quite liberal on
recognizing &lsquo;&lsquo;yes&rsquo;&rsquo;,
&rsquo;&lsquo;y&rsquo;&rsquo;,
&lsquo;&lsquo;true&rsquo;&rsquo;,
&lsquo;&lsquo;t&rsquo;&rsquo;,
&lsquo;&lsquo;1&rsquo;&rsquo;,
&lsquo;&lsquo;on&rsquo;&rsquo;, etc. as a boolean true
value, and &lsquo;&lsquo;no&rsquo;&rsquo;,
&lsquo;&lsquo;n&rsquo;&rsquo;,
&lsquo;&lsquo;false&rsquo;&rsquo;,
&lsquo;&lsquo;nil&rsquo;&rsquo;,
&lsquo;&lsquo;0&rsquo;&rsquo;,
&lsquo;&lsquo;off&rsquo;&rsquo; as a boolean false
value.</p>

<p style="margin-left:11%; margin-top: 1em">The following
stanzas are used in the <i>mke2fs.conf</i> file. They will
be described in more detail in future sections of this
document. <i><br>
[defaults]</i></p>

<p style="margin-left:22%;">Contains relations which define
the default parameters used by <b>mke2fs</b>(8). In general,
these defaults may be overridden by a definition in the
<b>fs_types</b> stanza, or by an command-line option
provided by the user.</p>

<p style="margin-left:11%;"><i>[fs_types]</i></p>

<p style="margin-left:22%;">Contains relations which define
defaults that should be used for specific filesystem types.
The filesystem type can be specified explicitly using the
<b>-T</b> option to <b>mke2fs</b>(8).</p>

<h2>THE [defaults] STANZA
<a name="THE [defaults] STANZA"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
relations are defined in the <i>[defaults]</i> stanza.
<i><br>
base_features</i></p>

<p style="margin-left:22%;">This relation specifies the
filesystems features which are enabled in newly created
filesystems. It may be overridden by the
<i>base_features</i> relation found in the filesystem or
usage type subsection of the <i>[fs_types]</i> stanza.</p>

<p style="margin-left:11%;"><i>default_features</i></p>

<p style="margin-left:22%;">This relation specifies a set
of features that should be added or removed to the features
listed in the <i>base_features</i> relation. It may be
overridden by the filesystem-specific
<i>default_features</i> in the filesystem or usage type
subsection of <i>[fs_types]</i>, and by the <b>-O</b>
command-line option to <b>mke2fs</b>(8).</p>


<p style="margin-left:11%;"><i>enable_periodic_fsck</i></p>

<p style="margin-left:22%;">This boolean relation specifies
whether periodic filesystem checks should be enforced at
boot time. If set to true, checks will be forced every 180
days, or after a random number of mounts. These values may
be changed later via the <b>-i</b> and <b>-c</b>
command-line options to <b>tune2fs</b>(8).</p>

<p style="margin-left:11%;"><i>force_undo</i></p>

<p style="margin-left:22%;">This boolean relation, if set
to a value of true, forces <b>mke2fs</b> to always try to
create an undo file, even if the undo file might be huge and
it might extend the time to create the filesystem image
because the inode table isn&rsquo;t being initialized
lazily.</p>

<p style="margin-left:11%;"><i>fs_type</i></p>

<p style="margin-left:22%;">This relation specifies the
default filesystem type if the user does not specify it via
the <b>&minus;t</b> option, or if <b>mke2fs</b> is not
started using a program name of the form
<b>mkfs.</b><i>fs-type</i>. If both the user and the
<b>mke2fs.conf</b> file does not specify a default
filesystem type, mke2fs will use a default filesystem type
of <i>ext3</i> if a journal was requested via a command-line
option, or <i>ext2</i> if not.</p>

<p style="margin-left:11%;"><i>blocksize</i></p>

<p style="margin-left:22%;">This relation specifies the
default blocksize if the user does not specify a blocksize
on the command line, and the filesystem-type specific
section of the configuration file does not specify a
blocksize.</p>

<p style="margin-left:11%;"><i>hash_alg</i></p>

<p style="margin-left:22%;">This relation specifies the
default hash algorithm used for the new filesystems with
hashed b-tree directories. Valid algorithms accepted are:
<i>legacy</i>, <i>half_md4</i>, and <i>tea</i>.</p>

<p style="margin-left:11%;"><i>inode_ratio</i></p>

<p style="margin-left:22%;">This relation specifies the
default inode ratio if the user does not specify one on the
command line, and the filesystem-type specific section of
the configuration file does not specify a default inode
ratio.</p>

<p style="margin-left:11%;"><i>inode_size</i></p>

<p style="margin-left:22%;">This relation specifies the
default inode size if the user does not specify one on the
command line, and the filesystem-type specific section of
the configuration file does not specify a default inode
size.</p>

<p style="margin-left:11%;"><i>reserved_ratio</i></p>

<p style="margin-left:22%;">This relation specifies the
default percentage of filesystem blocks reserved for the
super-user, if the user does not specify one on the command
line, and the filesystem-type specific section of the
configuration file does not specify a default reserved
ratio. This value can be a floating point number.</p>

<p style="margin-left:11%;"><i>undo_dir</i></p>

<p style="margin-left:22%;">This relation specifies the
directory where the undo file should be stored. It can be
overridden via the <b>E2FSPROGS_UNDO_DIR</b> environment
variable. If the directory location is set to the value
<i>none</i>, <b>mke2fs</b> will not create an undo file.</p>

<h2>THE [fs_types] STANZA
<a name="THE [fs_types] STANZA"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Each tag in the
<i>[fs_types]</i> stanza names a filesystem type or usage
type which can be specified via the <b>&minus;t</b> or
<b>&minus;T</b> options to <b>mke2fs</b>(8),
respectively.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>mke2fs</b> program constructs a list of fs_types by
concatenating the filesystem type (i.e., ext2, ext3, etc.)
with the usage type list. For most configuration options,
<b>mke2fs</b> will look for a subsection in the
<i>[fs_types]</i> stanza corresponding with each entry in
the constructed list, with later entries overriding earlier
filesystem or usage types. For example, consider the
following <b>mke2fs.conf</b> fragment:</p>

<p style="margin-left:11%; margin-top: 1em">[defaults]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>base_features =
sparse_super,filetype,resize_inode,dir_index</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>blocksize = 4096</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>inode_size = 256</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>inode_ratio = 16384</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">[fs_types]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>ext3 = {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>features = has_journal</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>ext4 = {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>features = extents,flex_bg</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>inode_size = 256</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>small = {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>blocksize = 1024</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>inode_ratio = 4096</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>floppy = {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>features = ^resize_inode</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>blocksize = 1024</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>inode_size = 128</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If mke2fs
started with a program name of <b>mke2fs.ext4</b>, then the
filesystem type of ext4 will be used. If the filesystem is
smaller than 3 megabytes, and no usage type is specified,
then <b>mke2fs</b> will use a default usage type of
<i>floppy</i>. This results in an fs_types list of
&quot;ext4, floppy&quot;. Both the ext4 subsection and the
floppy subsection define an <i>inode_size</i> relation, but
since the later entries in the fs_types list supersede
earlier ones, the configuration parameter for
fs_types.floppy.inode_size will be used, so the filesystem
will have an inode size of 128.</p>

<p style="margin-left:11%; margin-top: 1em">The exception
to this resolution is the <i>features</i> tag, which is
specifies a set of changes to the features used by the
filesystem, and which is cumulative. So in the above
example, first the configuration relation
defaults.base_features would enable an initial feature set
with the sparse_super, filetype, resize_inode, and dir_index
features enabled. Then configuration relation
fs_types.ext4.features would enable the extents and flex_bg
features, and finally the configuration relation
fs_types.floppy.features would remove the resize_inode
feature, resulting in a filesystem feature set consisting of
the sparse_super, filetype, resize_inode, dir_index,
extents_and flex_bg features.</p>

<p style="margin-left:11%; margin-top: 1em">For each
filesystem type, the following tags may be used in that
fs_type&rsquo;s subsection: <i><br>
base_features</i></p>

<p style="margin-left:22%;">This relation specifies the
features which are initially enabled for this filesystem
type. Only one <i>base_features</i> will be used, so if
there are multiple entries in the fs_types list whose
subsections define the <i>base_features</i> relation, only
the last will be used by <b>mke2fs</b>(8).</p>

<p style="margin-left:11%;"><i>features</i></p>

<p style="margin-left:22%;">This relation specifies a
comma-separated list of features edit requests which modify
the feature set used by the newly constructed filesystem.
The syntax is the same as the <b>-O</b> command-line option
to <b>mke2fs</b>(8); that is, a feature can be prefixed by a
caret (&rsquo;^&rsquo;) symbol to disable a named feature.
Each <i>feature</i> relation specified in the fs_types list
will be applied in the order found in the fs_types list.</p>

<p style="margin-left:11%;"><i>default_features</i></p>

<p style="margin-left:22%;">This relation specifies set of
features which should be enabled or disabled after applying
the features listed in the <i>base_features</i> and
<i>features</i> relations. It may be overridden by the
<b>-O</b> command-line option to <b>mke2fs</b>(8).</p>

<p style="margin-left:11%;"><i>auto_64-bit_support</i></p>

<p style="margin-left:22%;">This relation is a boolean
which specifies whether <b>mke2fs</b>(8) should
automatically add the 64bit feature if the number of blocks
for the file system requires this feature to be enabled. The
resize_inode feature is also automatically disabled since it
doesn&rsquo;t support 64-bit block numbers.</p>

<p style="margin-left:11%;"><i>default_mntopts</i></p>

<p style="margin-left:22%;">This relation specifies the set
of mount options which should be enabled by default. These
may be changed at a later time with the <b>-o</b>
command-line option to <b>tune2fs</b>(8).</p>

<p style="margin-left:11%;"><i>blocksize</i></p>

<p style="margin-left:22%;">This relation specifies the
default blocksize if the user does not specify a blocksize
on the command line.</p>

<p style="margin-left:11%;"><i>lazy_itable_init</i></p>

<p style="margin-left:22%;">This boolean relation specifies
whether the inode table should be lazily initialized. It
only has meaning if the uninit_bg feature is enabled. If
lazy_itable_init is true and the uninit_bg feature is
enabled, the inode table will not fully initialized by
<b>mke2fs</b>(8). This speeds up filesystem initialization
noticeably, but it requires the kernel to finish
initializing the filesystem in the background when the
filesystem is first mounted.</p>

<p style="margin-left:11%;"><i>inode_ratio</i></p>

<p style="margin-left:22%;">This relation specifies the
default inode ratio if the user does not specify one on the
command line.</p>

<p style="margin-left:11%;"><i>inode_size</i></p>

<p style="margin-left:22%;">This relation specifies the
default inode size if the user does not specify one on the
command line.</p>

<p style="margin-left:11%;"><i>reserved_ratio</i></p>

<p style="margin-left:22%;">This relation specifies the
default percentage of filesystem blocks reserved for the
super-user, if the user does not specify one on the command
line.</p>

<p style="margin-left:11%;"><i>hash_alg</i></p>

<p style="margin-left:22%;">This relation specifies the
default hash algorithm used for the new filesystems with
hashed b-tree directories. Valid algorithms accepted are:
<i>legacy</i>, <i>half_md4</i>, and <i>tea</i>.</p>

<p style="margin-left:11%;"><i>flex_bg_size</i></p>

<p style="margin-left:22%;">This relation specifies the
number of block groups that will be packed together to
create one large virtual block group on an ext4 filesystem.
This improves meta-data locality and performance on
meta-data heavy workloads. The number of groups must be a
power of 2 and may only be specified if the flex_bg
filesystem feature is enabled.</p>

<p style="margin-left:11%;"><i>options</i></p>

<p style="margin-left:22%;">This relation specifies
additional extended options which should be treated by
<b>mke2fs</b>(8) as if they were prepended to the argument
of the <b>-E</b> option. This can be used to configure the
default extended options used by <b>mke2fs</b>(8) on a
per-filesystem type basis.</p>

<p style="margin-left:11%;"><i>discard</i></p>

<p style="margin-left:22%;">This boolean relation specifies
whether the <b>mke2fs</b>(8) should attempt to discard
device prior to filesystem creation.</p>

<p style="margin-left:11%;"><i>cluster_size</i></p>

<p style="margin-left:22%;">This relation specifies the
default cluster size if the bigalloc file system feature is
enabled. It can be overridden via the <b>&minus;C</b>
command line option to <b>mke2fs</b>(8)</p>

<h2>THE [devices] STANZA
<a name="THE [devices] STANZA"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Each tag in the
<i>[devices]</i> stanza names device name so that per-device
defaults can be specified. <i><br>
fs_type</i></p>

<p style="margin-left:22%;">This relation specifies the
default parameter for the <b>&minus;t</b> option, if this
option isn&rsquo;t specified on the command line.</p>

<p style="margin-left:11%;"><i>usage_types</i></p>

<p style="margin-left:22%;">This relation specifies the
default parameter for the <b>&minus;T</b> option, if this
option isn&rsquo;t specified on the command line.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/etc/mke2fs.conf</i></p>

<p style="margin-left:22%;">The configuration file for
<b>mke2fs</b>(8).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mke2fs</b>(8)</p>
<hr>
</body>
</html>
