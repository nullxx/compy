<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:58:33 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MACHINECTL</title>

</head>
<body>

<h1 align="center">MACHINECTL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#FILES AND DIRECTORIES">FILES AND DIRECTORIES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">machinectl
&minus; Control the systemd machine manager</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="66%">


<p style="margin-top: 1em"><b>machinectl</b> [OPTIONS...]
{COMMAND} [NAME...]</p></td>
<td width="23%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>machinectl</b>
may be used to introspect and control the state of the
<b>systemd</b>(1) virtual machine and container registration
manager <b>systemd-machined.service</b>(8).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
options are understood:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;p</b>,
<b>&minus;&minus;property=</b></p>

<p style="margin-left:17%;">When showing machine or image
properties, limit the output to certain properties as
specified by the argument. If not specified, all set
properties are shown. The argument should be a property
name, such as &quot;Name&quot;. If specified more than once,
all properties with the specified names are shown.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b>,
<b>&minus;&minus;all</b></p>

<p style="margin-left:17%;">When showing machine or image
properties, show all properties regardless of whether they
are set or not.</p>

<p style="margin-left:17%; margin-top: 1em">When listing VM
or container images, do not suppress images beginning in a
dot character (&quot;.&quot;).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;l</b>,
<b>&minus;&minus;full</b></p>

<p style="margin-left:17%;">Do not ellipsize process tree
entries.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;ask&minus;password</b></p>

<p style="margin-left:17%;">Do not query the user for
authentication for privileged operations.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;kill&minus;who=</b></p>

<p style="margin-left:17%;">When used with <b>kill</b>,
choose which processes to kill. Must be one of
<b>leader</b>, or <b>all</b> to select whether to kill only
the leader process of the machine or all processes of the
machine. If omitted, defaults to <b>all</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;s</b>,
<b>&minus;&minus;signal=</b></p>

<p style="margin-left:17%;">When used with <b>kill</b>,
choose which signal to send to selected processes. Must be
one of the well&minus;known signal specifiers, such as
<b>SIGTERM</b>, <b>SIGINT</b> or <b>SIGSTOP</b>. If omitted,
defaults to <b>SIGTERM</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;mkdir</b></p>

<p style="margin-left:17%;">When used with <b>bind</b>
creates the destination directory before applying the bind
mount.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;read&minus;only</b></p>

<p style="margin-left:17%;">When used with <b>bind</b>
applies a read&minus;only bind mount.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;n</b>,
<b>&minus;&minus;lines=</b></p>

<p style="margin-left:17%;">When used with <b>status</b>,
controls the number of journal lines to show, counting from
the most recent ones. Takes a positive integer argument.
Defaults to 10.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;o</b>,
<b>&minus;&minus;output=</b></p>

<p style="margin-left:17%;">When used with <b>status</b>,
controls the formatting of the journal entries that are
shown. For the available choices, see <b>journalctl</b>(1).
Defaults to &quot;short&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;verify=</b></p>

<p style="margin-left:17%;">When downloading a container or
VM image, specify whether the image shall be verified before
it is made available. Takes one of &quot;no&quot;,
&quot;checksum&quot; and &quot;signature&quot;. If
&quot;no&quot; no verification is done. If
&quot;checksum&quot; is specified the download is checked
for integrity after transfer is complete, but no signatures
are verified. If &quot;signature&quot; is specified, the
checksum is verified and the images's signature is checked
against a local keyring of trustable vendors. It is strongly
recommended to set this option to &quot;signature&quot; if
the server and protocol support this. Defaults to
&quot;signature&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;force</b></p>

<p style="margin-left:17%;">When downloading a container or
VM image, and a local copy by the specified local machine
name already exists, delete it first and replace it by the
newly downloaded image.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;dkr&minus;index&minus;url</b></p>

<p style="margin-left:17%;">Specifies the index server to
use for downloading &quot;dkr&quot; images with the
<b>pull&minus;dkr</b>. Takes a &quot;http://&quot;,
&quot;https://&quot; URL.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;H</b>,
<b>&minus;&minus;host=</b></p>

<p style="margin-left:17%;">Execute the operation remotely.
Specify a hostname, or a username and hostname separated by
&quot;@&quot;, to connect to. The hostname may optionally be
suffixed by a container name, separated by &quot;:&quot;,
which connects directly to a specific container on the
specified host. This will use SSH to talk to the remote
machine manager instance. Container names may be enumerated
with <b>machinectl &minus;H</b> <i>HOST</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;M</b>,
<b>&minus;&minus;machine=</b></p>

<p style="margin-left:17%;">Execute operation on a local
container. Specify a container name to connect to.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;pager</b></p>

<p style="margin-left:17%;">Do not pipe output into a
pager.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;no&minus;legend</b></p>

<p style="margin-left:17%;">Do not print the legend, i.e.
column headers and the footer with hints.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Print a short help text and
exit.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Print a short version string
and exit.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
commands are understood:</p>

<p style="margin-left:11%; margin-top: 1em"><b>Machine
Commands <br>
list</b></p>

<p style="margin-left:17%;">List currently running (online)
virtual machines and containers. To enumerate container
images that can be started, use <b>list&minus;images</b>
(see below).</p>

<p style="margin-left:11%; margin-top: 1em"><b>status</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Show terse runtime status
information about one or more virtual machines and
containers, followed by the most recent log data from the
journal. This function is intended to generate
human&minus;readable output. If you are looking for
computer&minus;parsable output, use <b>show</b> instead.
Note that the log data shown is reported by the virtual
machine or container manager, and frequently contains
console output of the machine, but not necessarily journal
contents of the machine itself.</p>

<p style="margin-left:11%; margin-top: 1em"><b>show</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Show properties of one or more
registered virtual machines or containers or the manager
itself. If no argument is specified, properties of the
manager will be shown. If an NAME is specified, properties
of this virtual machine or container are shown. By default,
empty properties are suppressed. Use
<b>&minus;&minus;all</b> to show those too. To select
specific properties to show, use
<b>&minus;&minus;property=</b>. This command is intended to
be used whenever computer&minus;parsable output is required.
Use <b>status</b> if you are looking for formatted
human&minus;readable output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>start</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Start a container as a system
service, using <b>systemd-nspawn</b>(1). This starts
systemd&minus;nspawn@.service, instantiated for the
specified machine name, similar to the effect of
<b>systemctl start</b> on the service name.
<b>systemd&minus;nspawn</b> looks for a container image by
the specified name in /var/lib/machines/ (and other search
paths, see below) and runs it. Use <b>list&minus;images</b>
(see below), for listing available container images to
start.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
<b>systemd-machined.service</b>(8) also interfaces with a
variety of other container and VM managers,
<b>systemd&minus;nspawn</b> is just one implementation of
it. Most of the commands available in <b>machinectl</b> may
be used on containers or VMs controlled by other managers,
not just <b>systemd&minus;nspawn</b>. Starting VMs and
container images on those managers requires
manager&minus;specific tools.</p>

<p style="margin-left:17%; margin-top: 1em">To
interactively start a container on the command line with
full access to the container's console, please invoke
<b>systemd&minus;nspawn</b> directly. To stop a running
container use <b>machinectl poweroff</b>, see below.</p>

<p style="margin-left:11%; margin-top: 1em"><b>login</b>
<i>NAME</i></p>

<p style="margin-left:17%;">Open an interactive terminal
login session to a container. This will create a TTY
connection to a specific container and asks for the
execution of a getty on it. Note that this is only supported
for containers running <b>systemd</b>(1) as init system.</p>

<p style="margin-left:17%; margin-top: 1em">This command
will open a full login prompt on the container, which then
asks for username and password. Use <b>systemd-run</b>(1)
with the <b>&minus;&minus;machine=</b> switch to invoke a
single command, either interactively or in the background
within a local container.</p>

<p style="margin-left:11%; margin-top: 1em"><b>enable</b>
<i>NAME</i>..., <b>disable</b> <i>NAME</i>...</p>

<p style="margin-left:17%;">Enable or disable a container
as a system service to start at system boot, using
<b>systemd-nspawn</b>(1). This enables or disables
systemd&minus;nspawn@.service, instantiated for the
specified machine name, similar to the effect of
<b>systemctl enable</b> or <b>systemctl disable</b> on the
service name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>poweroff</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Power off one or more
containers. This will trigger a reboot by sending SIGRTMIN+4
to the container's init process, which causes
systemd&minus;compatible init systems to shut down cleanly.
This operation does not work on containers that do not run a
<b>systemd</b>(1)&minus;compatible init system, such as
sysvinit. Use <b>terminate</b> (see below) to immediately
terminate a container or VM, without cleanly shutting it
down.</p>

<p style="margin-left:11%; margin-top: 1em"><b>reboot</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Reboot one or more containers.
This will trigger a reboot by sending SIGINT to the
container's init process, which is roughly equivalent to
pressing Ctrl+Alt+Del on a non&minus;containerized system,
and is compatible with containers running any system
manager.</p>


<p style="margin-left:11%; margin-top: 1em"><b>terminate</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Immediately terminates a
virtual machine or container, without cleanly shutting it
down. This kills all processes of the virtual machine or
container and deallocates all resources attached to that
instance. Use <b>poweroff</b> to issue a clean shutdown
request.</p>

<p style="margin-left:11%; margin-top: 1em"><b>kill</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Send a signal to one or more
processes of the virtual machine or container. This means
processes as seen by the host, not the processes inside the
virtual machine or container. Use
<b>&minus;&minus;kill&minus;who=</b> to select which process
to kill. Use <b>&minus;&minus;signal=</b> to select the
signal to send.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bind</b>
<i>NAME PATH</i> [<i>PATH</i>]</p>

<p style="margin-left:17%;">Bind mounts a directory from
the host into the specified container. The first directory
argument is the source directory on the host, the second
directory argument the source directory on the host. When
the latter is omitted the destination path in the container
is the same as the source path on the host. When combined
with the <b>&minus;&minus;read&minus;only</b> switch a
ready&minus;only bind mount is created. When combined with
the <b>&minus;&minus;mkdir</b> switch the destination path
is first created before the mount is applied. Note that this
option is currently only supported for
<b>systemd-nspawn</b>(1) containers.</p>


<p style="margin-left:11%; margin-top: 1em"><b>copy&minus;to</b>
<i>NAME PATH</i> [<i>PATH</i>]</p>

<p style="margin-left:17%;">Copies files or directories
from the host system into a running container. Takes a
container name, followed by the source path on the host and
the destination path in the container. If the destination
path is omitted the same as the source path is used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>copy&minus;from</b>
<i>NAME PATH</i> [<i>PATH</i>]</p>

<p style="margin-left:17%;">Copies files or directories
from a container into the host system. Takes a container
name, followed by the source path in the container the
destination path on the host. If the destination path is
omitted the same as the source path is used.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Image
Commands <br>
list&minus;images</b></p>

<p style="margin-left:17%;">Show a list of locally
installed container and VM images. This enumerates all raw
disk images and container directories and subvolumes in
/var/lib/machines/ (and other search paths, see below). Use
<b>start</b> (see above) to run a container off one of the
listed images. Note that by default containers whose name
begins with a dot (&quot;.&quot;) are not shown. To show
these too, specify <b>&minus;&minus;all</b>. Note that a
special image &quot;.host&quot; always implicitly exists and
refers to the image the host itself is booted from.</p>


<p style="margin-left:11%; margin-top: 1em"><b>image&minus;status</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Show terse status information
about one or more container or VM images. This function is
intended to generate human&minus;readable output. Use
<b>show&minus;image</b> (see below) to generate
computer&minus;parsable output instead.</p>


<p style="margin-left:11%; margin-top: 1em"><b>show&minus;image</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Show properties of one or more
registered virtual machine or container images, or the
manager itself. If no argument is specified, properties of
the manager will be shown. If an NAME is specified,
properties of this virtual machine or container image are
shown. By default, empty properties are suppressed. Use
<b>&minus;&minus;all</b> to show those too. To select
specific properties to show, use
<b>&minus;&minus;property=</b>. This command is intended to
be used whenever computer&minus;parsable output is required.
Use <b>image&minus;status</b> if you are looking for
formatted human&minus;readable output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>clone</b>
<i>NAME NAME</i></p>

<p style="margin-left:17%;">Clones a container or disk
image. The arguments specify the name of the image to clone
and the name of the newly cloned image. Note that plain
directory container images are cloned into subvolume images
with this command. Note that cloning a container or VM image
is optimized for btrfs file systems, and might not be
efficient on others, due to file system limitations.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rename</b>
<i>NAME NAME</i></p>

<p style="margin-left:17%;">Renames a container or disk
image. The arguments specify the name of the image to rename
and the new name of the image.</p>


<p style="margin-left:11%; margin-top: 1em"><b>read&minus;only</b>
<i>NAME</i> [<i>BOOL</i>]</p>

<p style="margin-left:17%;">Marks or (unmarks) a container
or disk image read&minus;only. Takes a VM or container image
name, followed by a boolean as arguments. If the boolean is
omitted, positive is implied, i.e. the image is marked
read&minus;only.</p>

<p style="margin-left:11%; margin-top: 1em"><b>remove</b>
<i>NAME</i>...</p>

<p style="margin-left:17%;">Removes one or more container
or disk images. The special image &quot;.host&quot;, which
refers to the host's own directory tree may not be
removed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Image
Transfer Commands <br>
pull&minus;tar</b> <i>URL</i> [<i>NAME</i>]</p>

<p style="margin-left:17%;">Downloads a .tar container
image from the specified URL, and makes it available under
the specified local machine name. The URL must be of type
&quot;http://&quot; or &quot;https://&quot;, and must refer
to a .tar, .tar.gz, .tar.xz or .tar.bz2 archive file. If the
local machine name is omitted the name it is automatically
derived from the last component of the URL, with its suffix
removed.</p>

<p style="margin-left:17%; margin-top: 1em">The image is
verified before it is made available, unless
<b>&minus;&minus;verify=no</b> is specified. Verification is
done via SHA256SUMS and SHA256SUMS.gpg files, that need to
be made available on the same web server, under the same URL
as the .tar file, but with the last component (the filename)
of the URL replaced. With
<b>&minus;&minus;verify=checksum</b> only the SHA256
checksum for the file is verified, based on the SHA256SUMS
file. With <b>&minus;&minus;verify=signature</b> the
SHA256SUMS file is first verified with detached GPG
signature file SHA256SUMS.gpg. The public key for this
verification step needs to be available in
/usr/lib/systemd/import&minus;pubring.gpg or
/etc/systemd/import&minus;pubring.gpg.</p>

<p style="margin-left:17%; margin-top: 1em">The container
image will be downloaded and stored in a read&minus;only
subvolume in /var/lib/machines/, that is named after the
specified URL and its HTTP etag. A writable snapshot is then
taken from this subvolume, and named after the specified
local name. This behaviour ensures that creating multiple
container instances of the same URL is efficient, as
multiple downloads are not necessary. In order to create
only the read&minus;only image, and avoid creating its
writable snapshot, specify &quot;&minus;&quot; as local
machine name.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
read&minus;only subvolume is prefixed with .tar&minus;, and
is thus now shown by <b>list&minus;images</b>, unless
<b>&minus;&minus;all</b> is passed.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
pressing C&minus;c during execution of this command will not
abort the download. Use <b>cancel&minus;transfer</b>,
described below.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pull&minus;raw</b>
<i>URL</i> [<i>NAME</i>]</p>

<p style="margin-left:17%;">Downloads a .raw container or
VM disk image from the specified URL, and makes it available
under the specified local machine name. The URL must be of
type &quot;http://&quot; or &quot;https://&quot;. The
container image must either be a .qcow2 or raw disk image,
optionally compressed as .gz, .xz, or .bz2. If the local
machine name is omitted the name it is automatically derived
from the last component of the URL, with its suffix
removed.</p>

<p style="margin-left:17%; margin-top: 1em">Image
verification is identical for raw and tar images (see
above).</p>

<p style="margin-left:17%; margin-top: 1em">If the the
downloaded image is in .qcow2 format it es converted into a
raw image file before it is made available.</p>

<p style="margin-left:17%; margin-top: 1em">Downloaded
images of this type will be placed as read&minus;only .raw
file in /var/lib/machines/. A local, writable (reflinked)
copy is then made under the specified local machine name. To
omit creation of the local, writable copy pass
&quot;&minus;&quot; as local machine name.</p>

<p style="margin-left:17%; margin-top: 1em">Similar to the
behaviour of <b>pull&minus;tar</b>, the read&minus;only
image is prefixed with .raw&minus;, and thus now shown by
<b>list&minus;images</b>, unless <b>&minus;&minus;all</b> is
passed.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
pressing C&minus;c during execution of this command will not
abort the download. Use <b>cancel&minus;transfer</b>,
described below.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pull&minus;dkr</b>
<i>REMOTE</i> [<i>NAME</i>]</p>

<p style="margin-left:17%;">Downloads a &quot;dkr&quot;
container image and makes it available locally. The remote
name refers to a &quot;dkr&quot; container name. If omitted,
the local machine name is derived from the &quot;dkr&quot;
container name.</p>

<p style="margin-left:17%; margin-top: 1em">Image
verification is not available for &quot;dkr&quot;
containers, and thus <b>&minus;&minus;verify=no</b> must
always be specified with this command.</p>

<p style="margin-left:17%; margin-top: 1em">This command
downloads all (missing) layers for the specified container
and places them in read&minus;only subvolumes in
/var/lib/machines/. A writable snapshot of the newest layer
is then created under the specified local machine name. To
omit creation of this writable snapshot, pass
&quot;&minus;&quot; as local machine name.</p>

<p style="margin-left:17%; margin-top: 1em">The
read&minus;only layer subvolumes are prefixed with
.dkr&minus;, and thus now shown by <b>list&minus;images</b>,
unless <b>&minus;&minus;all</b> is passed.</p>

<p style="margin-left:17%; margin-top: 1em">To specify the
&quot;dkr&quot; index server to use for looking up the
specified container, use
<b>&minus;&minus;dkr&minus;index&minus;url=</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
pressing C&minus;c during execution of this command will not
abort the download. Use <b>cancel&minus;transfer</b>,
described below.</p>


<p style="margin-left:11%; margin-top: 1em"><b>list&minus;transfers</b></p>

<p style="margin-left:17%;">Shows a list of container or VM
image downloads that are currently in progress.</p>


<p style="margin-left:11%; margin-top: 1em"><b>cancel&minus;transfers</b>
<i>ID</i>...</p>

<p style="margin-left:17%;">Aborts download of the
container or VM image with the specified ID. To list ongoing
transfers and their IDs, use
<b>list&minus;transfers</b>.</p>

<h2>FILES AND DIRECTORIES
<a name="FILES AND DIRECTORIES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Machine images
are preferably stored in /var/lib/machines/, but are also
searched for in /usr/local/lib/machines/ and
/usr/lib/machines/. For compatibility reasons the directory
/var/lib/container/ is searched, too. Note that images
stored below /usr are always considered read&minus;only. It
is possible to symlink machines images from other
directories into /var/lib/machines/ to make them available
for control with <b>machinectl</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Disk images are
understood by <b>systemd-nspawn</b>(1) and <b>machinectl</b>
in three formats:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; A simple
directory tree, containing the files and directories of the
container to boot.</p>

<p style="margin-left:17%; margin-top: 1em">&bull; A
subvolume (on btrfs file systems), which are similar to the
simple directories, described above. However, they have
additional benefits, such as efficient cloning and quota
reporting.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
&quot;Raw&quot; disk images, i.e. binary images of disks
with a GPT or MBR partition table. Images of this type are
regular files with the suffix &quot;.raw&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">See
<b>systemd-nspawn</b>(1) for more information on image
formats, in particular it's <b>&minus;&minus;directory=</b>
and <b>&minus;&minus;image=</b> options.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Example&nbsp;1.&nbsp;Download
an Ubuntu image and open a shell in it</b></p>

<p style="margin-left:17%; margin-top: 1em"># machinectl
pull&minus;tar
https://cloud&minus;images.ubuntu.com/trusty/current/trusty&minus;server&minus;cloudimg&minus;amd64&minus;root.tar.gz
<br>
# systemd&minus;nspawn &minus;M
trusty&minus;server&minus;cloudimg&minus;amd64&minus;root</p>

<p style="margin-left:11%; margin-top: 1em">This downloads
and verifies the specified .tar image, and then uses
<b>systemd-nspawn</b>(1) to open a shell in it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Example&nbsp;2.&nbsp;Download
a Fedora image, set a root password in it, start it as
service</b></p>

<p style="margin-left:17%; margin-top: 1em"># machinectl
pull&minus;raw &minus;&minus;verify=no
http://ftp.halifax.rwth&minus;aachen.de/fedora/linux/releases/21/Cloud/Images/x86_64/Fedora&minus;Cloud&minus;Base&minus;20141203&minus;21.x86_64.raw.xz
<br>
# systemd&minus;nspawn &minus;M
Fedora&minus;Cloud&minus;Base&minus;20141203&minus;21 <br>
# passwd <br>
# exit <br>
# machinectl start
Fedora&minus;Cloud&minus;Base&minus;20141203&minus;21 <br>
# machinectl login
Fedora&minus;Cloud&minus;Base&minus;20141203&minus;21</p>

<p style="margin-left:11%; margin-top: 1em">This downloads
the specified .raw image with verification disabled. Then a
shell is opened in it and a root password is set. Afterwards
the shell is left, and the machine started as system
service. With the last command a login prompt into the
container is requested.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Example&nbsp;3.&nbsp;Download
a Fedora &quot;dkr&quot; image</b></p>

<p style="margin-left:17%; margin-top: 1em"># machinectl
pull&minus;dkr &minus;&minus;verify=no mattdm/fedora <br>
# systemd&minus;nspawn &minus;M fedora</p>

<p style="margin-left:11%; margin-top: 1em">Downloads a
&quot;dkr&quot; image and opens a shell in it. Note that the
specified download command might require an index server to
be specified with the
&quot;&minus;&minus;dkr&minus;index&minus;url=&quot;.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success, 0
is returned, a non&minus;zero failure code otherwise.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>$SYSTEMD_PAGER</i></p>

<p style="margin-left:17%;">Pager to use when
<b>&minus;&minus;no&minus;pager</b> is not given; overrides
<i>$PAGER</i>. Setting this to an empty string or the value
&quot;cat&quot; is equivalent to passing
<b>&minus;&minus;no&minus;pager</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>$SYSTEMD_LESS</i></p>

<p style="margin-left:17%;">Override the default options
passed to <b>less</b> (&quot;FRSXMK&quot;).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>systemd-machined.service</b>(8),
<b>systemd-nspawn</b>(1), <b>systemd.special</b>(7)</p>
<hr>
</body>
</html>
