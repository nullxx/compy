<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:04:23 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Tcl_Eval</title>

</head>
<body>

<h1 align="center">Tcl_Eval</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FLAG BITS">FLAG BITS</a><br>
<a href="#MISCELLANEOUS DETAILS">MISCELLANEOUS DETAILS</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tcl_EvalObjEx,
Tcl_EvalFile, Tcl_EvalObjv, Tcl_Eval, Tcl_EvalEx,
Tcl_GlobalEval, Tcl_GlobalEvalObj, Tcl_VarEval,
Tcl_VarEvalVA &minus; execute Tcl scripts</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tcl.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_EvalObjEx</b>(<i>interp, objPtr, flags</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_EvalFile</b>(<i>interp, fileName</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_EvalObjv</b>(<i>interp, objc, objv, flags</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_Eval</b>(<i>interp, script</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_EvalEx</b>(<i>interp, script, numBytes, flags</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_GlobalEval</b>(<i>interp, script</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_GlobalEvalObj</b>(<i>interp, objPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_VarEval</b>(<i>interp, part, part, ...</i> <b>(char *)
NULL</b>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_VarEvalVA</b>(<i>interp, argList</i>)</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p style="margin-top: 1em">Tcl_Interp <i>*interp</i>
(in)</p> </td>
<td width="16%"></td>
<td width="35%">


<p style="margin-top: 1em">Interpreter in which to execute
the script. The interpreter&rsquo;s result is modified to
hold the result or error message from the script.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>Tcl_Obj <i>*objPtr</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>A Tcl object containing the script to execute.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>int <i>flags</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>ORed combination of flag bits that specify additional
options. <b>TCL_EVAL_GLOBAL</b> and <b>TCL_EVAL_DIRECT</b>
are currently supported.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>const char <i>*fileName</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>Name of a file containing a Tcl script.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>int <i>objc</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>The number of objects in the array pointed to by
<i>objPtr</i>; this is also the number of words in the
command.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>Tcl_Obj <i>**objv</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>Points to an array of pointers to objects; each object
holds the value of a single word in the command to
execute.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>int <i>numBytes</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>The number of bytes in <i>script</i>, not including any
null terminating character. If &minus;1, then all characters
up to the first null byte are used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>const char <i>*script</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>Points to first byte of script to execute
(null-terminated and UTF-8).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>char <i>*part</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>String forming part of a Tcl script.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="38%">


<p>va_list <i>argList</i> (in)</p></td>
<td width="16%"></td>
<td width="35%">


<p>An argument list which must have been initialized using
<b>va_start</b>, and cleared using <b>va_end</b>.</p></td></tr>
</table>


<p style="margin-left:65%;">_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The procedures
described here are invoked to execute Tcl scripts in various
forms. <b>Tcl_EvalObjEx</b> is the core procedure and is
used by many of the others. It executes the commands in the
script stored in <i>objPtr</i> until either an error occurs
or the end of the script is reached. If this is the first
time <i>objPtr</i> has been executed, its commands are
compiled into bytecode instructions which are then executed.
The bytecodes are saved in <i>objPtr</i> so that the
compilation step can be skipped if the object is evaluated
again in the future.</p>

<p style="margin-left:11%; margin-top: 1em">The return
value from <b>Tcl_EvalObjEx</b> (and all the other
procedures described here) is a Tcl completion code with one
of the values <b>TCL_OK</b>, <b>TCL_ERROR</b>,
<b>TCL_RETURN</b>, <b>TCL_BREAK</b>, or <b>TCL_CONTINUE</b>,
or possibly some other integer value originating in an
extension. In addition, a result value or error message is
left in <i>interp</i>&rsquo;s result; it can be retrieved
using <b>Tcl_GetObjResult</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_EvalFile</b>
reads the file given by <i>fileName</i> and evaluates its
contents as a Tcl script. It returns the same information as
<b>Tcl_EvalObjEx</b>. If the file could not be read then a
Tcl error is returned to describe why the file could not be
read. The eofchar for files is &ldquo;\32&rdquo; (^Z) for
all platforms. If you require a &ldquo;^Z&rdquo; in code for
string comparison, you can use &ldquo;\032&rdquo; or
&ldquo;\u001a&rdquo;, which will be safely substituted by
the Tcl interpreter into &ldquo;^Z&rdquo;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_EvalObjv</b>
executes a single pre-parsed command instead of a script.
The <i>objc</i> and <i>objv</i> arguments contain the values
of the words for the Tcl command, one word in each object in
<i>objv</i>. <b>Tcl_EvalObjv</b> evaluates the command and
returns a completion code and result just like
<b>Tcl_EvalObjEx</b>. The caller of <b>Tcl_EvalObjv</b> has
to manage the reference count of the elements of
<i>objv</i>, insuring that the objects are valid until
<b>Tcl_EvalObjv</b> returns.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_Eval</b>
is similar to <b>Tcl_EvalObjEx</b> except that the script to
be executed is supplied as a string instead of an object and
no compilation occurs. The string should be a proper UTF-8
string as converted by <b>Tcl_ExternalToUtfDString</b> or
<b>Tcl_ExternalToUtf</b> when it is known to possibly
contain upper ASCII characters whose possible combinations
might be a UTF-8 special code. The string is parsed and
executed directly (using <b>Tcl_EvalObjv</b>) instead of
compiling it and executing the bytecodes. In situations
where it is known that the script will never be executed
again, <b>Tcl_Eval</b> may be faster than
<b>Tcl_EvalObjEx</b>. <b><br>
Tcl_Eval</b> returns a completion code and result just like
<b>Tcl_EvalObjEx</b>. Note: for backward compatibility with
versions before Tcl 8.0, <b>Tcl_Eval</b> copies the object
result in <i>interp</i> to <i>interp-&gt;result</i> (use is
deprecated) where it can be accessed directly. <br>
This makes <b>Tcl_Eval</b> somewhat slower than
<b>Tcl_EvalEx</b>, which does not do the copy.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_EvalEx</b>
is an extended version of <b>Tcl_Eval</b> that takes
additional arguments <i>numBytes</i> and <i>flags</i>. For
the efficiency reason given above, <b>Tcl_EvalEx</b> is
generally preferred over <b>Tcl_Eval</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_GlobalEval</b>
and <b>Tcl_GlobalEvalObj</b> are older procedures that are
now deprecated. They are similar to <b>Tcl_EvalEx</b> and
<b>Tcl_EvalObjEx</b> except that the script is evaluated in
the global namespace and its variable context consists of
global variables only (it ignores any Tcl procedures that
are active). These functions are equivalent to using the
<b>TCL_EVAL_GLOBAL</b> flag (see below).</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_VarEval</b>
takes any number of string arguments of any length,
concatenates them into a single string, then calls
<b>Tcl_Eval</b> to execute that string as a Tcl command. It
returns the result of the command and also modifies
<i>interp-&gt;result</i> in the same way as <b>Tcl_Eval</b>.
The last argument to <b>Tcl_VarEval</b> must be NULL to
indicate the end of arguments. <b>Tcl_VarEval</b> is now
deprecated.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_VarEvalVA</b>
is the same as <b>Tcl_VarEval</b> except that instead of
taking a variable number of arguments it takes an argument
list. Like <b>Tcl_VarEval</b>, <b>Tcl_VarEvalVA</b> is
deprecated.</p>

<h2>FLAG BITS
<a name="FLAG BITS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Any ORed
combination of the following values may be used for the
<i>flags</i> argument to procedures such as
<b>Tcl_EvalObjEx</b>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p style="margin-top: 1em"><b>TCL_EVAL_DIRECT</b></p></td>
<td width="12%"></td>
<td width="54%">


<p style="margin-top: 1em">This flag is only used by
<b>Tcl_EvalObjEx</b>; it is ignored by other procedures. If
this flag bit is set, the script is not compiled to
bytecodes; instead it is executed directly as is done by
<b>Tcl_EvalEx</b>. The <b>TCL_EVAL_DIRECT</b> flag is useful
in situations where the contents of an object are going to
change immediately, so the bytecodes will not be reused in a
future execution. In this case, it is faster to execute the
script directly.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">


<p><b>TCL_EVAL_GLOBAL</b></p></td>
<td width="12%"></td>
<td width="54%">


<p>If this flag is set, the script is processed at global
level. This means that it is evaluated in the global
namespace and its variable context consists of global
variables only (it ignores any Tcl procedures at are
active).</p> </td></tr>
</table>

<h2>MISCELLANEOUS DETAILS
<a name="MISCELLANEOUS DETAILS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">During the
processing of a Tcl command it is legal to make nested calls
to evaluate other commands (this is how procedures and some
control structures are implemented). If a code other than
<b>TCL_OK</b> is returned from a nested <b>Tcl_EvalObjEx</b>
invocation, then the caller should normally return
immediately, passing that same return code back to its
caller, and so on until the top-level application is
reached. A few commands, like <b>for</b>, will check for
certain return codes, like <b>TCL_BREAK</b> and
<b>TCL_CONTINUE</b>, and process them specially without
returning.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_EvalObjEx</b>
keeps track of how many nested <b>Tcl_EvalObjEx</b>
invocations are in progress for <i>interp</i>. If a code of
<b>TCL_RETURN</b>, <b>TCL_BREAK</b>, or <b>TCL_CONTINUE</b>
is about to be returned from the topmost
<b>Tcl_EvalObjEx</b> invocation for <i>interp</i>, it
converts the return code to <b>TCL_ERROR</b> and sets
<i>interp</i>&rsquo;s result to an error message indicating
that the <b>return</b>, <b>break</b>, or <b>continue</b>
command was invoked in an inappropriate place. This means
that top-level applications should never see a return code
from <b>Tcl_EvalObjEx</b> other then <b>TCL_OK</b> or
<b>TCL_ERROR</b>.</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">execute, file,
global, object, result, script</p>
<hr>
</body>
</html>
