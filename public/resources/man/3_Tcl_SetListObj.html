<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:04:10 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Tcl_ListObj</title>

</head>
<body>

<h1 align="center">Tcl_ListObj</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p>______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Tcl_ListObjAppendList,
Tcl_ListObjAppendElement, Tcl_NewListObj, Tcl_SetListObj,
Tcl_ListObjGetElements, Tcl_ListObjLength, Tcl_ListObjIndex,
Tcl_ListObjReplace &minus; manipulate Tcl objects as
lists</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tcl.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_ListObjAppendList</b>(<i>interp, listPtr,
elemListPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_ListObjAppendElement</b>(<i>interp, listPtr,
objPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">Tcl_Obj *
<b><br>
Tcl_NewListObj</b>(<i>objc, objv</i>)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_SetListObj</b>(<i>objPtr,
objc, objv</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_ListObjGetElements</b>(<i>interp, listPtr, objcPtr,
objvPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_ListObjLength</b>(<i>interp, listPtr, intPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_ListObjIndex</b>(<i>interp, listPtr, index,
objPtrPtr</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Tcl_ListObjReplace</b>(<i>interp, listPtr, first, count,
objc, objv</i>)</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p style="margin-top: 1em">Tcl_Interp <i>*interp</i>
(in)</p> </td>
<td width="20%"></td>
<td width="25%">


<p style="margin-top: 1em">If an error occurs while
converting an object to be a list object, an error message
is left in the interpreter&rsquo;s result object unless
<i>interp</i> is NULL.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>Tcl_Obj <i>*listPtr</i> (in/out)</p></td>
<td width="20%"></td>
<td width="25%">


<p>Points to the list object to be manipulated. If
<i>listPtr</i> does not already point to a list object, an
attempt will be made to convert it to one.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>Tcl_Obj <i>*elemListPtr</i> (in/out)</p></td>
<td width="20%"></td>
<td width="25%">


<p>For <b>Tcl_ListObjAppendList</b>, this points to a list
object containing elements to be appended onto
<i>listPtr</i>. Each element of *<i>elemListPtr</i> will
become a new element of <i>listPtr</i>. If
*<i>elemListPtr</i> is not NULL and does not already point
to a list object, an attempt will be made to convert it to
one.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>Tcl_Obj <i>*objPtr</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>For <b>Tcl_ListObjAppendElement</b>, points to the Tcl
object that will be appended to <i>listPtr</i>. For
<b>Tcl_SetListObj</b>, this points to the Tcl object that
will be converted to a list object containing the
<i>objc</i> elements of the array referenced by
<i>objv</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>int <i>*objcPtr</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>Points to location where <b>Tcl_ListObjGetElements</b>
stores the number of element objects in <i>listPtr</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>Tcl_Obj <i>***objvPtr</i> (out)</p></td>
<td width="20%"></td>
<td width="25%">


<p>A location where <b>Tcl_ListObjGetElements</b> stores a
pointer to an array of pointers to the element objects of
<i>listPtr</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>int <i>objc</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>The number of Tcl objects that <b>Tcl_NewListObj</b>
will insert into a new list object, and
<b>Tcl_ListObjReplace</b> will insert into <i>listPtr</i>.
For <b>Tcl_SetListObj</b>, the number of Tcl objects to
insert into <i>objPtr</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>Tcl_Obj *const <i>objv[]</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>An array of pointers to objects. <b>Tcl_NewListObj</b>
will insert these objects into a new list object and
<b>Tcl_ListObjReplace</b> will insert them into an existing
<i>listPtr</i>. Each object will become a separate list
element.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>int <i>*intPtr</i> (out)</p></td>
<td width="20%"></td>
<td width="25%">


<p>Points to location where <b>Tcl_ListObjLength</b> stores
the length of the list.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>int <i>index</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>Index of the list element that <b>Tcl_ListObjIndex</b>
is to return. The first element has index 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>Tcl_Obj <i>**objPtrPtr</i> (out)</p></td>
<td width="20%"></td>
<td width="25%">


<p>Points to place where <b>Tcl_ListObjIndex</b> is to
store a pointer to the resulting list element object.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>int <i>first</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>Index of the starting list element that
<b>Tcl_ListObjReplace</b> is to replace. The list&rsquo;s
first element has index 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="44%">


<p>int <i>count</i> (in)</p></td>
<td width="20%"></td>
<td width="25%">


<p>The number of elements that <b>Tcl_ListObjReplace</b> is
to replace.</p></td></tr>
</table>


<p style="margin-left:75%;">_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tcl list
objects have an internal representation that supports the
efficient indexing and appending. The procedures described
in this man page are used to create, modify, index, and
append to Tcl list objects from C code.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_ListObjAppendList</b>
and <b>Tcl_ListObjAppendElement</b> both add one or more
objects to the end of the list object referenced by
<i>listPtr</i>. <b>Tcl_ListObjAppendList</b> appends each
element of the list object referenced by <i>elemListPtr</i>
while <b>Tcl_ListObjAppendElement</b> appends the single
object referenced by <i>objPtr</i>. Both procedures will
convert the object referenced by <i>listPtr</i> to a list
object if necessary. If an error occurs during conversion,
both procedures return <b>TCL_ERROR</b> and leave an error
message in the interpreter&rsquo;s result object if
<i>interp</i> is not NULL. Similarly, if <i>elemListPtr</i>
does not already refer to a list object,
<b>Tcl_ListObjAppendList</b> will attempt to convert it to
one and if an error occurs during conversion, will return
<b>TCL_ERROR</b> and leave an error message in the
interpreter&rsquo;s result object if interp is not NULL.
Both procedures invalidate any old string representation of
<i>listPtr</i> and, if it was converted to a list object,
free any old internal representation. Similarly,
<b>Tcl_ListObjAppendList</b> frees any old internal
representation of <i>elemListPtr</i> if it converts it to a
list object. After appending each element in
<i>elemListPtr</i>, <b>Tcl_ListObjAppendList</b> increments
the element&rsquo;s reference count since <i>listPtr</i> now
also refers to it. For the same reason,
<b>Tcl_ListObjAppendElement</b> increments
<i>objPtr</i>&rsquo;s reference count. If no error occurs,
the two procedures return <b>TCL_OK</b> after appending the
objects.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_NewListObj</b>
and <b>Tcl_SetListObj</b> create a new object or modify an
existing object to hold the <i>objc</i> elements of the
array referenced by <i>objv</i> where each element is a
pointer to a Tcl object. If <i>objc</i> is less than or
equal to zero, they return an empty object. The new
object&rsquo;s string representation is left invalid. The
two procedures increment the reference counts of the
elements in <i>objc</i> since the list object now refers to
them. The new list object returned by <b>Tcl_NewListObj</b>
has reference count zero.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_ListObjGetElements</b>
returns a count and a pointer to an array of the elements in
a list object. It returns the count by storing it in the
address <i>objcPtr</i>. Similarly, it returns the array
pointer by storing it in the address <i>objvPtr</i>. The
memory pointed to is managed by Tcl and should not be freed
or written to by the caller. If the list is empty, 0 is
stored at <i>objcPtr</i> and NULL at <i>objvPtr</i>. If
<i>listPtr</i> is not already a list object,
<b>Tcl_ListObjGetElements</b> will attempt to convert it to
one; if the conversion fails, it returns <b>TCL_ERROR</b>
and leaves an error message in the interpreter&rsquo;s
result object if <i>interp</i> is not NULL. Otherwise it
returns <b>TCL_OK</b> after storing the count and array
pointer.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_ListObjLength</b>
returns the number of elements in the list object referenced
by <i>listPtr</i>. It returns this count by storing an
integer in the address <i>intPtr</i>. If the object is not
already a list object, <b>Tcl_ListObjLength</b> will attempt
to convert it to one; if the conversion fails, it returns
<b>TCL_ERROR</b> and leaves an error message in the
interpreter&rsquo;s result object if <i>interp</i> is not
NULL. Otherwise it returns <b>TCL_OK</b> after storing the
list&rsquo;s length.</p>

<p style="margin-left:11%; margin-top: 1em">The procedure
<b>Tcl_ListObjIndex</b> returns a pointer to the object at
element <i>index</i> in the list referenced by
<i>listPtr</i>. It returns this object by storing a pointer
to it in the address <i>objPtrPtr</i>. If <i>listPtr</i>
does not already refer to a list object,
<b>Tcl_ListObjIndex</b> will attempt to convert it to one;
if the conversion fails, it returns <b>TCL_ERROR</b> and
leaves an error message in the interpreter&rsquo;s result
object if <i>interp</i> is not NULL. If the index is out of
range, that is, <i>index</i> is negative or greater than or
equal to the number of elements in the list,
<b>Tcl_ListObjIndex</b> stores a NULL in <i>objPtrPtr</i>
and returns <b>TCL_OK</b>. Otherwise it returns
<b>TCL_OK</b> after storing the element&rsquo;s object
pointer. The reference count for the list element is not
incremented; the caller must do that if it needs to retain a
pointer to the element.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Tcl_ListObjReplace</b>
replaces zero or more elements of the list referenced by
<i>listPtr</i> with the <i>objc</i> objects in the array
referenced by <i>objv</i>. If <i>listPtr</i> does not point
to a list object, <b>Tcl_ListObjReplace</b> will attempt to
convert it to one; if the conversion fails, it returns
<b>TCL_ERROR</b> and leaves an error message in the
interpreter&rsquo;s result object if <i>interp</i> is not
NULL. Otherwise, it returns <b>TCL_OK</b> after replacing
the objects. If <i>objv</i> is NULL, no new elements are
added. If the argument <i>first</i> is zero or negative, it
refers to the first element. If <i>first</i> is greater than
or equal to the number of elements in the list, then no
elements are deleted; the new elements are appended to the
list. <i>count</i> gives the number of elements to replace.
If <i>count</i> is zero or negative then no elements are
deleted; the new elements are simply inserted before the one
designated by <i>first</i>. <b>Tcl_ListObjReplace</b>
invalidates <i>listPtr</i>&rsquo;s old string
representation. The reference counts of any elements
inserted from <i>objv</i> are incremented since the
resulting list now refers to them. Similarly, the reference
counts for any replaced objects are decremented.</p>

<p style="margin-left:11%; margin-top: 1em">Because
<b>Tcl_ListObjReplace</b> combines both element insertion
and deletion, it can be used to implement a number of list
operations. For example, the following code inserts the
<i>objc</i> objects referenced by the array of object
pointers <i>objv</i> just before the element <i>index</i> of
the list referenced by <i>listPtr</i>:</p>

<p style="margin-left:22%; margin-top: 1em">result =
Tcl_ListObjReplace(interp, listPtr, index, 0, <br>
objc, objv);</p>

<p style="margin-left:11%; margin-top: 1em">Similarly, the
following code appends the <i>objc</i> objects referenced by
the array <i>objv</i> to the end of the list
<i>listPtr</i>:</p>

<p style="margin-left:22%; margin-top: 1em">result =
Tcl_ListObjLength(interp, listPtr, &amp;length); <br>
if (result == TCL_OK) { <br>
result = Tcl_ListObjReplace(interp, listPtr, length, 0, <br>
objc, objv); <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>count</i> list elements starting at <i>first</i> can be
deleted by simply calling <b>Tcl_ListObjReplace</b> with a
NULL <i>objvPtr</i>:</p>

<p style="margin-left:22%; margin-top: 1em">result =
Tcl_ListObjReplace(interp, listPtr, first, count, <br>
0, NULL);</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Tcl_NewObj,
Tcl_DecrRefCount, Tcl_IncrRefCount, Tcl_GetObjResult</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">append, index,
insert, internal representation, length, list, list object,
list type, object, object type, replace, string
representation</p>
<hr>
</body>
</html>
