<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:55 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>JOIN</title>

</head>
<body>

<h1 align="center">JOIN</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">join &minus;
relational database operator</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>join [-a</b>
<i>file_number</i> <b>| -v</b> <i>file_number</i><b>][-e</b>
<i>string</i><b>][-o</b> <i>list</i><b>][-t</b>
<i>char</i><b>] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
[-1</b> <i>field</i><b>][-2</b> <i>field</i><b>]</b>
<i>file1 file2</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>join</i>
utility shall perform an equality join on the files
<i>file1</i> and <i>file2</i>. The joined files shall be
written to the standard output.</p>

<p style="margin-left:11%; margin-top: 1em">The join field
is a field in each file on which the files are compared. The
<i>join</i> utility shall write one line in the output for
each pair of lines in <i>file1</i> and <i>file2</i> that
have identical join fields. The output line by default shall
consist of the join field, then the remaining fields from
<i>file1</i>, then the remaining fields from <i>file2</i>.
This format can be changed by using the <b>-o</b> option
(see below). The <b>-a</b> option can be used to add
unmatched lines to the output. The <b>-v</b> option can be
used to output only unmatched lines.</p>

<p style="margin-left:11%; margin-top: 1em">The files
<i>file1</i> and <i>file2</i> shall be ordered in the
collating sequence of <i>sort</i> <b>-b</b> on the fields on
which they shall be joined, by default the first in each
line. All selected output shall be written in the same
collating sequence.</p>

<p style="margin-left:11%; margin-top: 1em">The default
input field separators shall be &lt;blank&gt;s. In this
case, multiple separators shall count as one field
separator, and leading separators shall be ignored. The
default output field separator shall be a &lt;space&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">The field
separator and collating sequence can be changed by using the
<b>-t</b> option (see below).</p>

<p style="margin-left:11%; margin-top: 1em">If the same key
appears more than once in either file, all combinations of
the set of remaining fields in <i>file1</i> and the set of
remaining fields in <i>file2</i> are output in the order of
the lines encountered.</p>

<p style="margin-left:11%; margin-top: 1em">If the input
files are not in the appropriate collating sequence, the
results are unspecified.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>join</i>
utility shall conform to the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options shall be supported: <b><br>
-a&nbsp;</b> <i>file_number</i></p>

<p style="margin-left:22%; margin-top: 1em">Produce a line
for each unpairable line in file <i>file_number</i>, where
<i>file_number</i> is 1 or 2, in addition to the default
output. If both <b>-a</b>1 and <b>-a</b>2 are specified, all
unpairable lines shall be output.</p>

<p style="margin-left:11%;"><b>-e&nbsp;</b>
<i>string</i></p>

<p style="margin-left:22%;">Replace empty output fields in
the list selected by <b>-o</b> with the string
<i>string</i>.</p>

<p style="margin-left:11%;"><b>-o&nbsp;</b> <i>list</i></p>

<p style="margin-left:22%;">Construct the output line to
comprise the fields specified in <i>list</i>, each element
of which shall have one of the following two forms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="72%">


<p><i>file_number.field</i>, where <i>file_number</i> is a
file number and <i>field</i> is a decimal integer field
number</p> </td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="72%">


<p>0 (zero), representing the join field</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The elements of
<i>list</i> shall be either comma-separated or
&lt;blank&gt;-separated, as specified in Guideline 8 of the
Base Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001,
Section 12.2, Utility Syntax Guidelines. The fields
specified by <i>list</i> shall be written for all selected
output lines. Fields selected by <i>list</i> that do not
appear in the input shall be treated as empty output fields.
(See the <b>-e</b> option.) Only specifically requested
fields shall be written. The application shall ensure that
<i>list</i> is a single command line argument. <b><br>
-t&nbsp;</b> <i>char</i></p>

<p style="margin-left:22%;">Use character <i>char</i> as a
separator, for both input and output. Every appearance of
<i>char</i> in a line shall be significant. When this option
is specified, the collating sequence shall be the same as
<i>sort</i> without the <b>-b</b> option.</p>

<p style="margin-left:11%;"><b>-v&nbsp;</b>
<i>file_number</i></p>

<p style="margin-left:22%; margin-top: 1em">Instead of the
default output, produce a line only for each unpairable line
in <i>file_number</i>, where <i>file_number</i> is 1 or 2.
If both <b>-v</b>1 and <b>-v</b>2 are specified, all
unpairable lines shall be output.</p>

<p style="margin-left:11%;"><b>-1&nbsp;</b>
<i>field</i></p>

<p style="margin-left:22%;">Join on the <i>field</i>th
field of file 1. Fields are decimal integers starting with
1.</p>

<p style="margin-left:11%;"><b>-2&nbsp;</b>
<i>field</i></p>

<p style="margin-left:22%;">Join on the <i>field</i>th
field of file 2. Fields are decimal integers starting with
1.</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
operands shall be supported: <i><br>
file1</i>,&nbsp;<i>file2</i></p>

<p style="margin-left:22%;">A pathname of a file to be
joined. If either of the <i>file1</i> or <i>file2</i>
operands is <b>&rsquo;-&rsquo;</b>, the standard input shall
be used in its place.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
input shall be used only if the <i>file1</i> or <i>file2</i>
operand is <b>&rsquo;-&rsquo;</b> . See the INPUT FILES
section.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The input files
shall be text files.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>join</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_COLLATE</i></p>

<p style="margin-left:22%; margin-top: 1em">Determine the
locale of the collating sequence <i>join</i> expects to have
been used when the input files were sorted.</p>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments and input files).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>join</i>
utility output shall be a concatenation of selected
character fields. When the <b>-o</b> option is not
specified, the output shall be:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%s%s%s\n&quot;,
&lt;</b><i>join field</i><b>&gt;, &lt;</b><i>other file1
fields</i><b>&gt;, <br>
&lt;</b><i>other file2 fields</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">If the join
field is not the first field in a file, the
&lt;<i>other&nbsp;file&nbsp;fields</i>&gt; for that file
shall be:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;</b><i>fields
preceding join field</i><b>&gt;, &lt;</b><i>fields following
join field</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">When the
<b>-o</b> option is specified, the output format shall
be:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%s\n&quot;,
&lt;</b><i>concatenation of fields</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where the
concatenation of fields is described by the <b>-o</b>
option, above.</p>

<p style="margin-left:11%; margin-top: 1em">For either
format, each field (except the last) shall be written with
its trailing separator character. If the separator is the
default ( &lt;blank&gt;s), a single &lt;space&gt; shall be
written after each field (except the last).</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 0</p></td>
<td width="8%"></td>
<td width="63%">


<p>All input files were output successfully.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;0</p></td>
<td width="8%"></td>
<td width="63%">


<p>An error occurred.</p></td>
<td width="15%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Pathnames
consisting of numeric digits or of the form
<i>string.string</i> should not be specified directly
following the <b>-o</b> list.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>-o</b> 0
field essentially selects the union of the join fields. For
example, given file <b>phone</b>:</p>

<p style="margin-left:22%; margin-top: 1em"><b>!Name Phone
Number <br>
Don +1 123-456-7890 <br>
Hal +1 234-567-8901 <br>
Yasushi +2 345-678-9012</b></p>

<p style="margin-left:11%; margin-top: 1em">and file
<b>fax</b>:</p>

<p style="margin-left:22%; margin-top: 1em"><b>!Name Fax
Number <br>
Don +1 123-456-7899 <br>
Keith +1 456-789-0122 <br>
Yasushi +2 345-678-9011</b></p>

<p style="margin-left:11%; margin-top: 1em">(where the
large expanses of white space are meant to each represent a
single &lt;tab&gt;), the command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>join -t
&quot;&lt;tab&gt;&quot; -a 1 -a 2 -e &rsquo;(unknown)&rsquo;
-o 0,1.2,2.2 phone fax</b></p>

<p style="margin-left:11%; margin-top: 1em">would
produce:</p>

<p style="margin-left:22%; margin-top: 1em"><b>!Name Phone
Number Fax Number <br>
Don +1 123-456-7890 +1 123-456-7899 <br>
Hal +1 234-567-8901 (unknown) <br>
Keith (unknown) +1 456-789-0122 <br>
Yasushi +2 345-678-9012 +2 345-678-9011</b></p>

<p style="margin-left:11%; margin-top: 1em">Multiple
instances of the same key will produce combinatorial
results. The following:</p>

<p style="margin-left:22%; margin-top: 1em"><b>fa: <br>
a x <br>
a y <br>
a z <br>
fb: <br>
a p</b></p>

<p style="margin-left:11%; margin-top: 1em">will
produce:</p>

<p style="margin-left:22%; margin-top: 1em"><b>a x p <br>
a y p <br>
a z p</b></p>

<p style="margin-left:11%; margin-top: 1em">And the
following:</p>

<p style="margin-left:22%; margin-top: 1em"><b>fa: <br>
a b c <br>
a d e <br>
fb: <br>
a w x <br>
a y z <br>
a o p</b></p>

<p style="margin-left:11%; margin-top: 1em">will
produce:</p>

<p style="margin-left:22%; margin-top: 1em"><b>a b c w x
<br>
a b c y z <br>
a b c o p <br>
a d e w x <br>
a d e y z <br>
a d e o p</b></p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>-e</b>
option is only effective when used with <b>-o</b> because,
unless specific fields are identified using <b>-o</b>,
<i>join</i> is not aware of what fields might be empty. The
exception to this is the join field, but identifying an
empty join field with the <b>-e</b> string is not historical
practice and some scripts might break if this were
changed.</p>

<p style="margin-left:11%; margin-top: 1em">The 0 field in
the <b>-o</b> list was adopted from the Tenth Edition
version of <i>join</i> to satisfy international objections
that the <i>join</i> in the base documents does not support
the &quot;full join&quot; or &quot;outer join&quot;
described in relational database literature. Although it has
been possible to include a join field in the output (by
default, or by field number using <b>-o</b>), the join field
could not be included for an unpaired line selected by
<b>-a</b>. The <b>-o</b> 0 field essentially selects the
union of the join fields.</p>

<p style="margin-left:11%; margin-top: 1em">This sort of
outer join was not possible with the <i>join</i> commands in
the base documents. The <b>-o</b> 0 field was chosen because
it is an upwards-compatible change for applications. An
alternative was considered: have the join field represent
the union of the fields in the files (where they are
identical for matched lines, and one or both are null for
unmatched lines). This was not adopted because it would
break some historical applications.</p>

<p style="margin-left:11%; margin-top: 1em">The ability to
specify <i>file2</i> as <b>-</b> is not historical practice;
it was added for completeness.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-v</b>
option is not historical practice, but was considered
necessary because it permitted the writing of <i>only</i>
those lines that do not match on the join field, as opposed
to the <b>-a</b> option, which prints both lines that do and
do not match. This additional facility is parallel with the
<b>-v</b> option of <i>grep</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Some historical
implementations have been encountered where a blank line in
one of the input files was considered to be the end of the
file; the description in this volume of
IEEE&nbsp;Std&nbsp;1003.1-2001 does not cite this as an
allowable case.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>awk</i>,
<i>comm</i>, <i>sort</i>, <i>uniq</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
