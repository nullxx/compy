<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:21:02 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>form_driver</title>

</head>
<body>

<h1 align="center">form_driver</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#PORTABILITY">PORTABILITY</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>form_driver</b>
&minus; command-processing loop of the form system</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;form.h&gt;</b> <br>
int form_driver(FORM *form, int c);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Once a form has
been posted (displayed), you should funnel input events to
it through <b>form_driver</b>. This routine has three major
input cases:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The input is a form navigation request. Navigation
request codes are constants defined in
<b>&lt;form.h&gt;</b>, which are distinct from the key- and
character codes returned by <b>wgetch</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The input is a printable character. Printable characters
(which must be positive, less than 256) are checked
according to the program&rsquo;s locale settings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The input is the KEY_MOUSE special key associated with
an mouse event.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The form driver
requests are as follows: <br>
REQ_NEXT_PAGE</p>

<p style="margin-left:18%;">Move to the next page.</p>

<p style="margin-left:11%;">REQ_PREV_PAGE</p>

<p style="margin-left:18%;">Move to the previous page.</p>

<p style="margin-left:11%;">REQ_FIRST_PAGE</p>

<p style="margin-left:18%;">Move to the first page.</p>

<p style="margin-left:11%;">REQ_LAST_PAGE</p>

<p style="margin-left:18%;">Move to the last field.</p>

<p style="margin-left:11%;">REQ_NEXT_FIELD</p>

<p style="margin-left:18%;">Move to the next field.</p>

<p style="margin-left:11%;">REQ_PREV_FIELD</p>

<p style="margin-left:18%;">Move to the previous field.</p>

<p style="margin-left:11%;">REQ_FIRST_FIELD</p>

<p style="margin-left:18%;">Move to the first field.</p>

<p style="margin-left:11%;">REQ_LAST_FIELD</p>

<p style="margin-left:18%;">Move to the last field.</p>

<p style="margin-left:11%;">REQ_SNEXT_FIELD</p>

<p style="margin-left:18%;">Move to the sorted next
field.</p>

<p style="margin-left:11%;">REQ_SPREV_FIELD</p>

<p style="margin-left:18%;">Move to the sorted previous
field.</p>

<p style="margin-left:11%;">REQ_SFIRST_FIELD</p>

<p style="margin-left:18%;">Move to the sorted first
field.</p>

<p style="margin-left:11%;">REQ_SLAST_FIELD</p>

<p style="margin-left:18%;">Move to the sorted last
field.</p>

<p style="margin-left:11%;">REQ_LEFT_FIELD</p>

<p style="margin-left:18%;">Move left to a field.</p>

<p style="margin-left:11%;">REQ_RIGHT_FIELD</p>

<p style="margin-left:18%;">Move right to a field.</p>

<p style="margin-left:11%;">REQ_UP_FIELD</p>

<p style="margin-left:18%;">Move up to a field.</p>

<p style="margin-left:11%;">REQ_DOWN_FIELD</p>

<p style="margin-left:18%;">Move down to a field.</p>

<p style="margin-left:11%;">REQ_NEXT_CHAR</p>

<p style="margin-left:18%;">Move to the next char.</p>

<p style="margin-left:11%;">REQ_PREV_CHAR</p>

<p style="margin-left:18%;">Move to the previous char.</p>

<p style="margin-left:11%;">REQ_NEXT_LINE</p>

<p style="margin-left:18%;">Move to the next line.</p>

<p style="margin-left:11%;">REQ_PREV_LINE</p>

<p style="margin-left:18%;">Move to the previous line.</p>

<p style="margin-left:11%;">REQ_NEXT_WORD</p>

<p style="margin-left:18%;">Move to the next word.</p>

<p style="margin-left:11%;">REQ_PREV_WORD</p>

<p style="margin-left:18%;">Move to the previous word.</p>

<p style="margin-left:11%;">REQ_BEG_FIELD</p>

<p style="margin-left:18%;">Move to the beginning of the
field.</p>

<p style="margin-left:11%;">REQ_END_FIELD</p>

<p style="margin-left:18%;">Move to the end of the
field.</p>

<p style="margin-left:11%;">REQ_BEG_LINE</p>

<p style="margin-left:18%;">Move to the beginning of the
line.</p>

<p style="margin-left:11%;">REQ_END_LINE</p>

<p style="margin-left:18%;">Move to the end of the
line.</p>

<p style="margin-left:11%;">REQ_LEFT_CHAR</p>

<p style="margin-left:18%;">Move left in the field.</p>

<p style="margin-left:11%;">REQ_RIGHT_CHAR</p>

<p style="margin-left:18%;">Move right in the field.</p>

<p style="margin-left:11%;">REQ_UP_CHAR</p>

<p style="margin-left:18%;">Move up in the field.</p>

<p style="margin-left:11%;">REQ_DOWN_CHAR</p>

<p style="margin-left:18%;">Move down in the field.</p>

<p style="margin-left:11%;">REQ_NEW_LINE</p>

<p style="margin-left:18%;">Insert or overlay a new
line.</p>

<p style="margin-left:11%;">REQ_INS_CHAR</p>

<p style="margin-left:18%;">Insert a blank at the
cursor.</p>

<p style="margin-left:11%;">REQ_INS_LINE</p>

<p style="margin-left:18%;">Insert a blank line at the
cursor.</p>

<p style="margin-left:11%;">REQ_DEL_CHAR</p>

<p style="margin-left:18%;">Delete character at the
cursor.</p>

<p style="margin-left:11%;">REQ_DEL_PREV</p>

<p style="margin-left:18%;">Delete character before the
cursor.</p>

<p style="margin-left:11%;">REQ_DEL_LINE</p>

<p style="margin-left:18%;">Delete line at the cursor.</p>

<p style="margin-left:11%;">REQ_DEL_WORD</p>

<p style="margin-left:18%;">Delete blank-delimited word at
the cursor.</p>

<p style="margin-left:11%;">REQ_CLR_EOL</p>

<p style="margin-left:18%;">Clear to end of line from
cursor.</p>

<p style="margin-left:11%;">REQ_CLR_EOF</p>

<p style="margin-left:18%;">Clear to end of field from
cursor.</p>

<p style="margin-left:11%;">REQ_CLR_FIELD</p>

<p style="margin-left:18%;">Clear the entire field.</p>

<p style="margin-left:11%;">REQ_OVL_MODE</p>

<p style="margin-left:18%;">Enter overlay mode.</p>

<p style="margin-left:11%;">REQ_INS_MODE</p>

<p style="margin-left:18%;">Enter insert mode.</p>

<p style="margin-left:11%;">REQ_SCR_FLINE</p>

<p style="margin-left:18%;">Scroll the field forward a
line.</p>

<p style="margin-left:11%;">REQ_SCR_BLINE</p>

<p style="margin-left:18%;">Scroll the field backward a
line.</p>

<p style="margin-left:11%;">REQ_SCR_FPAGE</p>

<p style="margin-left:18%;">Scroll the field forward a
page.</p>

<p style="margin-left:11%;">REQ_SCR_BPAGE</p>

<p style="margin-left:18%;">Scroll the field backward a
page.</p>

<p style="margin-left:11%;">REQ_SCR_FHPAGE</p>

<p style="margin-left:18%;">Scroll the field forward half a
page.</p>

<p style="margin-left:11%;">REQ_SCR_BHPAGE</p>

<p style="margin-left:18%;">Scroll the field backward half
a page.</p>

<p style="margin-left:11%;">REQ_SCR_FCHAR</p>

<p style="margin-left:18%;">Scroll the field forward a
character.</p>

<p style="margin-left:11%;">REQ_SCR_BCHAR</p>

<p style="margin-left:18%;">Scroll the field backward a
character.</p>

<p style="margin-left:11%;">REQ_SCR_HFLINE</p>

<p style="margin-left:18%;">Horizontal scroll the field
forward a line.</p>

<p style="margin-left:11%;">REQ_SCR_HBLINE</p>

<p style="margin-left:18%;">Horizontal scroll the field
backward a line.</p>

<p style="margin-left:11%;">REQ_SCR_HFHALF</p>

<p style="margin-left:18%;">Horizontal scroll the field
forward half a line.</p>

<p style="margin-left:11%;">REQ_SCR_HBHALF</p>

<p style="margin-left:18%;">Horizontal scroll the field
backward half a line.</p>

<p style="margin-left:11%;">REQ_VALIDATION</p>

<p style="margin-left:18%;">Validate field.</p>

<p style="margin-left:11%;">REQ_NEXT_CHOICE</p>

<p style="margin-left:18%;">Display next field choice.</p>

<p style="margin-left:11%;">REQ_PREV_CHOICE</p>

<p style="margin-left:18%;">Display previous field
choice.</p>

<p style="margin-left:11%; margin-top: 1em">If the second
argument is a printable character, the driver places it in
the current position in the current field. If it is one of
the forms requests listed above, that request is
executed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>MOUSE
HANDLING</b> <br>
If the second argument is the KEY_MOUSE special key, the
associated mouse event is translated into one of the above
pre-defined requests. Currently only clicks in the user
window (e.g., inside the form display area or the decoration
window) are handled.</p>

<p style="margin-left:11%; margin-top: 1em">If you click
above the display region of the form:</p>

<p style="margin-left:15%;">a REQ_PREV_FIELD is generated
for a single click, <br>
a REQ_PREV_PAGE is generated for a double-click and <br>
a REQ_FIRST_FIELD is generated for a triple-click.</p>

<p style="margin-left:11%; margin-top: 1em">If you click
below the display region of the form:</p>

<p style="margin-left:15%;">a REQ_NEXT_FIELD is generated
for a single click, <br>
a REQ_NEXT_PAGE is generated for a double-click and <br>
a REQ_LAST_FIELD is generated for a triple-click.</p>

<p style="margin-left:11%; margin-top: 1em">If you click at
an field inside the display area of the form:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>the form cursor is positioned to that field.</p></td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>If you double-click a field, the form cursor is
positioned to that field and <b>E_UNKNOWN_COMMAND</b> is
returned. This return value makes sense, because a double
click usually means that an field-specific action should be
returned. It is exactly the purpose of this return value to
signal that an application specific command should be
executed.</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>If a translation into a request was done,
<b>form_driver</b> returns the result of this request.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If you clicked
outside the user window or the mouse event could not be
translated into a form request an <b>E_REQUEST_DENIED</b> is
returned.</p>


<p style="margin-left:11%; margin-top: 1em"><b>APPLICATION-DEFINED
COMMANDS</b> <br>
If the second argument is neither printable nor one of the
above pre-defined form requests, the driver assumes it is an
application-specific command and returns
<b>E_UNKNOWN_COMMAND</b>. Application-defined commands
should be defined relative to <b>MAX_COMMAND</b>, the
maximum value of these pre-defined requests.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>form_driver</b>
returns one of the following error codes:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>E_OK</b></p></td>
<td width="1%"></td>
<td width="34%">


<p style="margin-top: 1em">The routine succeeded.</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>E_BAD_ARGUMENT</b></p>

<p style="margin-left:18%;">Routine detected an incorrect
or out-of-range argument.</p>

<p style="margin-left:11%;"><b>E_BAD_STATE</b></p>

<p style="margin-left:18%;">Routine was called from an
initialization or termination function.</p>

<p style="margin-left:11%;"><b>E_NOT_POSTED</b></p>

<p style="margin-left:18%;">The form has not been
posted.</p>

<p style="margin-left:11%;"><b>E_INVALID_FIELD</b></p>

<p style="margin-left:18%;">Contents of field is
invalid.</p>

<p style="margin-left:11%;"><b>E_REQUEST_DENIED</b></p>

<p style="margin-left:18%;">The form driver could not
process the request.</p>

<p style="margin-left:11%;"><b>E_SYSTEM_ERROR</b></p>

<p style="margin-left:18%;">System error occurred (see
<b>errno</b>).</p>

<p style="margin-left:11%;"><b>E_UNKNOWN_COMMAND</b></p>

<p style="margin-left:18%;">The form driver code saw an
unknown request code.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>curses</b>(3X),
<b>form</b>(3X), <b>form_variables</b>(3X),
<b>getch</b>(3X).</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The header file
<b>&lt;form.h&gt;</b> automatically includes the header
files <b>&lt;curses.h&gt;</b>.</p>

<h2>PORTABILITY
<a name="PORTABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These routines
emulate the System V forms library. They were not supported
on Version 7 or BSD versions.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Juergen
Pfeifer. Manual pages and adaptation for new curses by Eric
S. Raymond.</p>
<hr>
</body>
</html>
