<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:06 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SIGNTOOL</title>

</head>
<body>

<h1 align="center">SIGNTOOL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#STATUS">STATUS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#THE COMMAND FILE FORMAT">THE COMMAND FILE FORMAT</a><br>
<a href="#EXTENDED EXAMPLES">EXTENDED EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#ADDITIONAL RESOURCES">ADDITIONAL RESOURCES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">signtool
&minus; Digitally sign objects and files.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>signtool</b>
[[&minus;b&nbsp;basename]]
[[&minus;c&nbsp;Compression&nbsp;Level]]
[[&minus;d&nbsp;cert&minus;dir]] [[&minus;e&nbsp;extension]]
[[&minus;f&nbsp;filename]]
[[&minus;i&nbsp;installer&nbsp;script]] [[&minus;h]]
[[&minus;H]] [[&minus;v]] [[&minus;w]]
[[&minus;G&nbsp;nickname]] [[&minus;J]]
[[&minus;j&nbsp;directory]] [&minus;k&nbsp;keyName]
[[&minus;&minus;keysize&nbsp;|&nbsp;&minus;s&nbsp;size]]
[[&minus;l]] [[&minus;L]] [[&minus;M]]
[[&minus;m&nbsp;metafile]] [[&minus;&minus;norecurse]]
[[&minus;O]] [[&minus;o]] [[&minus;&minus;outfile]]
[[&minus;p&nbsp;password]]
[[&minus;t|&minus;&minus;token&nbsp;tokenname]] [[&minus;z]]
[[&minus;X]] [[&minus;x&nbsp;name]]
[[&minus;&minus;verbose&nbsp;value]]
[[&minus;&minus;leavearc]] [[&minus;Z&nbsp;jarfile]]
[directory&minus;tree] [archive]</p></td></tr>
</table>

<h2>STATUS
<a name="STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This
documentation is still work in progress. Please contribute
to the initial review in <b><font color="#0000FF">Mozilla
NSS bug 836477</font></b>
<small><font color="#000000">[1]</font></small></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
Signing Tool, <b>signtool</b>, creates digital signatures
and uses a Java Archive (JAR) file to associate the
signatures with files in a directory. Electronic software
distribution over any network involves potential security
problems. To help address some of these problems, you can
associate digital signatures with the files in a JAR
archive. Digital signatures allow SSL&minus;enabled clients
to perform two important operations:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Confirm the identity of the individual, company, or other
entity whose digital signature is associated with the
files</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
Check whether the files have been tampered with since being
signed</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
you have a signing certificate, you can use Netscape Signing
Tool to digitally sign files and package them as a JAR file.
An object&minus;signing certificate is a special kind of
certificate that allows you to associate your digital
signature with one or more files.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">An
individual file can potentially be signed with multiple
digital signatures. For example, a commercial software
developer might sign the files that constitute a software
product to prove that the files are indeed from a particular
company. A network administrator manager might sign the same
files with an additional digital signature based on a
company&minus;generated certificate to indicate that the
product is approved for use within the company.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
significance of a digital signature is comparable to the
significance of a handwritten signature. Once you have
signed a file, it is difficult to claim later that you
didn't sign it. In some situations, a digital signature may
be considered as legally binding as a handwritten signature.
Therefore, you should take great care to ensure that you can
stand behind any file you sign and distribute.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
example, if you are a software developer, you should test
your code to make sure it is virus&minus;free before signing
it. Similarly, if you are a network administrator, you
should make sure, before signing any code, that it comes
from a reliable source and will run correctly with the
software installed on the machines to which you are
distributing it.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Before
you can use Netscape Signing Tool to sign files, you must
have an object&minus;signing certificate, which is a special
certificate whose associated private key is used to create
digital signatures. For testing purposes only, you can
create an object&minus;signing certificate with Netscape
Signing Tool 1.3. When testing is finished and you are ready
to disitribute your software, you should obtain an
object&minus;signing certificate from one of two kinds of
sources:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
An independent certificate authority (CA) that authenticates
your identity and charges you a fee. You typically get a
certificate from an independent CA if you want to sign
software that will be distributed over the
Internet.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">*
CA server software running on your corporate intranet or
extranet. Netscape Certificate Management System provides a
complete management solution for creating, deploying, and
managing certificates, including CAs that issue
object&minus;signing certificates.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">You
must also have a certificate for the CA that issues your
signing certificate before you can sign files. If the
certificate authority's certificate isn't already installed
in your copy of Communicator, you typically install it by
clicking the appropriate link on the certificate authority's
web site, for example on the page from which you initiated
enrollment for your signing certificate. This is the case
for some test certificates, as well as certificates issued
by Netscape Certificate Management System: you must download
the the CA certificate in addition to obtaining your own
signing certificate. CA certificates for several certificate
authorities are preinstalled in the Communicator certificate
database.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">When
you receive an object&minus;signing certificate for your own
use, it is automatically installed in your copy of the
Communicator client software. Communicator supports the
public&minus;key cryptography standard known as PKCS #12,
which governs key portability. You can, for example, move an
object&minus;signing certificate and its associated private
key from one computer to another on a
credit&minus;card&minus;sized device called a smart
card.</font></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;b
basename</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the base filename for the .rsa and .sf files in the
META&minus;INF directory to conform with the JAR format. For
example, <i>&minus;b signatures</i> causes the files to be
named signatures.rsa and signatures.sf. The default is
signtool.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;c#</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the compression level for the &minus;J or &minus;Z option.
The symbol # represents a number from 0 to 9, where 0 means
no compression and 9 means maximum compression. The higher
the level of compression, the smaller the output but the
longer the operation takes. If the &minus;c# option is not
used with either the &minus;J or the &minus;Z option, the
default compression value used by both the &minus;J and
&minus;Z options is 6.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;d
certdir</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
your certificate database directory; that is, the directory
in which you placed your key3.db and cert7.db files. To
specify the current directory, use &quot;&minus;d.&quot;
(including the period). The Unix version of signtool assumes
~/.netscape unless told otherwise. The NT version of
signtool always requires the use of the &minus;d option to
specify where the database files are located.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;e
extension</font></p>

<p style="margin-left:17%;"><font color="#000000">Tells
signtool to sign only files with the given extension; for
example, use &minus;e&quot;.class&quot; to sign only Java
class files. Note that with Netscape Signing Tool version
1.1 and later this option can appear multiple times on one
command line, making it possible to specify multiple file
types or classes to include.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;f
commandfile</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
a text file containing Netscape Signing Tool options and
arguments in keyword=value format. All options and arguments
can be expressed through this file. For more information
about the syntax used with this file, see &quot;Tips and
Techniques&quot;.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;G
nickname</font></p>


<p style="margin-left:17%;"><font color="#000000">Generates
a new private&minus;public key pair and corresponding
object&minus;signing certificate with the given nickname.
The newly generated keys and certificate are installed into
the key and certificate databases in the directory specified
by the &minus;d option. With the NT version of Netscape
Signing Tool, you must use the &minus;d option with the
&minus;G option. With the Unix version of Netscape Signing
Tool, omitting the &minus;d option causes the tool to
install the keys and certificate in the Communicator key and
certificate databases. If you are installing the keys and
certificate in the Communicator databases, you must exit
Communicator before using this option; otherwise, you risk
corrupting the databases. In all cases, the certificate is
also output to a file named x509.cacert, which has the
MIME&minus;type
application/x&minus;x509&minus;ca&minus;cert. Unlike
certificates normally used to sign finished code to be
distributed over a network, a test certificate created with
&minus;G is not signed by a recognized certificate
authority. Instead, it is self&minus;signed. In addition, a
single test signing certificate functions as both an
object&minus;signing certificate and a CA. When you are
using it to sign objects, it behaves like an
object&minus;signing certificate. When it is imported into
browser software such as Communicator, it behaves like an
object&minus;signing CA and cannot be used to sign objects.
The &minus;G option is available in Netscape Signing Tool
1.0 and later versions only. By default, it produces only
RSA certificates with 1024&minus;byte keys in the internal
token. However, you can use the &minus;s option specify the
required key size and the &minus;t option to specify the
token.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;i
scriptname</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the name of an installer script for SmartUpdate. This script
installs files from the JAR archive in the local system
after SmartUpdate has validated the digital signature. For
more details, see the description of &minus;m that follows.
The &minus;i option provides a straightforward way to
provide this information if you don't need to specify any
metadata other than an installer script.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;J</font></p>

<p style="margin-left:17%;"><font color="#000000">Signs a
directory of HTML files containing JavaScript and creates as
many archive files as are specified in the HTML tags. Even
if signtool creates more than one archive file, you need to
supply the key database password only once. The &minus;J
option is available only in Netscape Signing Tool 1.0 and
later versions. The &minus;J option cannot be used at the
same time as the &minus;Z option. If the &minus;c# option is
not used with the &minus;J option, the default compression
value is 6. Note that versions 1.1 and later of Netscape
Signing Tool correctly recognizes the CODEBASE attribute,
allows paths to be expressed for the CLASS and SRC
attributes instead of filenames only, processes LINK tags
and parses HTML correctly, and offers clearer error
messages.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;j
directory</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
a special JavaScript directory. This option causes the
specified directory to be signed and tags its entries as
inline JavaScript. This special type of entry does not have
to appear in the JAR file itself. Instead, it is located in
the HTML page containing the inline scripts. When you use
signtool &minus;v, these entries are displayed with the
string NOT PRESENT.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;k
key ... directory</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the nickname (key) of the certificate you want to sign with
and signs the files in the specified directory. The
directory to sign is always specified as the last
command&minus;line argument. Thus, it is possible to write
signtool &minus;k MyCert &minus;d . signdir You may have
trouble if the nickname contains a single quotation mark. To
avoid problems, escape the quotation mark using the escape
conventions for your platform. It's also possible to use the
&minus;k option without signing any files or specifying a
directory. For example, you can use it with the &minus;l
option to get detailed information about a particular
signing certificate.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;l</font></p>

<p style="margin-left:17%;"><font color="#000000">Lists
signing certificates, including issuing CAs. If any of your
certificates are expired or invalid, the list will so
specify. This option can be used with the &minus;k option to
list detailed information about a particular signing
certificate. The &minus;l option is available in Netscape
Signing Tool 1.0 and later versions only.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;L</font></p>

<p style="margin-left:17%;"><font color="#000000">Lists the
certificates in your database. An asterisk appears to the
left of the nickname for any certificate that can be used to
sign objects with signtool.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;&minus;leavearc</font></p>

<p style="margin-left:17%;"><font color="#000000">Retains
the temporary .arc (archive) directories that the &minus;J
option creates. These directories are automatically erased
by default. Retaining the temporary directories can be an
aid to debugging.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;m
metafile</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the name of a metadata control file. Metadata is signed
information attached either to the JAR archive itself or to
files within the archive. This metadata can be any ASCII
string, but is used mainly for specifying an installer
script. The metadata file contains one entry per line, each
with three fields: field #1: file specification, or + if you
want to specify global metadata (that is, metadata about the
JAR archive itself or all entries in the archive) field #2:
the name of the data you are specifying; for example:
Install&minus;Script field #3: data corresponding to the
name in field #2 For example, the &minus;i option uses the
equivalent of this line: + Install&minus;Script: script.js
This example associates a MIME type with a file: movie.qt
MIME&minus;Type: video/quicktime For information about the
way installer script information appears in the manifest
file for a JAR archive, see The JAR Format on Netscape
DevEdge.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;M</font></p>

<p style="margin-left:17%;"><font color="#000000">Lists the
PKCS #11 modules available to signtool, including smart
cards. The &minus;M option is available in Netscape Signing
Tool 1.0 and later versions only. For information on using
Netscape Signing Tool with smart cards, see &quot;Using
Netscape Signing Tool with Smart Cards&quot;. For
information on using the &minus;M option to verify
FIPS&minus;140&minus;1 validated mode, see &quot;Netscape
Signing Tool and FIPS&minus;140&minus;1&quot;.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;&minus;norecurse</font></p>

<p style="margin-left:17%;"><font color="#000000">Blocks
recursion into subdirectories when signing a directory's
contents or when parsing HTML.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;o</font></p>


<p style="margin-left:17%;"><font color="#000000">Optimizes
the archive for size. Use this only if you are signing very
large archives containing hundreds of files. This option
makes the manifest files (required by the JAR format)
considerably smaller, but they contain slightly less
information.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;&minus;outfile
outputfile</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
a file to receive redirected output from Netscape Signing
Tool.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;p
password</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
a password for the private&minus;key database. Note that the
password entered on the command line is displayed as plain
text.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;s
keysize</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
the size of the key for generated certificate. Use the
&minus;M option to find out what tokens are available. The
&minus;s option can be used with the &minus;G option
only.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;t
token</font></p>


<p style="margin-left:17%;"><font color="#000000">Specifies
which available token should generate the key and receive
the certificate. Use the &minus;M option to find out what
tokens are available. The &minus;t option can be used with
the &minus;G option only.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;v
archive</font></p>

<p style="margin-left:17%;"><font color="#000000">Displays
the contents of an archive and verifies the cryptographic
integrity of the digital signatures it contains and the
files with which they are associated. This includes checking
that the certificate for the issuer of the
object&minus;signing certificate is listed in the
certificate database, that the CA's digital signature on the
object&minus;signing certificate is valid, that the relevant
certificates have not expired, and so on.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;&minus;verbosity
value</font></p>

<p style="margin-left:17%;"><font color="#000000">Sets the
quantity of information Netscape Signing Tool generates in
operation. A value of 0 (zero) is the default and gives full
information. A value of &minus;1 suppresses most messages,
but not error messages.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;w
archive</font></p>

<p style="margin-left:17%;"><font color="#000000">Displays
the names of signers of any files in the archive.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;x
directory</font></p>

<p style="margin-left:17%;"><font color="#000000">Excludes
the specified directory from signing. Note that with
Netscape Signing Tool version 1.1 and later this option can
appear multiple times on one command line, making it
possible to specify several particular directories to
exclude.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;z</font></p>

<p style="margin-left:17%;"><font color="#000000">Tells
signtool not to store the signing time in the digital
signature. This option is useful if you want the expiration
date of the signature checked against the current date and
time rather than the time the files were signed.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">&minus;Z
jarfile</font></p>

<p style="margin-left:17%;"><font color="#000000">Creates a
JAR file with the specified name. You must specify this
option if you want signtool to create the JAR file; it does
not do so automatically. If you don't specify &minus;Z, you
must use an external ZIP tool to create the JAR file. The
&minus;Z option cannot be used at the same time as the
&minus;J option. If the &minus;c# option is not used with
the &minus;Z option, the default compression value is
6.</font></p>

<h2>THE COMMAND FILE FORMAT
<a name="THE COMMAND FILE FORMAT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Entries
in a Netscape Signing Tool command file have this general
format: keyword=value Everything before the = sign on a
single line is a keyword, and everything from the = sign to
the end of line is a value. The value may include = signs;
only the first = sign on a line is interpreted. Blank lines
are ignored, but white space on a line with keywords and
values is assumed to be part of the keyword (if it comes
before the equal sign) or part of the value (if it comes
after the first equal sign). Keywords are case insensitive,
values are generally case sensitive. Since the = sign and
newline delimit the value, it should not be
quoted.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Subsection</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">basename</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;b option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">compression</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;c option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">certdir</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;d option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">extension</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;e option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">generate</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;G option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">installscript</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;i option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">javascriptdir</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;j option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">htmldir</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;J option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">certname</font></p>

<p style="margin-left:17%;"><font color="#000000">Nickname
of certificate, as with &minus;k and &minus;l &minus;k
options.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">signdir</font></p>

<p style="margin-left:17%;"><font color="#000000">The
directory to be signed, as with &minus;k option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">list</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;l option. Value is ignored, but = sign must be
present.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">listall</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;L option. Value is ignored, but = sign must be
present.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">metafile</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;m option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">modules</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;M option. Value is ignored, but = sign must be
present.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">optimize</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;o option. Value is ignored, but = sign must be
present.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">password</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;p option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">keysize</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;s option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">token</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;t option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">verify</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;v option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">who</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;w option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">exclude</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;x option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">notime</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;z option. value is ignored, but = sign must be
present.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">jarfile</font></p>

<p style="margin-left:17%;"><font color="#000000">Same as
&minus;Z option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">outfile</font></p>

<p style="margin-left:17%;"><font color="#000000">Name of a
file to which output and error messages will be redirected.
This option has no command&minus;line equivalent.</font></p>

<h2>EXTENDED EXAMPLES
<a name="EXTENDED EXAMPLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
following example will do this and that</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Listing
Available Signing Certificates</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">You
use the &minus;L option to list the nicknames for all
available certificates and check which ones are signing
certificates.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;L</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
certificate directory: /u/jsmith/.netscape <br>
S Certificates <br>
&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
BBN Certificate Services CA Root 1 <br>
IBM World Registry CA <br>
VeriSign Class 1 CA &minus; Individual Subscriber &minus;
VeriSign, Inc. <br>
GTE CyberTrust Root CA <br>
Uptime Group Plc. Class 4 CA <br>
* Verisign Object Signing Cert <br>
Integrion CA <br>
GTE CyberTrust Secure Server CA <br>
AT&amp;T Directory Services <br>
* test object signing cert <br>
Uptime Group Plc. Class 1 CA <br>
VeriSign Class 1 Primary CA <br>
&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Certificates
that can be used to sign objects have *'s to their
left.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Two
signing certificates are displayed: Verisign Object Signing
Cert and test object signing cert.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">You
use the &minus;l option to get a list of signing
certificates only, including the signing CA for
each.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;l</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
certificate directory: /u/jsmith/.netscape <br>
Object signing certificates <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Verisign
Object Signing Cert <br>
Issued by: VeriSign, Inc. &minus; Verisign, Inc. <br>
Expires: Tue May 19, 1998 <br>
test object signing cert <br>
Issued by: test object signing cert (Signtool 1.0 Testing
<br>
Certificate (960187691)) <br>
Expires: Sun May 17, 1998 <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
a list including CAs, use the <b>&minus;L</b>
option.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Signing
a File</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">1.
Create an empty directory.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">mkdir
signdir</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">2.
Put some file into it.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">echo
boo &gt; signdir/test.f</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">3.
Specify the name of your object&minus;signing certificate
and sign the directory.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;k MySignCert &minus;Z testjar.jar signdir</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
key &quot;MySignCert&quot; <br>
using certificate directory: /u/jsmith/.netscape <br>
Generating signdir/META&minus;INF/manifest.mf file.. <br>
&minus;&minus;&gt; test.f <br>
adding signdir/test.f to testjar.jar <br>
Generating signtool.sf file.. <br>
Enter Password or Pin for &quot;Communicator Certificate
DB&quot;:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">adding
signdir/META&minus;INF/manifest.mf to testjar.jar <br>
adding signdir/META&minus;INF/signtool.sf to testjar.jar
<br>
adding signdir/META&minus;INF/signtool.rsa to
testjar.jar</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">tree
&quot;signdir&quot; signed successfully</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">4.
Test the archive you just created.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;v testjar.jar</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
certificate directory: /u/jsmith/.netscape <br>
archive &quot;testjar.jar&quot; has passed crypto
verification. <br>
status path <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
verified test.f</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Using
Netscape Signing Tool with a ZIP Utility</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
use Netscape Signing Tool with a ZIP utility, you must have
the utility in your path environment variable. You should
use the zip.exe utility rather than pkzip.exe, which cannot
handle long filenames. You can use a ZIP utility instead of
the &minus;Z option to package a signed archive into a JAR
file after you have signed it:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">cd
signdir</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">zip
&minus;r ../myjar.jar * <br>
adding: META&minus;INF/ (stored 0%) <br>
adding: META&minus;INF/manifest.mf (deflated 15%) <br>
adding: META&minus;INF/signtool.sf (deflated 28%) <br>
adding: META&minus;INF/signtool.rsa (stored 0%) <br>
adding: text.txt (stored 0%)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Generating
the Keys and Certificate</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
signtool option &minus;G generates a new
public&minus;private key pair and certificate. It takes the
nickname of the new certificate as an argument. The newly
generated keys and certificate are installed into the key
and certificate databases in the directory specified by the
&minus;d option. With the NT version of Netscape Signing
Tool, you must use the &minus;d option with the &minus;G
option. With the Unix version of Netscape Signing Tool,
omitting the &minus;d option causes the tool to install the
keys and certificate in the Communicator key and certificate
databases. In all cases, the certificate is also output to a
file named x509.cacert, which has the MIME&minus;type
application/x&minus;x509&minus;ca&minus;cert.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Certificates
contain standard information about the entity they identify,
such as the common name and organization name. Netscape
Signing Tool prompts you for this information when you run
the command with the &minus;G option. However, all of the
requested fields are optional for test certificates. If you
do not enter a common name, the tool provides a default
name. In the following example, the user input is in
boldface:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;G MyTestCert</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
certificate directory: /u/someuser/.netscape <br>
Enter certificate information. All fields are optional.
Acceptable <br>
characters are numbers, letters, spaces, and apostrophes.
<br>
certificate common name: Test Object Signing Certificate
<br>
organization: Netscape Communications Corp. <br>
organization unit: Server Products Division <br>
state or province: California <br>
country (must be exactly 2 characters): US <br>
username: someuser <br>
email address: someuser@netscape.com <br>
Enter Password or Pin for &quot;Communicator Certificate
DB&quot;: [Password will not echo] <br>
generated public/private key pair <br>
certificate request generated <br>
certificate has been signed <br>
certificate &quot;MyTestCert&quot; added to database <br>
Exported certificate to x509.raw and x509.cacert.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
certificate information is read from standard input.
Therefore, the information can be read from a file using the
redirection operator (&lt;) in some operating systems. To
create a file for this purpose, enter each of the seven
input fields, in order, on a separate line. Make sure there
is a newline character at the end of the last line. Then run
signtool with standard input redirected from your file as
follows:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;G MyTestCert inputfile</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
prompts show up on the screen, but the responses will be
automatically read from the file. The password will still be
read from the console unless you use the &minus;p option to
give the password on the command line.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Using
the &minus;M Option to List Smart Cards</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">You
can use the &minus;M option to list the PKCS #11 modules,
including smart cards, that are available to
signtool:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;d &quot;c:\netscape\users\jsmith&quot;
&minus;M</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
certificate directory: c:\netscape\users\username <br>
Listing of PKCS11 modules <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">


<p><font color="#000000">1. Netscape Internal PKCS #11
Module</font></p> </td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><font color="#000000">(this module is internally
loaded)</font></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><font color="#000000">slots: 2 slots attached</font></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><font color="#000000">status: loaded</font></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">


<p><font color="#000000">slot: Communicator Internal
Cryptographic Services Version 4.0</font></p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">


<p><font color="#000000">token: Communicator Generic Crypto
Svcs</font></p> </td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">


<p><font color="#000000">slot: Communicator User Private
Key and Certificate Services</font></p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">


<p><font color="#000000">token: Communicator Certificate
DB</font></p> </td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">


<p><font color="#000000">2. CryptOS</font></p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><font color="#000000">(this is an external
module)</font></p> </td></tr>
</table>

<p style="margin-left:17%;"><font color="#000000">DLL name:
core32</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">slots: 1 slots attached</font></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">status: loaded</font></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">slot: Litronic 210</font></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p><font color="#000000">token:</font></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">



<p><font color="#000000">&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Using
Netscape Signing Tool and a Smart Card to Sign
Files</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
signtool command normally takes an argument of the &minus;k
option to specify a signing certificate. To sign with a
smart card, you supply only the fully qualified name of the
certificate.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
see fully qualified certificate names when you run
Communicator, click the Security button in Navigator, then
click Yours under Certificates in the left frame. Fully
qualified names are of the format smart card:certificate,
for example &quot;MyCard:My Signing Cert&quot;. You use this
name with the &minus;k argument as follows:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;k &quot;MyCard:My Signing Cert&quot;
directory</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Verifying
FIPS Mode</b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Use
the &minus;M option to verify that you are using the
FIPS&minus;140&minus;1 module.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;d &quot;c:\netscape\users\jsmith&quot;
&minus;M</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">using
certificate directory: c:\netscape\users\jsmith <br>
Listing of PKCS11 modules <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
1. Netscape Internal PKCS #11 Module <br>
(this module is internally loaded) <br>
slots: 2 slots attached <br>
status: loaded <br>
slot: Communicator Internal Cryptographic Services Version
4.0 <br>
token: Communicator Generic Crypto Svcs <br>
slot: Communicator User Private Key and Certificate Services
<br>
token: Communicator Certificate DB <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
Unix example shows that Netscape Signing Tool is using a
FIPS&minus;140&minus;1 module:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">signtool
&minus;d &quot;c:\netscape\users\jsmith&quot; &minus;M <br>
using certificate directory: c:\netscape\users\jsmith <br>
Enter Password or Pin for &quot;Communicator Certificate
DB&quot;: [password will not echo] <br>
Listing of PKCS11 modules <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
1. Netscape Internal FIPS PKCS #11 Module <br>
(this module is internally loaded) <br>
slots: 1 slots attached <br>
status: loaded <br>
slot: Netscape Internal FIPS&minus;140&minus;1 Cryptographic
Services <br>
token: Communicator Certificate DB <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">signver
(1)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
NSS wiki has information on the new database design and how
to configure applications to use it.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
https://wiki.mozilla.org/NSS_Shared_DB_Howto</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
https://wiki.mozilla.org/NSS_Shared_DB</font></p>

<h2>ADDITIONAL RESOURCES
<a name="ADDITIONAL RESOURCES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
information about NSS and other tools related to NSS (like
JSS), check out the NSS project wiki at</font>
<b><font color="#0000FF">http://www.mozilla.org/projects/security/pki/nss/</font></b><font color="#000000">.
The NSS site relates directly to NSS code changes and
releases.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Mailing
lists:
https://lists.mozilla.org/listinfo/dev&minus;tech&minus;crypto</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">IRC:
Freenode at #dogtag&minus;pki</font></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
NSS tools were written and maintained by developers with
Netscape, Red Hat, Sun, Oracle, Mozilla, and
Google.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Authors:
Elio Maldonado &lt;emaldona@redhat.com&gt;, Deon Lackey
&lt;dlackey@redhat.com&gt;.</font></p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Licensed
under the Mozilla Public License, v. 2.0. If a copy of the
MPL was not distributed with this file, You can obtain one
at http://mozilla.org/MPL/2.0/.</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="34%">


<p style="margin-top: 1em"><font color="#000000">Mozilla
NSS bug 836477</font></p></td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://bugzilla.mozilla.org/show_bug.cgi?id=836477</font></p>
<hr>
</body>
</html>
