<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:24:32 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BRIDGE</title>

</head>
<body>

<h1 align="center">BRIDGE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#BRIDGE - COMMAND SYNTAX">BRIDGE - COMMAND SYNTAX</a><br>
<a href="#bridge link - bridge port">bridge link - bridge port</a><br>
<a href="#bridge fdb - forwarding database management">bridge fdb - forwarding database management</a><br>
<a href="#bridge mdb - multicast group database management">bridge mdb - multicast group database management</a><br>
<a href="#bridge vlan - VLAN filter list">bridge vlan - VLAN filter list</a><br>
<a href="#bridge monitor - state monitoring">bridge monitor - state monitoring</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">bridge &minus;
show / manipulate bridge addresses and devices</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:23%; margin-top: 1em"><b>bridge</b> [
<i>OPTIONS</i> ] <i>OBJECT</i> { <i>COMMAND</i> |
<b>help</b> }</p>

<p style="margin-left:23%; margin-top: 1em"><i>OBJECT</i>
:= { <b>link</b> | <b>fdb</b> | <b>mdb</b> | <b>vlan</b> |
<b>monitor</b> }</p>

<p style="margin-left:23%; margin-top: 1em"><i>OPTIONS</i>
:= { <b>&minus;V</b>[<i>ersion</i>] |
<b>&minus;s</b>[<i>tatistics</i>] |
<b>&minus;n</b>[<i>etns</i>] name }</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge link
set dev</b> <i>DEV [</i> <b>cost</b> <i>COST</i> ] [
<b>priority</b> <i>PRIO</i> ] [ <b>state</b> <i>STATE</i>] [
<b>guard</b> { <b>on</b> | <b>off</b> } ] [ <b>hairpin</b> {
<b>on</b> | <b>off</b> } ] [ <b>fastleave</b> { <b>on</b> |
<b>off</b> } ] [ <b>root_block</b> { <b>on</b> | <b>off</b>
} ] [ <b>hwmode</b> { <b>vepa</b> | <b>veb</b> } ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
link</b> [ <b>show</b> ] [ <b>dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
fdb</b> { <b>add</b> | <b>append</b> | <b>del</b> |
<b>replace</b> } <i>LLADDR</i> <b>dev</b> <i>DEV</i> {
<b>local</b> | <b>temp</b> } { <b>self</b> } { <b>router</b>
} [ <b>dst</b> <i>IPADDR</i> ] [ <b>vni</b> <i>VNI</i> ] [
<b>port</b> <i>PORT</i> ] [ <b>via</b> <i>DEVICE</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
fdb</b> [ <b>show</b> ] [ <b>dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
mdb</b> { <b>add</b> | <b>del</b> } <b>dev</b> <i>DEV</i>
<b>port</b> <i>PORT</i> <b>grp</b> <i>GROUP</i> [
<b>permanent</b> | <b>temp</b> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge mdb
show</b> [ <b>dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vlan</b> { <b>add</b> | <b>del</b> } <b>dev</b> <i>DEV</i>
<b>vid</b> <i>VID</i> [ <b>pvid</b> ] [ <b>untagged</b> ] [
<b>self</b> ] [ <b>master</b> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vlan</b> [ <b>show</b> ] [ <b>dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
monitor</b> [ <b>all</b> | <b>neigh</b> | <b>link</b> |
<b>mdb</b> ]</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;V</b>,
<b>-Version</b></p>

<p style="margin-left:22%;">print the version of the
<b>bridge</b> utility and exit.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;stats</b>, <b>&minus;statistics</b></p>

<p style="margin-left:22%;">output more information. If
this option is given multiple times, the amount of
information increases. As a rule, the information is
statistics or some time values.</p>

<p style="margin-left:11%;"><b>&minus;n</b>,
<b>&minus;net</b>, <b>&minus;netns</b> &lt;NETNS&gt;</p>

<p style="margin-left:22%;">switches <b>bridge</b> to the
specified network namespace <i>NETNS</i>. Actually it just
simplifies executing of:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip netns
exec</b> <i>NETNS</i> <b>bridge</b> [ <i>OPTIONS</i> ]
<i>OBJECT</i> { <i>COMMAND</i> | <b>help</b> }</p>

<p style="margin-left:22%; margin-top: 1em">to</p>

<p style="margin-left:22%; margin-top: 1em"><b>bridge</b>
-n[etns] <i>NETNS</i> [ <i>OPTIONS</i> ] <i>OBJECT</i> {
<i>COMMAND</i> | <b>help</b> }</p>

<h2>BRIDGE - COMMAND SYNTAX
<a name="BRIDGE - COMMAND SYNTAX"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>OBJECT</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>link</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- Bridge port.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>fdb</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- Forwarding Database entry.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>mdb</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- Multicast group database entry.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>vlan</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- VLAN filter list.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>COMMAND</i>
<br>
Specifies the action to perform on the object. The set of
possible actions depends on the object type. As a rule, it
is possible to <b>add</b>, <b>delete</b> and <b>show</b> (or
<b>list</b> ) objects, but some objects do not allow all of
these operations or have some additional commands. The
<b>help</b> command is available for all objects. It prints
out a list of available commands and argument syntax
conventions.</p>

<p style="margin-left:11%; margin-top: 1em">If no command
is given, some default command is assumed. Usually it is
<b>list</b> or, if the objects of this class cannot be
listed, <b>help</b>.</p>

<h2>bridge link - bridge port
<a name="bridge link - bridge port"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>link</b>
objects correspond to the port devices of the bridge.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands set and display port status and
bridge specific attributes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge link
set - set bridge specific attributes on a port <br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">interface name of the bridge
port</p>

<p style="margin-left:11%;"><b>cost</b> <i>COST</i></p>

<p style="margin-left:22%;">the STP path cost of the
specified port.</p>

<p style="margin-left:11%;"><b>priority</b> <i>PRIO</i></p>

<p style="margin-left:22%;">the STP port priority. The
priority value is an unsigned 8-bit quantity (number between
0 and 255). This metric is used in the designated port an
droot port selectio algorithms.</p>

<p style="margin-left:11%;"><b>state</b> <i>STATE</i></p>

<p style="margin-left:22%;">the operation state of the
port. This is primarily used by user space STP/RSTP
implementation. The following is a list of valid values:</p>

<p style="margin-left:22%; margin-top: 1em"><b>0</b> - port
is DISABLED. Make this port completely inactive.</p>

<p style="margin-left:22%; margin-top: 1em"><b>1</b> - STP
LISTENING state. Only valid if STP is enabled on the brige.
In this state the port for list for STP BPDUs and drop all
other traffic.</p>

<p style="margin-left:22%; margin-top: 1em"><b>2</b> - STP
LEARNING state. Only valid if STP is enabled on the bridge.
In this state the port will accept traffic only for the
purpose of updating MAC adress tables.</p>

<p style="margin-left:22%; margin-top: 1em"><b>3</b> - STP
FORWARDING state. Port is fully active.</p>

<p style="margin-left:22%; margin-top: 1em"><b>4</b> - STP
BLOCKING state. Only valid if STP is enabled on the bridge.
This state is used during the STP election process. In this
state, port will only process STP BPDUs.</p>

<p style="margin-left:11%;"><b>guard on</b> or <b>guard
off</b></p>

<p style="margin-left:22%;">Controls whether STP BPUDs will
be processed by the bridge port. By default, the flag is
turned off allowed BPDU processing. Turning this flag on
will cause the port to stop processing STP BPDUs.</p>

<p style="margin-left:11%;"><b>hairpin on</b> or <b>hairpin
off</b></p>

<p style="margin-left:22%;">Controls whether traffic may be
send back out of the port on which it was received. By
default, this flag is turned off and the bridge will not
forward traffic back out of the receiving port.</p>

<p style="margin-left:11%;"><b>fastleave on</b> or
<b>fastleave off</b></p>

<p style="margin-left:22%;">This flag allows the bridge to
immediately stop multicast traffic on a port that receives
IGMP Leave message. It is only used with IGMP snooping is
enabled on the bridge. By default the flag is off.</p>

<p style="margin-left:11%;"><b>root_block on</b> or
<b>root_block off</b></p>

<p style="margin-left:22%;">Controls whether a given port
is allowed to become root port or not. Only used when STP is
enabled on the bridge. By default the flag is off.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>hwmode</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Some network interface cards support HW bridge
functionality and they may be configured in different modes.
Currently support modes are:</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>vepa</b> -
Data sent between HW ports is sent on the wire to the
external switch.</p>

<p style="margin-left:22%; margin-top: 1em"><b>veb</b> -
bridging happens in hardware.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge link
show - list bridge port configuration.</b> <br>
This command displays the current bridge port configuration
and flags.</p>

<h2>bridge fdb - forwarding database management
<a name="bridge fdb - forwarding database management"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>fdb</b>
objects contain known Ethernet addresses on a link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display fdb entries, add new entries,
append entries, and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
add - add a new fdb entry</b> <br>
This command creates a new fdb entry.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>LLADDR</b></p></td>
<td width="2%"></td>
<td width="38%">


<p style="margin-top: 1em">the Ethernet MAC address.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface to which this
address is associated.</p>

<p style="margin-left:22%; margin-top: 1em"><b>self</b> -
the address is associated with a software fdb (default)</p>

<p style="margin-left:22%; margin-top: 1em"><b>router</b> -
the destination address is associated with a router. Valid
if the referenced device is a VXLAN type device and has
route shortcircuit enabled.</p>

<p style="margin-left:9%; margin-top: 1em">The next command
line parameters apply only when the specified device
<i>DEV</i> is of type VXLAN.</p>

<p style="margin-left:11%;"><b>dst</b> <i>IPADDR</i></p>

<p style="margin-left:22%;">the IP address of the
destination VXLAN tunnel endpoint where the Ethernet MAC
ADDRESS resides.</p>

<p style="margin-left:11%;"><b>vni</b> <i>VNI</i></p>

<p style="margin-left:22%;">the VXLAN VNI Network
Identifier (or VXLAN Segment ID) to use to connect to the
remote VXLAN tunnel endpoint. If omitted the value specified
at vxlan device creation will be used.</p>

<p style="margin-left:11%;"><b>port</b> <i>PORT</i></p>

<p style="margin-left:22%;">the UDP destination PORT number
to use to connect to the remote VXLAN tunnel endpoint. If
omitted the default value is used.</p>

<p style="margin-left:11%;"><b>via</b> <i>DEVICE</i></p>

<p style="margin-left:22%;">device name of the outgoing
interface for the VXLAN device driver to reach the remote
VXLAN tunnel endpoint.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
append - append a forwarding database entry</b> <br>
This command adds a new fdb entry with an already known
<i>LLADDR</i>. Valid only for multicast link layer
addresses. The command adds support for broadcast and
multicast Ethernet MAC addresses. The Ethernet MAC address
is added multiple times into the forwarding database and the
vxlan device driver sends a copy of the data packet to each
entry found.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge fdb add</b>,</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
delete - delete a forwarding database entry</b> <br>
This command removes an existing fdb entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge fdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
replace - replace a forwarding database entry</b> <br>
This command replaces an already present fdb entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge fdb add</b>,</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
show - list forwarding entries.</b> <br>
This command displays the current forwarding table.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-statistics</b> option, the command becomes verbose. It
prints out the last updated and last used time for each
entry.</p>

<h2>bridge mdb - multicast group database management
<a name="bridge mdb - multicast group database management"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mdb</b>
objects contain known IP multicast group addresses on a
link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display mdb entries, add new entries,
and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
add - add a new multicast group database entry</b> <br>
This command creates a new mdb entry. <b><br>
dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface where this group
address is associated.</p>

<p style="margin-left:11%;"><b>port</b> <i>PORT</i></p>

<p style="margin-left:22%;">the port whose link is known to
have members of this multicast group.</p>

<p style="margin-left:11%;"><b>grp</b> <i>GROUP</i></p>

<p style="margin-left:22%;">the IP multicast group address
whose members reside on the link connected to the port.</p>


<p style="margin-left:22%; margin-top: 1em"><b>permanent</b>
- the mdb entry is permanent</p>

<p style="margin-left:22%; margin-top: 1em"><b>temp</b> -
the mdb entry is temporary (default)</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
delete - delete a multicast group database entry</b> <br>
This command removes an existing mdb entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge mdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
show - list multicast group database entries</b> <br>
This command displays the current multicast group membership
table. The table is populated by IGMP and MLD snooping in
the bridge driver automatically. It can be altered by
<b>bridge mdb add</b> and <b>bridge mdb del</b> commands
manually too. <b><br>
dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface only whose
entries should be listed. Default is to list all bridge
interfaces.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-details</b> option, the command becomes verbose. It
prints out the ports known to have a connected router.</p>

<h2>bridge vlan - VLAN filter list
<a name="bridge vlan - VLAN filter list"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>vlan</b>
objects contain known VLAN IDs for a link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display vlan filter entries, add new
entries, and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
add - add a new vlan filter entry</b> <br>
This command creates a new vlan filter entry. <b><br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">the interface with which this
vlan is associated.</p>

<p style="margin-left:11%;"><b>vid</b> <i>VID</i></p>

<p style="margin-left:22%;">the VLAN ID that identifies the
vlan.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>pvid</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>the vlan specified is to be considered a PVID at
ingress. Any untagged frames will be assigned to this
VLAN.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>untagged</b></p>

<p style="margin-left:22%;">the vlan specified is to be
treated as untagged on egress.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>self</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>the vlan is configured on the specified physical device.
Required if the device is the bridge device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>master</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>the vlan is configured on the software bridge
(default).</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
delete - delete a forwarding database entry</b> <br>
This command removes an existing fdb entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge vlan add</b>. The <b>pvid</b>
and <b>untagged</b> flags are ignored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
show - list vlan configuration.</b> <br>
This command displays the current VLAN filter table.</p>

<h2>bridge monitor - state monitoring
<a name="bridge monitor - state monitoring"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>bridge</b> utility can monitor the state of devices and
addresses continuously. This option has a slightly different
format. Namely, the <b>monitor</b> command is the first in
the command line and then the object list follows:</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge
monitor</b> [ <b>all</b> | <i>OBJECT-LIST</i> ]</p>


<p style="margin-left:11%; margin-top: 1em"><i>OBJECT-LIST</i>
is the list of object types that we want to monitor. It may
contain <b>link</b>, <b>fdb</b>, and <b>mdb</b>. If no
<b>file</b> argument is given, <b>bridge</b> opens
RTNETLINK, listens on it and dumps state changes in the
format described in previous sections.</p>

<p style="margin-left:11%; margin-top: 1em">If a file name
is given, it does not listen on RTNETLINK, but opens the
file containing RTNETLINK messages saved in binary format
and dumps them. Such a history file can be generated with
the</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This command
uses facilities added in Linux 3.0.</p>

<p style="margin-left:11%; margin-top: 1em">Although the
forwarding table is maintained on a per-bridge device basis
the bridge device is not part of the syntax. This is a
limitation of the underlying netlink neighbour message
protocol. When displaying the forwarding table, entries for
all bridges are displayed. Add/delete/modify commands
determine the underlying bridge device based on the bridge
to which the corresponding ethernet device is attached.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ip</b>(8)</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please direct
bugreports and patches to:
<b>&lt;netdev@vger.kernel.org&gt;</b></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Original
Manpage by Stephen Hemminger</p>
<hr>
</body>
</html>
