<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:43 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BATCH</title>

</head>
<body>

<h1 align="center">BATCH</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">batch &minus;
schedule commands to be executed in a batch queue</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>batch</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>batch</i> utility shall read commands from standard input
and schedule them for execution in a batch queue. It shall
be the equivalent of the command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>at -q b -m
now</b></p>

<p style="margin-left:11%; margin-top: 1em">where queue
<i>b</i> is a special <i>at</i> queue, specifically for
batch jobs. Batch jobs shall be submitted to the batch queue
with no time constraints and shall be run by the system
using algorithms, based on unspecified factors, that may
vary with each invocation of <i>batch</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Users shall be
permitted to use <i>batch</i> if their name appears in the
file <b>/usr/lib/cron/at.allow</b>. If that file does not
exist, the file <b>/usr/lib/cron/at.deny</b> shall be
checked to determine whether the user shall be denied access
to <i>batch</i>. If neither file exists, only a process with
the appropriate privileges shall be allowed to submit a job.
If only <b>at.deny</b> exists and is empty, global usage
shall be permitted. The <b>at.allow</b> and <b>at.deny</b>
files shall consist of one user name per line.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
input shall be a text file consisting of commands acceptable
to the shell command language described in <i>Shell Command
Language</i> .</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The text files
<b>/usr/lib/cron/at.allow</b> and
<b>/usr/lib/cron/at.deny</b> shall contain zero or more user
names, one per line, of users who are, respectively,
authorized or denied access to the <i>at</i> and
<i>batch</i> utilities.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>batch</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments and input files).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error and
informative messages written to standard output.</p>

<p style="margin-left:11%;"><i>LC_TIME</i></p>

<p style="margin-left:22%;">Determine the format and
contents for date and time strings written by
<i>batch</i>.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><i>SHELL</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>Determine the name of a command interpreter to be used
to invoke the at-job. If the variable is unset or null,
<i>sh</i> shall be used. If it is set to a value other than
a name for <i>sh</i>, the implementation shall do one of the
following: use that shell; use <i>sh</i>; use the login
shell from the user database; any of the preceding
accompanied by a warning diagnostic about which was
chosen.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><i>TZ</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>Determine the timezone. The job shall be submitted for
execution at the time specified by <i>timespec</i> or
<b>-t</b> <i>time</i> relative to the timezone specified by
the <i>TZ</i> variable. If <i>timespec</i> specifies a
timezone, it overrides <i>TZ</i>. If <i>timespec</i> does
not specify a timezone and <i>TZ</i> is unset or null, an
unspecified default timezone shall be used.</p></td></tr>
</table>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When standard
input is a terminal, prompts of unspecified format for each
line of the user input described in the STDIN section may be
written to standard output.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
shall be written to standard error when a job has been
successfully submitted:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;job %s
at %s\n&quot;,</b> <i>at_job_id</i><b>,
&lt;</b><i>date</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
<i>date</i> shall be equivalent in format to the output
of:</p>

<p style="margin-left:22%; margin-top: 1em"><b>date
+&quot;%a %b %e %T %Y&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">The date and
time written shall be adjusted so that they appear in the
timezone of the user (as determined by the <i>TZ</i>
variable).</p>

<p style="margin-left:11%; margin-top: 1em">Neither this,
nor warning messages concerning the selection of the command
interpreter, are considered a diagnostic that changes the
exit status.</p>

<p style="margin-left:11%; margin-top: 1em">Diagnostic
messages, if any, shall be written to standard error.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">&nbsp; 0</p></td>
<td width="8%"></td>
<td width="33%">


<p style="margin-top: 1em">Successful completion.</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;0</p></td>
<td width="8%"></td>
<td width="33%">


<p>An error occurred.</p></td>
<td width="45%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The job shall
not be scheduled.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">It may be
useful to redirect standard output within the specified
commands.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="2%"></td>
<td width="61%">


<p style="margin-top: 1em">This sequence can be used at a
terminal:</p> </td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>batch <br>
sort &lt; file &gt;outfile <br>
EOT</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">2.</p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">This sequence, which
demonstrates redirecting standard error to a pipe, is useful
in a command procedure (the sequence of output redirection
specifications is significant):</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>batch
&lt;&lt; <br>
! diff file1 file2 2&gt;&amp;1 &gt;outfile | mailx mygroup
<br>
!</b></p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Early proposals
described <i>batch</i> in a manner totally separated from
<i>at</i>, even though the historical model treated it
almost as a synonym for <i>at</i> <b>-qb</b>. A number of
features were added to list and control batch work
separately from those in <i>at</i>. Upon further reflection,
it was decided that the benefit of this did not merit the
change to the historical interface.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-m</b>
option was included on the equivalent <i>at</i> command
because it is historical practice to mail results to the
submitter, even if all job-produced output is redirected. As
explained in the RATIONALE for <i>at</i>, the <b>now</b>
keyword submits the job for immediate execution (after
scheduling delays), despite some historical systems where
<i>at</i> <b>now</b> would have been considered an
error.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>at</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
