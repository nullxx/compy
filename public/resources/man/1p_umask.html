<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:01:11 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>UMASK</title>

</head>
<body>

<h1 align="center">UMASK</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">umask &minus;
get or set the file mode creation mask</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>umask
[-S][</b><i>mask</i><b>]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>umask</i> utility shall set the file mode creation mask
of the current shell execution environment (see <i>Shell
Execution Environment</i> ) to the value specified by the
<i>mask</i> operand. This mask shall affect the initial
value of the file permission bits of subsequently created
files. If <i>umask</i> is called in a subshell or separate
utility execution environment, such as one of the
following:</p>

<p style="margin-left:22%; margin-top: 1em"><b>(umask 002)
<br>
nohup umask ... <br>
find . -exec umask ... \;</b></p>

<p style="margin-left:11%; margin-top: 1em">it shall not
affect the file mode creation mask of the caller&rsquo;s
environment.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<i>mask</i> operand is not specified, the <i>umask</i>
utility shall write to standard output the value of the
invoking process&rsquo; file mode creation mask.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>umask</i> utility shall conform to the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 12.2,
Utility Syntax Guidelines.</p>

<p style="margin-left:11%; margin-top: 1em">The following
option shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-S</b></p></td>
<td width="8%"></td>
<td width="36%">


<p>Produce symbolic output.</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The default
output style is unspecified, but shall be recognized on a
subsequent invocation of <i>umask</i> on the same system as
a <i>mask</i> operand to restore the previous file mode
creation mask.</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
operand shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><i>mask</i></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">A string specifying the new file
mode creation mask. The string is treated in the same way as
the <i>mode</i> operand described in the EXTENDED
DESCRIPTION section for <i>chmod</i>.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For a
<i>symbolic_mode</i> value, the new value of the file mode
creation mask shall be the logical complement of the file
permission bits portion of the file mode specified by the
<i>symbolic_mode</i> string.</p>

<p style="margin-left:11%; margin-top: 1em">In a
<i>symbolic_mode</i> value, the permissions <i>op</i>
characters <b>&rsquo;+&rsquo;</b> and <b>&rsquo;-&rsquo;</b>
shall be interpreted relative to the current file mode
creation mask; <b>&rsquo;+&rsquo;</b> shall cause the bits
for the indicated permissions to be cleared in the mask;
<b>&rsquo;-&rsquo;</b> shall cause the bits for the
indicated permissions to be set in the mask.</p>

<p style="margin-left:11%; margin-top: 1em">The
interpretation of <i>mode</i> values that specify file mode
bits other than the file permission bits is unspecified.</p>

<p style="margin-left:11%; margin-top: 1em">In the octal
integer form of <i>mode</i>, the specified bits are set in
the file mode creation mask.</p>

<p style="margin-left:11%; margin-top: 1em">The file mode
creation mask shall be set to the resulting numeric
value.</p>

<p style="margin-left:11%; margin-top: 1em">The default
output of a prior invocation of <i>umask</i> on the same
system with no operand also shall be recognized as a
<i>mask</i> operand.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>umask</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Provide a default value for the
internationalization variables that are unset or null. (See
the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When the
<i>mask</i> operand is not specified, the <i>umask</i>
utility shall write a message to standard output that can
later be used as a <i>umask mask</i> operand.</p>

<p style="margin-left:11%; margin-top: 1em">If <b>-S</b> is
specified, the message shall be in the following format:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;u=%s,g=%s,o=%s\n&quot;,
&lt;</b><i>owner permissions</i><b>&gt;, &lt;</b><i>group
permissions</i><b>&gt;, <br>
&lt;</b><i>other permissions</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where the three
values shall be combinations of letters from the set {
<i>r</i>, <i>w</i>, <i>x</i>}; the presence of a letter
shall indicate that the corresponding bit is clear in the
file mode creation mask.</p>

<p style="margin-left:11%; margin-top: 1em">If a
<i>mask</i> operand is specified, there shall be no output
written to standard output.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 0</p></td>
<td width="8%"></td>
<td width="78%">


<p>The file mode creation mask was successfully changed, or
no <i>mask</i> operand was supplied.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;0</p></td>
<td width="8%"></td>
<td width="78%">


<p>An error occurred.</p></td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Since
<i>umask</i> affects the current shell execution
environment, it is generally provided as a shell regular
built-in.</p>

<p style="margin-left:11%; margin-top: 1em">In contrast to
the negative permission logic provided by the file mode
creation mask and the octal number form of the <i>mask</i>
argument, the symbolic form of the <i>mask</i> argument
specifies those permissions that are left alone.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Either of the
commands:</p>

<p style="margin-left:22%; margin-top: 1em"><b>umask
a=rx,ug+w</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>umask
002</b></p>

<p style="margin-left:11%; margin-top: 1em">sets the mode
mask so that subsequently created files have their S_IWOTH
bit cleared.</p>

<p style="margin-left:11%; margin-top: 1em">After setting
the mode mask with either of the above commands, the
<i>umask</i> command can be used to write out the current
value of the mode mask:</p>

<p style="margin-left:22%; margin-top: 1em"><b>$ umask <br>
0002</b></p>

<p style="margin-left:11%; margin-top: 1em">(The output
format is unspecified, but historical implementations use
the octal integer mode format.)</p>

<p style="margin-left:22%; margin-top: 1em"><b>$ umask -S
<br>
u=rwx,g=rwx,o=rx</b></p>

<p style="margin-left:11%; margin-top: 1em">Either of these
outputs can be used as the mask operand to a subsequent
invocation of the <i>umask</i> utility.</p>

<p style="margin-left:11%; margin-top: 1em">Assuming the
mode mask is set as above, the command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>umask
g-w</b></p>

<p style="margin-left:11%; margin-top: 1em">sets the mode
mask so that subsequently created files have their S_IWGRP
and S_IWOTH bits cleared.</p>

<p style="margin-left:11%; margin-top: 1em">The
command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>umask --
-w</b></p>

<p style="margin-left:11%; margin-top: 1em">sets the mode
mask so that subsequently created files have all their write
bits cleared. Note that <i>mask</i> operands <b>-r</b>,
<b>-w</b>, <b>-x</b> or anything beginning with a hyphen,
must be preceded by <b>&quot;--&quot;</b> to keep it from
being interpreted as an option.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Since
<i>umask</i> affects the current shell execution
environment, it is generally provided as a shell regular
built-in. If it is called in a subshell or separate utility
execution environment, such as one of the following:</p>

<p style="margin-left:22%; margin-top: 1em"><b>(umask 002)
<br>
nohup umask ... <br>
find . -exec umask ... \;</b></p>

<p style="margin-left:11%; margin-top: 1em">it does not
affect the file mode creation mask of the environment of the
caller.</p>

<p style="margin-left:11%; margin-top: 1em">The description
of the historical utility was modified to allow it to use
the symbolic modes of <i>chmod</i>. The <b>-s</b> option
used in early proposals was changed to <b>-S</b> because
<b>-s</b> could be confused with a <i>symbolic_mode</i> form
of mask referring to the S_ISUID and S_ISGID bits.</p>

<p style="margin-left:11%; margin-top: 1em">The default
output style is implementation-defined to permit
implementors to provide migration to the new symbolic style
at the time most appropriate to their users. A <b>-o</b>
flag to force octal mode output was omitted because the
octal mode may not be sufficient to specify all of the
information that may be present in the file mode creation
mask when more secure file access permission checks are
implemented.</p>

<p style="margin-left:11%; margin-top: 1em">It has been
suggested that trusted systems developers might appreciate
ameliorating the requirement that the mode mask
&quot;affects&quot; the file access permissions, since it
seems access control lists might replace the mode mask to
some degree. The wording has been changed to say that it
affects the file permission bits, and it leaves the details
of the behavior of how they affect the file access
permissions to the description in the System Interfaces
volume of IEEE&nbsp;Std&nbsp;1003.1-2001.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Shell
Command Language</i>, <i>chmod</i>, the System Interfaces
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, <i>umask</i>()</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
