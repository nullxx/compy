<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:01:25 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CHMOD</title>

</head>
<body>

<h1 align="center">CHMOD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#CONFORMING TO">CONFORMING TO</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">chmod, fchmod
&minus; change permissions of a file</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;sys/stat.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
chmod(const char *</b><i>path</i><b>, mode_t</b>
<i>mode</i><b>); <br>
int fchmod(int</b> <i>fd</i><b>, mode_t</b>
<i>mode</i><b>);</b></p>

<p style="margin-left:5%; margin-top: 1em">Feature Test
Macro Requirements for glibc (see
<b>feature_test_macros</b>(7)):</p>


<p style="margin-left:11%; margin-top: 1em"><b>fchmod</b>():</p>

<p style="margin-left:17%;">_BSD_SOURCE ||
_XOPEN_SOURCE&nbsp;&gt;=&nbsp;500 ||
_XOPEN_SOURCE&nbsp;&amp;&amp;&nbsp;_XOPEN_SOURCE_EXTENDED
<br>
|| /* Since glibc 2.12: */
_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;200809L</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These system
calls change the permissions of a file. They differ only in
how the file is specified:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="2%"></td>
<td width="86%">


<p><b>chmod</b>() changes the permissions of the file
specified whose pathname is given in <i>path</i>, which is
dereferenced if it is a symbolic link.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="2%"></td>
<td width="86%">


<p><b>fchmod</b>() changes the permissions of the file
referred to by the open file descriptor <i>fd</i>.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The new file
permissions are specified in <i>mode</i>, which is a bit
mask created by ORing together zero or more of the
following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p style="margin-top: 1em"><b>S_ISUID</b> (04000)</p></td>
<td width="3%"></td>
<td width="62%">


<p style="margin-top: 1em">set-user-ID (set process
effective user ID on <b>execve</b>(2))</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_ISGID</b> (02000)</p></td>
<td width="3%"></td>
<td width="62%">


<p>set-group-ID (set process effective group ID on
<b>execve</b>(2); mandatory locking, as described in
<b>fcntl</b>(2); take a new file&rsquo;s group from parent
directory, as described in <b>chown</b>(2) and
<b>mkdir</b>(2))</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_ISVTX</b> (01000)</p></td>
<td width="3%"></td>
<td width="62%">


<p>sticky bit (restricted deletion flag, as described in
<b>unlink</b>(2))</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IRUSR</b> (00400)</p></td>
<td width="3%"></td>
<td width="62%">


<p>read by owner</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IWUSR</b> (00200)</p></td>
<td width="3%"></td>
<td width="62%">


<p>write by owner</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IXUSR</b> (00100)</p></td>
<td width="3%"></td>
<td width="62%">


<p>execute/search by owner (&quot;search&quot; applies for
directories, and means that entries within the directory can
be accessed)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IRGRP</b> (00040)</p></td>
<td width="3%"></td>
<td width="62%">


<p>read by group</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IWGRP</b> (00020)</p></td>
<td width="3%"></td>
<td width="62%">


<p>write by group</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IXGRP</b> (00010)</p></td>
<td width="3%"></td>
<td width="62%">


<p>execute/search by group</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IROTH</b> (00004)</p></td>
<td width="3%"></td>
<td width="62%">


<p>read by others</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IWOTH</b> (00002)</p></td>
<td width="3%"></td>
<td width="62%">


<p>write by others</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p><b>S_IXOTH</b> (00001)</p></td>
<td width="3%"></td>
<td width="62%">


<p>execute/search by others</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The effective
UID of the calling process must match the owner of the file,
or the process must be privileged (Linux: it must have the
<b>CAP_FOWNER</b> capability).</p>

<p style="margin-left:11%; margin-top: 1em">If the calling
process is not privileged (Linux: does not have the
<b>CAP_FSETID</b> capability), and the group of the file
does not match the effective group ID of the process or one
of its supplementary group IDs, the <b>S_ISGID</b> bit will
be turned off, but this will not cause an error to be
returned.</p>

<p style="margin-left:11%; margin-top: 1em">As a security
measure, depending on the file system, the set-user-ID and
set-group-ID execution bits may be turned off if a file is
written. (On Linux this occurs if the writing process does
not have the <b>CAP_FSETID</b> capability.) On some file
systems, only the superuser can set the sticky bit, which
may have a special meaning. For the sticky bit, and for
set-user-ID and set-group-ID bits on directories, see
<b>stat</b>(2).</p>

<p style="margin-left:11%; margin-top: 1em">On NFS file
systems, restricting the permissions will immediately
influence already open files, because the access control is
done on the server, but open files are maintained by the
client. Widening the permissions may be delayed for other
clients if attribute caching is enabled on them.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
zero is returned. On error, &minus;1 is returned, and
<i>errno</i> is set appropriately.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Depending on
the file system, other errors can be returned. The more
general errors for <b>chmod</b>() are listed below:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EACCES</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Search permission is denied on a
component of the path prefix. (See also
<b>path_resolution</b>(7).)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EFAULT</b></p></td>
<td width="2%"></td>
<td width="78%">


<p><i>path</i> points outside your accessible address
space.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EIO</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>An I/O error occurred.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ELOOP</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Too many symbolic links were encountered in resolving
<i>path</i>.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>ENAMETOOLONG</b></p>

<p style="margin-left:22%;"><i>path</i> is too long.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ENOENT</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>The file does not exist.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ENOMEM</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>Insufficient kernel memory was available.</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ENOTDIR</b></p>

<p style="margin-left:22%;">A component of the path prefix
is not a directory.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>EPERM</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>The effective UID does not match the owner of the file,
and the process is not privileged (Linux: it does not have
the <b>CAP_FOWNER</b> capability).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>EROFS</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>The named file resides on a read-only file system.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The general
errors for <b>fchmod</b>() are listed below:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>EBADF</b></p></td>
<td width="4%"></td>
<td width="55%">


<p style="margin-top: 1em">The file descriptor <i>fd</i> is
not valid.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>EIO</b></p></td>
<td width="4%"></td>
<td width="55%">


<p>See above.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>EPERM</b></p></td>
<td width="4%"></td>
<td width="55%">


<p>See above.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>EROFS</b></p></td>
<td width="4%"></td>
<td width="55%">


<p>See above.</p></td>
<td width="23%">
</td></tr>
</table>

<h2>CONFORMING TO
<a name="CONFORMING TO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">4.4BSD, SVr4,
POSIX.1-2001.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>chown</b>(2),
<b>execve</b>(2), <b>fchmodat</b>(2), <b>open</b>(2),
<b>stat</b>(2), <b>path_resolution</b>(7)</p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 3.53 of the Linux <i>man-pages</i> project.
A description of the project, and information about
reporting bugs, can be found at
http://www.kernel.org/doc/man&minus;pages/.</p>
<hr>
</body>
</html>
