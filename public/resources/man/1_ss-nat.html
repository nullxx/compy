<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:10 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SS&minus;NAT</title>

</head>
<body>

<h1 align="center">SS&minus;NAT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ss-nat &minus;
helper script to setup NAT rules for transparent proxy</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ss&minus;nat</b>
[&minus;ouUfh] [&minus;s <i>&lt;server_ip&gt;</i>] [&minus;S
<i>&lt;server_ip&gt;</i>] [&minus;l
<i>&lt;local_port&gt;</i>] [&minus;L
<i>&lt;local_port&gt;</i>] [&minus;i
<i>&lt;ip_list_file&gt;</i>] [&minus;a
<i>&lt;lan_ips&gt;</i>] [&minus;b <i>&lt;wan_ips&gt;</i>]
[&minus;w <i>&lt;wan_ips&gt;</i>] [&minus;e
<i>&lt;extra_options&gt;</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Shadowsocks&minus;libev</b>
is a lightweight and secure socks5 proxy. It is a port of
the original shadowsocks created by clowwindy.
<b>Shadowsocks&minus;libev</b> is written in pure C and
takes advantage of libev to achieve both high performance
and low resource consumption.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ss&minus;nat</b>(1)
sets up NAT rules for <b>ss&minus;redir</b>(1) to provide
traffic redirection. It requires netfilter&rsquo;s NAT
module and <b>iptables</b>(8). For more information, check
out <b>shadowsocks&minus;libev</b>(8) and the following
<i>EXAMPLE</i> section.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&minus;s
<i>&lt;server_ip&gt;</i></p>

<p style="margin-left:17%;">IP address of shadowsocks
remote server</p>

<p style="margin-left:11%; margin-top: 1em">&minus;l
<i>&lt;local_port&gt;</i></p>

<p style="margin-left:17%;">Port number of shadowsocks
local server</p>

<p style="margin-left:11%; margin-top: 1em">&minus;S
<i>&lt;server_ip&gt;</i></p>

<p style="margin-left:17%;">IP address of shadowsocks
remote UDP server</p>

<p style="margin-left:11%; margin-top: 1em">&minus;L
<i>&lt;local_port&gt;</i></p>

<p style="margin-left:17%;">Port number of shadowsocks
local UDP server</p>

<p style="margin-left:11%; margin-top: 1em">&minus;i
<i>&lt;ip_list_file&gt;</i></p>

<p style="margin-left:17%;">a file whose content is
bypassed ip list</p>

<p style="margin-left:11%; margin-top: 1em">&minus;a
<i>&lt;lan_ips&gt;</i></p>

<p style="margin-left:17%;">LAN IP of access control, need
a prefix to define access control mode</p>

<p style="margin-left:11%; margin-top: 1em">&minus;b
<i>&lt;wan_ips&gt;</i></p>

<p style="margin-left:17%;">WAN IP of will be bypassed</p>

<p style="margin-left:11%; margin-top: 1em">&minus;w
<i>&lt;wan_ips&gt;</i></p>

<p style="margin-left:17%;">WAN IP of will be forwarded</p>

<p style="margin-left:11%; margin-top: 1em">&minus;e
<i>&lt;extra_options&gt;</i></p>

<p style="margin-left:17%;">Extra options for iptables</p>

<p style="margin-left:11%; margin-top: 1em">&minus;o</p>

<p style="margin-left:17%;">Apply the rules to the OUTPUT
chain</p>

<p style="margin-left:11%; margin-top: 1em">&minus;u</p>

<p style="margin-left:17%;">Enable udprelay mode, TPROXY is
required</p>

<p style="margin-left:11%; margin-top: 1em">&minus;U</p>

<p style="margin-left:17%;">Enable udprelay mode, using
different IP and ports for TCP and UDP</p>

<p style="margin-left:11%; margin-top: 1em">&minus;f</p>

<p style="margin-left:17%;">Flush the rules</p>

<p style="margin-left:11%; margin-top: 1em">&minus;h</p>

<p style="margin-left:17%;">Show this help message and
exit</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ss&minus;nat</b>
requires <b>iptables</b>(8). Here is an example:</p>

<p style="margin-left:17%; margin-top: 1em"># Enable NAT
rules for shadowsocks, <br>
# with both TCP and UDP redirection enabled, <br>
# and applied for both PREROUTING and OUTPUT chains <br>
root@Wrt:~# ss&minus;nat &minus;s 192.168.1.100 &minus;l
1080 &minus;u &minus;o</p>

<p style="margin-left:17%; margin-top: 1em"># Disable and
flush all NAT rules for shadowsocks <br>
root@Wrt:~# ss&minus;nat &minus;f</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ss&minus;local</b>(1),
<b>ss&minus;server</b>(1), <b>ss&minus;tunnel</b>(1),
<b>ss&minus;manager</b>(1),
<b>shadowsocks&minus;libev</b>(8), <b>iptables</b>(8),
/etc/shadowsocks&minus;libev/config.json</p>
<hr>
</body>
</html>
