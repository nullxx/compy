<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:01:09 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TEST</title>

</head>
<body>

<h1 align="center">TEST</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">test &minus;
evaluate expression</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>test
[</b><i>expression</i><b>]</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>[
[</b><i>expression</i><b>] ]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>test</i>
utility shall evaluate the <i>expression</i> and indicate
the result of the evaluation by its exit status. An exit
status of zero indicates that the expression evaluated as
true and an exit status of 1 indicates that the expression
evaluated as false.</p>

<p style="margin-left:11%; margin-top: 1em">In the second
form of the utility, which uses <b>&quot;[]&quot;</b> rather
than <i>test</i>, the application shall ensure that the
square brackets are separate arguments.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>test</i>
utility shall not recognize the <b>&quot;--&quot;</b>
argument in the manner specified by guideline 10 in the Base
Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001,
Section 12.2, Utility Syntax Guidelines.</p>

<p style="margin-left:11%; margin-top: 1em">No options
shall be supported.</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The application
shall ensure that all operators and elements of primaries
are presented as separate arguments to the <i>test</i>
utility.</p>

<p style="margin-left:11%; margin-top: 1em">The following
primaries can be used to construct <i>expression</i>:
<b><br>
-b&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a block special file.</p>

<p style="margin-left:11%;"><b>-c&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a character special file.</p>

<p style="margin-left:11%;"><b>-d&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a directory.</p>

<p style="margin-left:11%;"><b>-e&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists.</p>

<p style="margin-left:11%;"><b>-f&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a regular file.</p>

<p style="margin-left:11%;"><b>-g&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
its set-group-ID flag is set.</p>

<p style="margin-left:11%;"><b>-h&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a symbolic link.</p>

<p style="margin-left:11%;"><b>-L&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a symbolic link.</p>

<p style="margin-left:11%;"><b>-n&nbsp;</b>
<i>string</i></p>

<p style="margin-left:22%;">True if the length of
<i>string</i> is non-zero.</p>

<p style="margin-left:11%;"><b>-p&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> is a
FIFO.</p>

<p style="margin-left:11%;"><b>-r&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is readable. True shall indicate that permission to read
from <i>file</i> will be granted, as defined in <i>File
Read, Write, and Creation</i> .</p>

<p style="margin-left:11%;"><b>-S&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is a socket.</p>

<p style="margin-left:11%;"><b>-s&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
has a size greater than zero.</p>

<p style="margin-left:11%;"><b>-t&nbsp;</b>
<i>file_descriptor</i></p>

<p style="margin-left:22%; margin-top: 1em">True if the
file whose file descriptor number is <i>file_descriptor</i>
is open and is associated with a terminal.</p>

<p style="margin-left:11%;"><b>-u&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
its set-user-ID flag is set.</p>

<p style="margin-left:11%;"><b>-w&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is writable. True shall indicate that permission to write
from <i>file</i> will be granted, as defined in <i>File
Read, Write, and Creation</i> .</p>

<p style="margin-left:11%;"><b>-x&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is executable. True shall indicate that permission to
execute <i>file</i> will be granted, as defined in <i>File
Read, Write, and Creation</i> . If <i>file</i> is a
directory, true shall indicate that permission to search
<i>file</i> will be granted.</p>

<p style="margin-left:11%;"><b>-z&nbsp;</b>
<i>string</i></p>

<p style="margin-left:22%;">True if the length of string
<i>string</i> is zero.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>string</i></p></td>
<td width="2%"></td>
<td width="75%">


<p>True if the string <i>string</i> is not the null
string.</p> </td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:11%;"><i>s1&nbsp;</i><b>=&nbsp;</b>
<i>s2</i></p>

<p style="margin-left:22%;">True if the strings <i>s1</i>
and <i>s2</i> are identical.</p>

<p style="margin-left:11%;"><i>s1&nbsp;</i><b>!=&nbsp;</b>
<i>s2</i></p>

<p style="margin-left:22%;">True if the strings <i>s1</i>
and <i>s2</i> are not identical.</p>


<p style="margin-left:11%;"><i>n1&nbsp;</i><b>-eq&nbsp;</b>
<i>n2</i></p>

<p style="margin-left:22%;">True if the integers <i>n1</i>
and <i>n2</i> are algebraically equal.</p>


<p style="margin-left:11%;"><i>n1&nbsp;</i><b>-ne&nbsp;</b>
<i>n2</i></p>

<p style="margin-left:22%;">True if the integers <i>n1</i>
and <i>n2</i> are not algebraically equal.</p>


<p style="margin-left:11%;"><i>n1&nbsp;</i><b>-gt&nbsp;</b>
<i>n2</i></p>

<p style="margin-left:22%;">True if the integer <i>n1</i>
is algebraically greater than the integer <i>n2</i>.</p>


<p style="margin-left:11%;"><i>n1&nbsp;</i><b>-ge&nbsp;</b>
<i>n2</i></p>

<p style="margin-left:22%;">True if the integer <i>n1</i>
is algebraically greater than or equal to the integer
<i>n2</i>.</p>


<p style="margin-left:11%;"><i>n1&nbsp;</i><b>-lt&nbsp;</b>
<i>n2</i></p>

<p style="margin-left:22%;">True if the integer <i>n1</i>
is algebraically less than the integer <i>n2</i>.</p>


<p style="margin-left:11%;"><i>n1&nbsp;</i><b>-le&nbsp;</b>
<i>n2</i></p>

<p style="margin-left:22%;">True if the integer <i>n1</i>
is algebraically less than or equal to the integer
<i>n2</i>.</p>


<p style="margin-left:11%;"><i>expression1&nbsp;</i><b>-a&nbsp;</b>
<i>expression2</i></p>

<p style="margin-left:22%; margin-top: 1em">True if both
<i>expression1</i> and <i>expression2</i> are true. The
<b>-a</b> binary primary is left associative. It has a
higher precedence than <b>-o</b>.</p>


<p style="margin-left:11%;"><i>expression1&nbsp;</i><b>-o&nbsp;</b>
<i>expression2</i></p>

<p style="margin-left:22%; margin-top: 1em">True if either
<i>expression1</i> or <i>expression2</i> is true. The
<b>-o</b> binary primary is left associative.</p>

<p style="margin-left:11%; margin-top: 1em">With the
exception of the <b>-h</b> <i>file</i> and <b>-L</b>
<i>file</i> primaries, if a <i>file</i> argument is a
symbolic link, <i>test</i> shall evaluate the expression by
resolving the symbolic link and using the file referenced by
the link.</p>

<p style="margin-left:11%; margin-top: 1em">These primaries
can be combined with the following operators: <b><br>
!&nbsp;</b> <i>expression</i></p>

<p style="margin-left:22%;">True if <i>expression</i> is
false.</p>

<p style="margin-left:11%;"><b>(&nbsp;</b>
<i>expression&nbsp;</i> <b>)</b></p>

<p style="margin-left:22%;">True if <i>expression</i> is
true. The parentheses can be used to alter the normal
precedence and associativity.</p>

<p style="margin-left:11%; margin-top: 1em">The primaries
with two elements of the form:</p>


<p style="margin-left:22%; margin-top: 1em"><b>-</b><i>primary_operator
primary_operand</i></p>

<p style="margin-left:11%; margin-top: 1em">are known as
<i>unary primaries</i>. The primaries with three elements in
either of the two forms:</p>


<p style="margin-left:22%; margin-top: 1em"><i>primary_operand</i>
<b>-</b><i>primary_operator primary_operand</i></p>


<p style="margin-left:22%; margin-top: 1em"><i>primary_operand
primary_operator primary_operand</i></p>

<p style="margin-left:11%; margin-top: 1em">are known as
<i>binary primaries</i>. Additional implementation-defined
operators and <i>primary_operator</i>s may be provided by
implementations. They shall be of the form - <i>operator</i>
where the first character of <i>operator</i> is not a
digit.</p>

<p style="margin-left:11%; margin-top: 1em">The algorithm
for determining the precedence of the operators and the
return value that shall be generated is based on the number
of arguments presented to <i>test</i>. (However, when using
the <b>&quot;[...]&quot;</b> form, the right-bracket final
argument shall not be counted in this algorithm.)</p>

<p style="margin-left:11%; margin-top: 1em">In the
following list, $1, $2, $3, and $4 represent the arguments
presented to <i>test</i>: <br>
0&nbsp;arguments:</p>

<p style="margin-left:22%;">Exit false (1).</p>

<p style="margin-left:11%;">1&nbsp;argument:</p>

<p style="margin-left:22%;">Exit true (0) if $1 is not
null; otherwise, exit false.</p>

<p style="margin-left:11%;">2&nbsp;arguments:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $1 is <b>&rsquo;!&rsquo;</b>, exit true if $2 is
null, false if $2 is not null.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $1 is a unary primary, exit true if the unary test is
true, false if the unary test is false.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>Otherwise, produce unspecified results.</p></td></tr>
</table>

<p style="margin-left:11%;">3&nbsp;arguments:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $2 is a binary primary, perform the binary test of $1
and $3.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $1 is <b>&rsquo;!&rsquo;</b>, negate the two-argument
test of $2 and $3.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $1 is <b>&rsquo;(&rsquo;</b> and $3 is
<b>&rsquo;)&rsquo;</b>, perform the unary test of $2.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>Otherwise, produce unspecified results.</p></td></tr>
</table>

<p style="margin-left:11%;">4&nbsp;arguments:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $1 is <b>&rsquo;!&rsquo;</b>, negate the
three-argument test of $2, $3, and $4.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>If $1 is <b>&rsquo;(&rsquo;</b> and $4 is
<b>&rsquo;)&rsquo;</b>, perform the two-argument test of $2
and $3.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="74%">


<p>Otherwise, the results are unspecified.</p></td></tr>
</table>

<p style="margin-left:11%;">&gt;4&nbsp;arguments:</p>

<p style="margin-left:22%;">The results are
unspecified.</p>

<p style="margin-left:11%; margin-top: 1em">On
XSI-conformant systems, combinations of primaries and
operators shall be evaluated using the precedence and
associativity rules described previously. In addition, the
string comparison binary primaries <b>&rsquo;=&rsquo;</b>
and <b>&quot;!=&quot;</b> shall have a higher precedence
than any unary primary.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>test</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 0</p></td>
<td width="8%"></td>
<td width="78%">


<p><i>expression</i> evaluated to true.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 1</p></td>
<td width="8%"></td>
<td width="78%">


<p><i>expression</i> evaluated to false or
<i>expression</i> was missing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;1</p></td>
<td width="8%"></td>
<td width="78%">


<p>An error occurred.</p></td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Scripts should
be careful when dealing with user-supplied input that could
be confused with primaries and operators. Unless the
application writer knows all the cases that produce input to
the script, invocations like:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;$1&quot; -a &quot;$2&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">should be
written as:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;$1&quot; &amp;&amp; test &quot;$2&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">to avoid
problems if a user supplied values such as $1 set to
<b>&rsquo;!&rsquo;</b> and $2 set to the null string. That
is, in cases where maximal portability is of concern,
replace:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test expr1
-a expr2</b></p>

<p style="margin-left:11%; margin-top: 1em">with:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test expr1
&amp;&amp; test expr2</b></p>

<p style="margin-left:11%; margin-top: 1em">and
replace:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test expr1
-o expr2</b></p>

<p style="margin-left:11%; margin-top: 1em">with:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test expr1
|| test expr2</b></p>

<p style="margin-left:11%; margin-top: 1em">but note that,
in <i>test</i>, <b>-a</b> has higher precedence than
<b>-o</b> while <b>&quot;&amp;&amp;&quot;</b> and
<b>&quot;||&quot;</b> have equal precedence in the
shell.</p>

<p style="margin-left:11%; margin-top: 1em">Parentheses or
braces can be used in the shell command language to effect
grouping.</p>

<p style="margin-left:11%; margin-top: 1em">Parentheses
must be escaped when using <i>sh</i>; for example:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test \(
expr1 -a expr2 \) -o expr3</b></p>

<p style="margin-left:11%; margin-top: 1em">This command is
not always portable outside XSI-conformant systems. The
following form can be used instead:</p>

<p style="margin-left:22%; margin-top: 1em"><b>( test expr1
&amp;&amp; test expr2 ) || test expr3</b></p>

<p style="margin-left:11%; margin-top: 1em">The two
commands:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;$1&quot; <br>
test ! &quot;$1&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">could not be
used reliably on some historical systems. Unexpected results
would occur if such a <i>string</i> expression were used and
$1 expanded to <b>&rsquo;!&rsquo;</b>,
<b>&rsquo;(&rsquo;</b>, or a known unary primary. Better
constructs are:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test -n
&quot;$1&quot; <br>
test -z &quot;$1&quot;</b></p>

<p style="margin-left:11%;">respectively.</p>

<p style="margin-left:11%; margin-top: 1em">Historical
systems have also been unreliable given the common
construct:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;$response&quot; = &quot;expected string&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">One of the
following is a more reliable form:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;X$response&quot; = &quot;Xexpected string&quot; <br>
test &quot;expected string&quot; =
&quot;$response&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">Note that the
second form assumes that <i>expected string</i> could not be
confused with any unary primary. If <i>expected string</i>
starts with <b>&rsquo;-&rsquo;</b>, <b>&rsquo;(&rsquo;</b>,
<b>&rsquo;!&rsquo;</b>, or even <b>&rsquo;=&rsquo;</b>, the
first form should be used instead. Using the preceding rules
without the XSI marked extensions, any of the three
comparison forms is reliable, given any input. (However,
note that the strings are quoted in all cases.)</p>

<p style="margin-left:11%; margin-top: 1em">Because the
string comparison binary primaries, <b>&rsquo;=&rsquo;</b>
and <b>&quot;!=&quot;</b>, have a higher precedence than any
unary primary in the greater than 4 argument case,
unexpected results can occur if arguments are not properly
prepared. For example, in:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test -d $1
-o -d $2</b></p>

<p style="margin-left:11%; margin-top: 1em">If $1 evaluates
to a possible directory name of <b>&rsquo;=&rsquo;</b>, the
first three arguments are considered a string comparison,
which shall cause a syntax error when the second <b>-d</b>
is encountered. One of the following forms prevents this;
the second is preferred:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test \( -d
&quot;$1&quot; \) -o \( -d &quot;$2&quot; \) <br>
test -d &quot;$1&quot; || test -d &quot;$2&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">Also in the
greater than 4 argument case:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;$1&quot; = &quot;bat&quot; -a &quot;$2&quot; =
&quot;ball&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">syntax errors
occur if $1 evaluates to <b>&rsquo;(&rsquo;</b> or
<b>&rsquo;!&rsquo;</b> . One of the following forms prevents
this; the third is preferred:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test
&quot;X$1&quot; = &quot;Xbat&quot; -a &quot;X$2&quot; =
&quot;Xball&quot; <br>
test &quot;$1&quot; = &quot;bat&quot; &amp;&amp; test
&quot;$2&quot; = &quot;ball&quot; <br>
test &quot;X$1&quot; = &quot;Xbat&quot; &amp;&amp; test
&quot;X$2&quot; = &quot;Xball&quot;</b></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Exit if there are not two or
three arguments (two variations):</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>if [ $# -ne
2 -a $# -ne 3 ]; then exit 1; fi <br>
if [ $# -lt 2 -o $# -gt 3 ]; then exit 1; fi</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">2.</p></td>
<td width="2%"></td>
<td width="71%">


<p style="margin-top: 1em">Perform a <i>mkdir</i> if a
directory does not exist:</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>test ! -d
tempdir &amp;&amp; mkdir tempdir</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">3.</p></td>
<td width="2%"></td>
<td width="60%">


<p style="margin-top: 1em">Wait for a file to become
non-readable:</p> </td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>while test
-r thefile <br>
do <br>
sleep 30 <br>
done <br>
echo &rsquo;&quot;thefile&quot; is no longer
readable&rsquo;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">4.</p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Perform a command if the
argument is one of three strings (two variations):</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>if [
&quot;$1&quot; = &quot;pear&quot; ] || [ &quot;$1&quot; =
&quot;grape&quot; ] || [ &quot;$1&quot; = &quot;apple&quot;
] <br>
then</b> <i><br>
command</i> <b><br>
fi</b></p>

<p style="margin-left:17%; margin-top: 1em"><b>case
&quot;$1&quot; in <br>
pear|grape|apple)</b> <i>command</i> <b>;; <br>
esac</b></p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
KornShell-derived conditional command (double bracket
<b>[[]]</b>) was removed from the shell command language
description in an early proposal. Objections were raised
that the real problem is misuse of the <i>test</i> command (
<b>[</b>), and putting it into the shell is the wrong way to
fix the problem. Instead, proper documentation and a new
shell reserved word ( <b>!</b>) are sufficient.</p>

<p style="margin-left:11%; margin-top: 1em">Tests that
require multiple <i>test</i> operations can be done at the
shell level using individual invocations of the <i>test</i>
command and shell logicals, rather than using the
error-prone <b>-o</b> flag of <i>test</i>.</p>

<p style="margin-left:11%; margin-top: 1em">XSI-conformant
systems support more than four arguments.</p>

<p style="margin-left:11%; margin-top: 1em">XSI-conformant
systems support the combining of primaries with the
following constructs: <i><br>
expression1</i> <b>-a</b> <i>expression2</i></p>

<p style="margin-left:22%; margin-top: 1em">True if both
<i>expression1</i> and <i>expression2</i> are true.</p>

<p style="margin-left:11%;"><i>expression1</i> <b>-o</b>
<i>expression2</i></p>

<p style="margin-left:22%; margin-top: 1em">True if at
least one of <i>expression1</i> and <i>expression2</i> are
true.</p>

<p style="margin-left:11%;"><b>(</b> <i>expression</i>
<b>)</b></p>

<p style="margin-left:22%; margin-top: 1em">True if
<i>expression</i> is true.</p>

<p style="margin-left:11%; margin-top: 1em">In evaluating
these more complex combined expressions, the following
precedence rules are used:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>The unary primaries have higher precedence than the
algebraic binary primaries.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>The unary primaries have lower precedence than the
string binary primaries.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>The unary and binary primaries have higher precedence
than the unary <i>string</i> primary.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>The <b>!</b> operator has higher precedence than the
<b>-a</b> operator, and the <b>-a</b> operator has higher
precedence than the <b>-o</b> operator.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>The <b>-a</b> and <b>-o</b> operators are left
associative.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>The parentheses can be used to alter the normal
precedence and associativity.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The BSD and
System V versions of <b>-f</b> are not the same. The BSD
definition was: <b><br>
-f&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
is not a directory.</p>

<p style="margin-left:11%; margin-top: 1em">The SVID
version (true if the file exists and is a regular file) was
chosen for this volume of IEEE&nbsp;Std&nbsp;1003.1-2001
because its use is consistent with the <b>-b</b>, <b>-c</b>,
<b>-d</b>, and <b>-p</b> operands ( <i>file</i> exists and
is a specific file type).</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-e</b>
primary, possessing similar functionality to that provided
by the C shell, was added because it provides the only way
for a shell script to find out if a file exists without
trying to open the file. Since implementations are allowed
to add additional file types, a portable script cannot
use:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test -b foo
-o -c foo -o -d foo -o -f foo -o -p foo</b></p>

<p style="margin-left:11%; margin-top: 1em">to find out if
<b>foo</b> is an existing file. On historical BSD systems,
the existence of a file could be determined by:</p>

<p style="margin-left:22%; margin-top: 1em"><b>test -f foo
-o -d foo</b></p>

<p style="margin-left:11%; margin-top: 1em">but there was
no easy way to determine that an existing file was a regular
file. An early proposal used the KornShell <b>-a</b> primary
(with the same meaning), but this was changed to <b>-e</b>
because there were concerns about the high probability of
humans confusing the <b>-a</b> primary with the <b>-a</b>
binary operator.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options were not included in this volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, although they are provided
by some implementations. These operands should not be used
by new implementations for other purposes: <b><br>
-k&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> exists and
its sticky bit is set.</p>

<p style="margin-left:11%;"><b>-C&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> is a
contiguous file.</p>

<p style="margin-left:11%;"><b>-V&nbsp;</b> <i>file</i></p>

<p style="margin-left:22%;">True if <i>file</i> is a
version file.</p>

<p style="margin-left:11%; margin-top: 1em">The following
option was not included because it was undocumented in most
implementations, has been removed from some implementations
(including System V), and the functionality is provided by
the shell (see <i>Parameter Expansion</i> . <b><br>
-l&nbsp;</b> <i>string</i></p>

<p style="margin-left:22%;">The length of the string
<i>string</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-b</b>,
<b>-c</b>, <b>-g</b>, <b>-p</b>, <b>-u</b>, and <b>-x</b>
operands are derived from the SVID; historical BSD does not
provide them. The <b>-k</b> operand is derived from System
V; historical BSD does not provide it.</p>

<p style="margin-left:11%; margin-top: 1em">On historical
BSD systems, <i>test</i> <b>-w</b> <i>directory</i> always
returned false because <i>test</i> tried to open the
directory for writing, which always fails.</p>

<p style="margin-left:11%; margin-top: 1em">Some additional
primaries newly invented or from the KornShell appeared in
an early proposal as part of the conditional command (
<b>[[]]</b>): <i>s1</i> <b>&gt;</b> <i>s2</i>, <i>s1</i>
<b>&lt;</b> <i>s2</i>, <i>str</i> <b>=</b> <i>pattern</i>,
<i>str</i> <b>!=</b> <i>pattern</i>, <i>f1</i> <b>-nt</b>
<i>f2</i>, <i>f1</i> <b>-ot</b> <i>f2</i>, and <i>f1</i>
<b>-ef</b> <i>f2</i>. They were not carried forward into the
<i>test</i> utility when the conditional command was removed
from the shell because they have not been included in the
<i>test</i> utility built into historical implementations of
the <i>sh</i> utility.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-t</b>
<i>file_descriptor</i> primary is shown with a mandatory
argument because the grammar is ambiguous if it can be
omitted. Historical implementations have allowed it to be
omitted, providing a default of 1.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>File Read,
Write, and Creation</i>, <i>find</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
