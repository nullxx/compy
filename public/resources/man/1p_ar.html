<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:42 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>AR</title>

</head>
<body>

<h1 align="center">AR</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ar &minus;
create and maintain library archives</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ar
-d[-v]</b> <i>archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -m
[-v]</b> <i>archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -m
-a[-v]</b> <i>posname archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -m
-b[-v]</b> <i>posname archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -m
-i[-v]</b> <i>posname archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar
-p[-v][-s]</b><i>archive</i> <b>[</b><i>file</i>
<b>...]</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar
-q[-cv]</b> <i>archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar
-r[-cuv]</b> <i>archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -r
-a[-cuv]</b> <i>posname archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -r
-b[-cuv]</b> <i>posname archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar -r
-i[-cuv]</b> <i>posname archive file</i> <b>...</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar
-t[-v][-s]</b><i>archive</i> <b>[</b><i>file</i>
<b>...]</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ar
-x[-v][-sCT]</b><i>archive</i> <b>[</b><i>file</i>
<b>...]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>ar</i>
utility is part of the Software Development Utilities
option.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>ar</i>
utility can be used to create and maintain groups of files
combined into an archive. Once an archive has been created,
new files can be added, and existing files in an archive can
be extracted, deleted, or replaced. When an archive consists
entirely of valid object files, the implementation shall
format the archive so that it is usable as a library for
link editing (see <i>c99</i> and <i>fort77</i>). When some
of the archived files are not valid object files, the
suitability of the archive for library use is undefined. If
an archive consists entirely of printable files, the entire
archive shall be printable.</p>

<p style="margin-left:11%; margin-top: 1em">When <i>ar</i>
creates an archive, it creates administrative information
indicating whether a symbol table is present in the archive.
When there is at least one object file that <i>ar</i>
recognizes as such in the archive, an archive symbol table
shall be created in the archive and maintained by <i>ar</i>;
it is used by the link editor to search the archive.
Whenever the <i>ar</i> utility is used to create or update
the contents of such an archive, the symbol table shall be
rebuilt. The <b>-s</b> option shall force the symbol table
to be rebuilt.</p>

<p style="margin-left:11%; margin-top: 1em">All <i>file</i>
operands can be pathnames. However, files within archives
shall be named by a filename, which is the last component of
the pathname used when the file was entered into the
archive. The comparison of <i>file</i> operands to the names
of files in archives shall be performed by comparing the
last component of the operand to the name of the file in the
archive.</p>

<p style="margin-left:11%; margin-top: 1em">It is
unspecified whether multiple files in the archive may be
identically named. In the case of such files, however, each
<i>file</i> and <i>posname</i> operand shall match only the
first file in the archive having a name that is the same as
the last component of the operand.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>ar</i>
utility shall conform to the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-a</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Position new files in the archive after the file named
by the <i>posname</i> operand.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-b</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Position new files in the archive before the file named
by the <i>posname</i> operand.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-c</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Suppress the diagnostic message that is written to
standard error by default when the archive <i>archive</i> is
created.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-C</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Prevent extracted files from replacing like-named files
in the file system. This option is useful when <b>-T</b> is
also used, to prevent truncated filenames from replacing
files with the same prefix.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-d</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Delete one or more <i>file</i>s from <i>archive</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-i</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Position new files in the archive before the file in the
archive named by the <i>posname</i> operand (equivalent to
<b>-b</b>).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-m</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Move the named files in the archive. The <b>-a</b>,
<b>-b</b>, or <b>-i</b> options with the <i>posname</i>
operand indicate the position; otherwise, move the names
files in the archive to the end of the archive.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-p</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Write the contents of the <i>file</i>s in the archive
named by <i>file</i> operands from <i>archive</i> to the
standard output. If no <i>file</i> operands are specified,
the contents of all files in the archive shall be written in
the order of the archive.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-q</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Append the named files to the end of the archive. In
this case <i>ar</i> does not check whether the added files
are already in the archive. This is useful to bypass the
searching otherwise done when creating a large archive piece
by piece.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Replace or add <i>file</i>s to <i>archive</i>. If the
archive named by <i>archive</i> does not exist, a new
archive shall be created and a diagnostic message shall be
written to standard error (unless the <b>-c</b> option is
specified). If no <i>file</i>s are specified and the
<i>archive</i> exists, the results are undefined. Files that
replace existing files in the archive shall not change the
order of the archive. Files that do not replace existing
files in the archive shall be appended to the archive unless
a <b>-a</b>, <b>-b</b>, or <b>-i</b> option specifies
another position.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-s</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Force the regeneration of the archive symbol table even
if <i>ar</i> is not invoked with an option that modifies the
archive contents. This option is useful to restore the
archive symbol table after it has been stripped; see
<i>strip</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-t</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Write a table of contents of <i>archive</i> to the
standard output. The files specified by the <i>file</i>
operands shall be included in the written list. If no
<i>file</i> operands are specified, all files in
<i>archive</i> shall be included in the order of the
archive.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-T</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Allow filename truncation of extracted files whose
archive names are longer than the file system can support.
By default, extracting a file with a name that is too long
shall be an error; a diagnostic message shall be written and
the file shall not be extracted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-u</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Update older files in the archive. When used with the
<b>-r</b> option, files in the archive shall be replaced
only if the corresponding <i>file</i> has a modification
time that is at least as new as the modification time of the
file in the archive.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Give verbose output. When used with the option
characters <b>-d</b>, <b>-r</b>, or <b>-x</b>, write a
detailed file-by-file description of the archive creation
and maintenance activity, as described in the STDOUT
section.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When used with
<b>-p</b>, write the name of the file in the archive to the
standard output before writing the file in the archive
itself to the standard output, as described in the STDOUT
section.</p>

<p style="margin-left:11%; margin-top: 1em">When used with
<b>-t</b>, include a long listing of information about the
files in the archive, as described in the STDOUT
section.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-x</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Extract the files in the archive
named by the <i>file</i> operands from <i>archive</i>. The
contents of the archive shall not be changed. If no
<i>file</i> operands are given, all files in the archive
shall be extracted. The modification time of each file
extracted shall be set to the time the file is extracted
from the archive.</p></td></tr>
</table>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
operands shall be supported: <i><br>
archive</i></p>

<p style="margin-left:22%;">A pathname of the archive.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><i>file</i></p></td>
<td width="5%"></td>
<td width="78%">


<p>A pathname. Only the last component shall be used when
comparing against the names of files in the archive. If two
or more <i>file</i> operands have the same last pathname
component (basename), the results are unspecified. The
implementation&rsquo;s archive format shall not truncate
valid filenames of files added to or replaced in the
archive.</p> </td></tr>
</table>

<p style="margin-left:11%;"><i>posname</i></p>

<p style="margin-left:22%;">The name of a file in the
archive, used for relative positioning; see options
<b>-m</b> and <b>-r</b>.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The archive
named by <i>archive</i> shall be a file in the format
created by <i>ar</i> <b>-r</b>.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>ar</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments and input files).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error.</p>

<p style="margin-left:11%;"><i>LC_TIME</i></p>

<p style="margin-left:22%;">Determine the format and
content for date and time strings written by <i>ar</i>
<b>-tv</b>.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>TMPDIR</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Determine the pathname that overrides the default
directory for temporary files, if any.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>TZ</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Determine the timezone used to calculate date and time
strings written by <i>ar</i> <b>-tv</b>. If <i>TZ</i> is
unset or null, an unspecified default timezone shall be
used.</p> </td></tr>
</table>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the
<b>-d</b> option is used with the <b>-v</b> option, the
standard output format shall be:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;d -
%s\n&quot;, &lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
<i>file</i> is the operand specified on the command
line.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>-p</b> option is used with the <b>-v</b> option,
<i>ar</i> shall precede the contents of each file with:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;\n&lt;%s&gt;\n\n&quot;,
&lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
<i>file</i> is the operand specified on the command line, if
<i>file</i> operands were specified, and the name of the
file in the archive if they were not.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>-r</b> option is used with the <b>-v</b> option:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p style="margin-top: 1em">*</p></td>
<td width="1%"></td>
<td width="85%">


<p style="margin-top: 1em">If <i>file</i> is already in the
archive, the standard output format shall be:</p></td></tr>
</table>

<p style="margin-left:15%; margin-top: 1em"><b>&quot;r -
%s\n&quot;, &lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
&lt;<i>file</i>&gt; is the operand specified on the command
line.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p style="margin-top: 1em">*</p></td>
<td width="1%"></td>
<td width="85%">


<p style="margin-top: 1em">If <i>file</i> is not already in
the archive, the standard output format shall be:</p></td></tr>
</table>

<p style="margin-left:15%; margin-top: 1em"><b>&quot;a -
%s\n&quot;, &lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
&lt;<i>file</i>&gt; is the operand specified on the command
line.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>-t</b> option is used, <i>ar</i> shall write the names of
the files in the archive to the standard output in the
format:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%s\n&quot;,
&lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
<i>file</i> is the operand specified on the command line, if
<i>file</i> operands were specified, or the name of the file
in the archive if they were not.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>-t</b> option is used with the <b>-v</b> option, the
standard output format shall be:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;%s
%u/%u %u %s %d %d:%d %d %s\n&quot;, &lt;</b><i>member
mode</i><b>&gt;, &lt;</b><i>user ID</i><b>&gt;, <br>
&lt;</b><i>group ID</i><b>&gt;, &lt;</b><i>number of bytes
in member</i><b>&gt;, <br>
&lt;</b><i>abbreviated month</i><b>&gt;,
&lt;</b><i>day-of-month</i><b>&gt;,
&lt;</b><i>hour</i><b>&gt;, <br>
&lt;</b><i>minute</i><b>&gt;, &lt;</b><i>year</i><b>&gt;,
&lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">&lt;<i>file</i>&gt;</p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Shall be the operand specified
on the command line, if <i>file</i> operands were specified,
or the name of the file in the archive if they were not.</p></td></tr>
</table>


<p style="margin-left:11%;">&lt;<i>member&nbsp;mode</i>&gt;</p>

<p style="margin-left:22%; margin-top: 1em">Shall be
formatted the same as the &lt;<i>file&nbsp;mode</i>&gt;
string defined in the STDOUT section of <i>ls</i>, except
that the first character, the
&lt;<i>entry&nbsp;type</i>&gt;, is not used; the string
represents the file mode of the file in the archive at the
time it was added to or replaced in the archive.</p>

<p style="margin-left:11%; margin-top: 1em">The following
represent the last-modification time of a file when it was
most recently added to or replaced in the archive: <br>
&lt;<i>abbreviated&nbsp;month</i>&gt;</p>

<p style="margin-left:22%; margin-top: 1em">Equivalent to
the format of the <b>%b</b> conversion specification format
in <i>date</i>.</p>


<p style="margin-left:11%;">&lt;<i>day-of-month</i>&gt;</p>

<p style="margin-left:22%; margin-top: 1em">Equivalent to
the format of the <b>%e</b> conversion specification format
in <i>date</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>&lt;<i>hour</i>&gt;</p></td>
<td width="2%"></td>
<td width="78%">


<p>Equivalent to the format of the <b>%H</b> conversion
specification format in <i>date</i>.</p></td></tr>
</table>

<p style="margin-left:11%;">&lt;<i>minute</i>&gt;</p>

<p style="margin-left:22%;">Equivalent to the format of the
<b>%M</b> conversion specification format in
<i>date</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>&lt;<i>year</i>&gt;</p></td>
<td width="2%"></td>
<td width="78%">


<p>Equivalent to the format of the <b>%Y</b> conversion
specification format in <i>date</i>.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When
<i>LC_TIME</i> does not specify the POSIX locale, a
different format and order of presentation of these fields
relative to each other may be used in a format appropriate
in the specified locale.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>-x</b> option is used with the <b>-v</b> option, the
standard output format shall be:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;x -
%s\n&quot;, &lt;</b><i>file</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
<i>file</i> is the operand specified on the command line, if
<i>file</i> operands were specified, or the name of the file
in the archive if they were not.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages. The
diagnostic message about creating a new archive when
<b>-c</b> is not specified shall not modify the exit
status.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Archives are
files with unspecified formats.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">&nbsp; 0</p></td>
<td width="8%"></td>
<td width="33%">


<p style="margin-top: 1em">Successful completion.</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;0</p></td>
<td width="8%"></td>
<td width="33%">


<p>An error occurred.</p></td>
<td width="45%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The archive
format is not described. It is recognized that there are
several known <i>ar</i> formats, which are not compatible.
The <i>ar</i> utility is included, however, to allow
creation of archives that are intended for use only on one
machine. The archive is specified as a file, and it can be
moved as a file. This does allow an archive to be moved from
one machine to another machine that uses the same
implementation of <i>ar</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Utilities such
as <i>pax</i> (and its forebears <i>tar</i> and <i>cpio</i>)
also provide portable &quot;archives&quot;. This is a not a
duplication; the <i>ar</i> utility is included to provide an
interface primarily for <i>make</i> and the compilers, based
on a historical model.</p>

<p style="margin-left:11%; margin-top: 1em">In historical
implementations, the <b>-q</b> option (available on
XSI-conforming systems) is known to execute quickly because
<i>ar</i> does not check on whether the added members are
already in the archive. This is useful to bypass the
searching otherwise done when creating a large archive
piece-by-piece. These remarks may but need not remain true
for a brand new implementation of this utility; hence, these
remarks have been moved into the RATIONALE.</p>

<p style="margin-left:11%; margin-top: 1em">BSD
implementations historically required applications to
provide the <b>-s</b> option whenever the archive was
supposed to contain a symbol table. As in this volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, System V historically
creates or updates an archive symbol table whenever an
object file is removed from, added to, or updated in the
archive.</p>

<p style="margin-left:11%; margin-top: 1em">The OPERANDS
section requires what might seem to be true without
specifying it: the archive cannot truncate the filenames
below {NAME_MAX}. Some historical implementations do so,
however, causing unexpected results for the application.
Therefore, this volume of IEEE&nbsp;Std&nbsp;1003.1-2001
makes the requirement explicit to avoid
misunderstandings.</p>

<p style="margin-left:11%; margin-top: 1em">According to
the System V documentation, the options <b>-dmpqrtx</b> are
not required to begin with a hyphen ( <b>&rsquo;-&rsquo;</b>
). This volume of IEEE&nbsp;Std&nbsp;1003.1-2001 requires
that a conforming application use the leading hyphen.</p>

<p style="margin-left:11%; margin-top: 1em">The archive
format used by the 4.4 BSD implementation is documented in
this RATIONALE as an example: A file created by <i>ar</i>
begins with the &quot;magic&quot; string
<b>&quot;!&lt;arch&gt;\n&quot;</b> . The rest of the archive
is made up of objects, each of which is composed of a header
for a file, a possible filename, and the file contents. The
header is portable between machine architectures, and, if
the file contents are printable, the archive is itself
printable.</p>

<p style="margin-left:11%; margin-top: 1em">The header is
made up of six ASCII fields, followed by a two-character
trailer. The fields are the object name (16 characters), the
file last modification time (12 characters), the user and
group IDs (each 6 characters), the file mode (8 characters),
and the file size (10 characters). All numeric fields are in
decimal, except for the file mode, which is in octal.</p>

<p style="margin-left:11%; margin-top: 1em">The
modification time is the file <i>st_mtime</i> field. The
user and group IDs are the file <i>st_uid</i> and
<i>st_gid</i> fields. The file mode is the file
<i>st_mode</i> field. The file size is the file
<i>st_size</i> field. The two-byte trailer is the string
<b>&quot;&lsquo;&lt;newline&gt;&quot;</b> .</p>

<p style="margin-left:11%; margin-top: 1em">Only the name
field has any provision for overflow. If any filename is
more than 16 characters in length or contains an embedded
space, the string <b>&quot;#1/&quot;</b> followed by the
ASCII length of the name is written in the name field. The
file size (stored in the archive header) is incremented by
the length of the name. The name is then written immediately
following the archive header.</p>

<p style="margin-left:11%; margin-top: 1em">Any unused
characters in any of these fields are written as
&lt;space&gt;s. If any fields are their particular maximum
number of characters in length, there is no separation
between the fields.</p>

<p style="margin-left:11%; margin-top: 1em">Objects in the
archive are always an even number of bytes long; files that
are an odd number of bytes long are padded with a
&lt;newline&gt;, although the size in the header does not
reflect this.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>ar</i>
utility description requires that (when all its members are
valid object files) <i>ar</i> produce an object code
library, which the linkage editor can use to extract object
modules. If the linkage editor needs a symbol table to
permit random access to the archive, <i>ar</i> must provide
it; however, <i>ar</i> does not require a symbol table.</p>

<p style="margin-left:11%; margin-top: 1em">The BSD
<b>-o</b> option was omitted. It is a rare conforming
application that uses <i>ar</i> to extract object code from
a library with concern for its modification time, since this
can only be of importance to <i>make</i>. Hence, since this
functionality is not deemed important for applications
portability, the modification time of the extracted files is
set to the current time.</p>

<p style="margin-left:11%; margin-top: 1em">There is at
least one known implementation (for a small computer) that
can accommodate only object files for that system,
disallowing mixed object and other files. The ability to
handle any type of file is not only historical practice for
most implementations, but is also a reasonable
expectation.</p>

<p style="margin-left:11%; margin-top: 1em">Consideration
was given to changing the output format of <i>ar</i>
<b>-tv</b> to the same format as the output of <i>ls</i>
<b>-l</b>. This would have made parsing the output of
<i>ar</i> the same as that of <i>ls</i>. This was rejected
in part because the current <i>ar</i> format is commonly
used and changes would break historical usage. Second,
<i>ar</i> gives the user ID and group ID in numeric format
separated by a slash. Changing this to be the user name and
group name would not be correct if the archive were moved to
a machine that contained a different user database. Since
<i>ar</i> cannot know whether the archive was generated on
the same machine, it cannot tell what to report.</p>

<p style="margin-left:11%; margin-top: 1em">The text on the
<b>-ur</b> option combination is historical practice-since
one filename can easily represent two different files (for
example, <b>/a/foo</b> and <b>/b/foo</b>), it is reasonable
to replace the file in the archive even when the
modification time in the archive is identical to that in the
file system.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>c99</i>,
<i>date</i>, <i>fort77</i>, <i>pax</i>, <i>strip</i> the
Base Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001,
Chapter 13, Headers, <i>&lt;unistd.h&gt;</i> description of
{POSIX_NO_TRUNC}</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
