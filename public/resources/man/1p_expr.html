<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:52 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>EXPR</title>

</head>
<body>

<h1 align="center">EXPR</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">expr &minus;
evaluate arguments as an expression</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>expr</b>
<i>operand</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>expr</i>
utility shall evaluate an expression and write the result to
standard output.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The single
expression evaluated by <i>expr</i> shall be formed from the
operands, as described in the EXTENDED DESCRIPTION section.
The application shall ensure that each of the expression
operator symbols:</p>

<p style="margin-left:22%; margin-top: 1em"><b>( ) | &amp;
= &gt; &gt;= &lt; &lt;= != + - * / % :</b></p>

<p style="margin-left:11%; margin-top: 1em">and the symbols
<i>integer</i> and <i>string</i> in the table are provided
as separate arguments to <i>expr</i>.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>expr</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_COLLATE</i></p>

<p style="margin-left:22%; margin-top: 1em">Determine the
locale for the behavior of ranges, equivalence classes, and
multi-character collating elements within regular
expressions and by the string comparison operators.</p>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments) and the behavior of
character classes within regular expressions.</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>expr</i>
utility shall evaluate the expression and write the result,
followed by a &lt;newline&gt;, to standard output.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The formation
of the expression to be evaluated is shown in the following
table. The symbols <i>expr</i>, <i>expr1</i>, and
<i>expr2</i> represent expressions formed from
<i>integer</i> and <i>string</i> symbols and the expression
operator symbols (all separate arguments) by recursive
application of the constructs described in the table. The
expressions are listed in order of increasing precedence,
with equal-precedence operators grouped between horizontal
lines. All of the operators shall be left-associative.</p>

<p style="margin-left:11%; margin-top: 1em">&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>

<p style="margin-left:11%; margin-top: 1em"><b>Matching
Expression</b> <br>
The <b>&rsquo;:&rsquo;</b> matching operator shall compare
the string resulting from the evaluation of <i>expr1</i>
with the regular expression pattern resulting from the
evaluation of <i>expr2</i>. Regular expression syntax shall
be that defined in the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Section 9.3, Basic Regular
Expressions, except that all patterns are anchored to the
beginning of the string (that is, only sequences starting at
the first character of a string are matched by the regular
expression) and, therefore, it is unspecified whether
<b>&rsquo;^&rsquo;</b> is a special character in that
context. Usually, the matching operator shall return a
string representing the number of characters matched (
<b>&rsquo;0&rsquo;</b> on failure). Alternatively, if the
pattern contains at least one regular expression
subexpression <b>&quot;[\(...\)]&quot;</b>, the string
corresponding to <b>&quot;\1&quot;</b> shall be
returned.</p>

<p style="margin-left:11%; margin-top: 1em"><b>String
Operand</b> <br>
A string argument is an argument that cannot be identified
as an <i>integer</i> argument or as one of the expression
operator symbols shown in the OPERANDS section.</p>

<p style="margin-left:11%; margin-top: 1em">The use of
string arguments <b>length</b>, <b>substr</b>, <b>index</b>,
or <b>match</b> produces unspecified results.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 0</p></td>
<td width="8%"></td>
<td width="76%">


<p>The <i>expression</i> evaluates to neither null nor
zero.</p> </td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 1</p></td>
<td width="8%"></td>
<td width="76%">


<p>The <i>expression</i> evaluates to null or zero.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 2</p></td>
<td width="8%"></td>
<td width="76%">


<p>Invalid <i>expression</i>.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;2</p></td>
<td width="8%"></td>
<td width="76%">


<p>An error occurred.</p></td>
<td width="2%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">After argument
processing by the shell, <i>expr</i> is not required to be
able to tell the difference between an operator and an
operand except by the value. If <b>&quot;$a&quot;</b> is
<b>&rsquo;=&rsquo;</b>, the command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr $a =
&rsquo;=&rsquo;</b></p>

<p style="margin-left:11%; margin-top: 1em">looks like:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr = =
=</b></p>

<p style="margin-left:11%; margin-top: 1em">as the
arguments are passed to <i>expr</i> (and they all may be
taken as the <b>&rsquo;=&rsquo;</b> operator). The following
works reliably:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr X$a =
X=</b></p>

<p style="margin-left:11%; margin-top: 1em">Also note that
this volume of IEEE&nbsp;Std&nbsp;1003.1-2001 permits
implementations to extend utilities. The <i>expr</i> utility
permits the integer arguments to be preceded with a unary
minus. This means that an integer argument could look like
an option. Therefore, the conforming application must employ
the <b>&quot;--&quot;</b> construct of Guideline 10 of the
Base Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001,
Section 12.2, Utility Syntax Guidelines to protect its
operands if there is any chance the first operand might be a
negative integer (or any string with a leading minus).</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>expr</i>
utility has a rather difficult syntax:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p style="margin-top: 1em">*</p></td>
<td width="1%"></td>
<td width="85%">


<p style="margin-top: 1em">Many of the operators are also
shell control operators or reserved words, so they have to
be escaped on the command line.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Each part of the expression is composed of separate
arguments, so liberal usage of &lt;blank&gt;s is required.
For example:</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In many cases,
the arithmetic and string features provided as part of the
shell command language are easier to use than their
equivalents in <i>expr</i>. Newly written scripts should
avoid <i>expr</i> in favor of the new features within the
shell; see <i>Parameters and Variables</i> and <i>Arithmetic
Expansion</i> .</p>

<p style="margin-left:11%; margin-top: 1em">The following
command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>a=$(expr $a
+ 1)</b></p>

<p style="margin-left:11%; margin-top: 1em">adds 1 to the
variable <i>a</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
command, for <b>&quot;$a&quot;</b> equal to either
<b>/usr/abc/file</b> or just <b>file</b>:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr $a :
&rsquo;.*/\(.*\)&rsquo; \| $a</b></p>

<p style="margin-left:11%; margin-top: 1em">returns the
last segment of a pathname (that is, <b>file</b>).
Applications should avoid the character
<b>&rsquo;/&rsquo;</b> used alone as an argument;
<i>expr</i> may interpret it as the division operator.</p>

<p style="margin-left:11%; margin-top: 1em">The following
command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr
&quot;//$a&quot; : &rsquo;.*/\(.*\)&rsquo;</b></p>

<p style="margin-left:11%; margin-top: 1em">is a better
representation of the previous example. The addition of the
<b>&quot;//&quot;</b> characters eliminates any ambiguity
about the division operator and simplifies the whole
expression. Also note that pathnames may contain characters
contained in the <i>IFS</i> variable and should be quoted to
avoid having <b>&quot;$a&quot;</b> expand into multiple
arguments.</p>

<p style="margin-left:11%; margin-top: 1em">The following
command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr
&quot;$VAR&quot; : &rsquo;.*&rsquo;</b></p>

<p style="margin-left:11%; margin-top: 1em">returns the
number of characters in <i>VAR</i>.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In an early
proposal, EREs were used in the matching expression syntax.
This was changed to BREs to avoid breaking historical
applications.</p>

<p style="margin-left:11%; margin-top: 1em">The use of a
leading circumflex in the BRE is unspecified because many
historical implementations have treated it as a special
character, despite their system documentation. For
example:</p>

<p style="margin-left:22%; margin-top: 1em"><b>expr foo :
^foo expr ^foo : ^foo</b></p>

<p style="margin-left:11%; margin-top: 1em">return 3 and 0,
respectively, on those systems; their documentation would
imply the reverse. Thus, the anchoring condition is left
unspecified to avoid breaking historical scripts relying on
this undocumented feature.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Parameters
and Variables</i>, <i>Arithmetic Expansion</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
