<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:24:57 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>lsscsi</title>

</head>
<body>

<h1 align="center">lsscsi</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#TRANSPORTS">TRANSPORTS</a><br>
<a href="#LUNS">LUNS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">lsscsi &minus;
list SCSI devices (or hosts) and their attributes</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>lsscsi</b>
[<i>&minus;&minus;classic</i>] [<i>&minus;&minus;device</i>]
[<i>&minus;&minus;generic</i>] [<i>&minus;&minus;help</i>]
[<i>&minus;&minus;hosts</i>] [<i>&minus;&minus;kname</i>]
[<i>&minus;&minus;list</i>] [<i>&minus;&minus;lunhex</i>]
[<i>&minus;&minus;long</i>]
[<i>&minus;&minus;protection</i>]
[<i>&minus;&minus;protmode</i>]
[<i>&minus;&minus;scsi_id</i>] [<i>&minus;&minus;size</i>]
[<i>&minus;&minus;sysfsroot=PATH</i>]
[<i>&minus;&minus;transport</i>]
[<i>&minus;&minus;verbose</i>]
[<i>&minus;&minus;version</i>] [<i>&minus;&minus;wwn</i>]
[<i>H:C:T:L</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Uses
information in sysfs (Linux kernel series 2.6 and later) to
list SCSI devices (or hosts) currently attached to the
system. Options can be used to control the amount and form
of information provided for each device.</p>

<p style="margin-left:11%; margin-top: 1em">If a
<i>H:C:T:L</i> argument is given then it acts as a filter
and only devices that match it are listed. The colons
don&rsquo;t have to be present, and &rsquo;&minus;&rsquo;,
&rsquo;*&rsquo;, &rsquo;?&rsquo; or missing arguments at the
end are interpreted as wildcards. The default is
&rsquo;*:*:*:*&rsquo; which means to match everything. Any
filter string using &rsquo;*&rsquo; of &rsquo;?&rsquo;
should be surrounded by single or double quotes to stop
shell expansions. If &rsquo;&minus;&rsquo; is used as a
wildcard then the whole filter argument should be prefixed
by &rsquo;&minus;&minus; &rsquo; to tell this utility there
are no more options on the command line to be interpreted. A
leading &rsquo;[&rsquo; and trailing &rsquo;]&rsquo; are
permitted (e.g. &rsquo;[1:0:0]&rsquo; matches all LUNs on
1:0:0). May also be used to filter
<i>&minus;&minus;hosts</i> in which case only the <i>H</i>
is active and may be either a number or in the form
&quot;host&lt;n&gt;&quot; where &lt;n&gt; is a host
number.</p>

<p style="margin-left:11%; margin-top: 1em">By default in
this utility device node names (e.g. &quot;/dev/sda&quot; or
&quot;/dev/root_disk&quot;) are obtained by noting the major
and minor numbers for the listed device obtained from sysfs
(e.g. the contents of &quot;/sys/block/sda/dev&quot;) and
then looking for a match in the &quot;/dev&quot; directory.
This &quot;match by major and minor&quot; will allow devices
that have been given a different name by udev (for example)
to be correctly reported by this utility.</p>

<p style="margin-left:11%; margin-top: 1em">In some
situations it may be useful to see the device node name that
Linux would produce by default, so the
<i>&minus;&minus;kname</i> option is provided. An example of
where this may be useful is kernel error logs which tend to
report disk error messages using the disk&rsquo;s default
kernel name.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Arguments to
long options are mandatory for short options as well. The
options are arranged in alphabetical order based on the long
option name. <b><br>
&minus;c</b>, <b>&minus;&minus;classic</b></p>

<p style="margin-left:22%;">The output is similar to that
obtained from &rsquo;cat /proc/scsi/scsi&rsquo;</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;&minus;device</b></p>

<p style="margin-left:22%;">After outputting the (probable)
SCSI device name the device node major and minor numbers are
shown in brackets (e.g. &quot;/dev/sda[8:0]&quot;).</p>

<p style="margin-left:11%;"><b>&minus;g</b>,
<b>&minus;&minus;generic</b></p>

<p style="margin-left:22%;">Output the SCSI generic device
file name. Note that if the sg driver is a module it may
need to be loaded otherwise &rsquo;&minus;&rsquo; may
appear.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">Output the usage message and
exit.</p>

<p style="margin-left:11%;"><b>&minus;H</b>,
<b>&minus;&minus;hosts</b></p>

<p style="margin-left:22%;">List the SCSI hosts currently
attached to the system. If this option is not given then
SCSI devices are listed.</p>

<p style="margin-left:11%;"><b>&minus;k</b>,
<b>&minus;&minus;kname</b></p>

<p style="margin-left:22%;">Use Linux default algorithm for
naming devices (e.g. block major 8, minor 0 is
&quot;/dev/sda&quot;) rather than the &quot;match by major
and minor&quot; in the &quot;/dev&quot; directory as
discussed above.</p>

<p style="margin-left:11%;"><b>&minus;L</b>,
<b>&minus;&minus;list</b></p>

<p style="margin-left:22%;">Output additional information
in &lt;attribute_name&gt;=&lt;value&gt; pairs, one pair per
line preceded by two spaces. This option has the same effect
as &rsquo;&minus;lll&rsquo;.</p>

<p style="margin-left:11%;"><b>&minus;l</b>,
<b>&minus;&minus;long</b></p>

<p style="margin-left:22%;">Output additional information
for each SCSI device (host). Can be used multiple times for
more output in which case the shorter option form is more
convenient (e.g. &rsquo;&minus;lll&rsquo;). When used three
times (i.e. &rsquo;&minus;lll&rsquo;) outputs SCSI device
(host) attributes one per line; preceded by two spaces; in
the form
&quot;&lt;attribute_name&gt;=&lt;value&gt;&quot;.</p>

<p style="margin-left:11%;"><b>&minus;x</b>,
<b>&minus;&minus;lunhex</b></p>

<p style="margin-left:22%;">when this option is used once
the LUN in the tuple (at the start of each device line) is
shown in &quot;T10&quot; format which is up to 16
hexadecimal digits. It is prefixed by &quot;0x&quot; to
distinguish the LUN from the decimal value shown in the
absence of this option. Also hierarchal LUNs are shown with
a &quot;_&quot; character separating the levels. For example
the two level LUN: 0x0355006600000000 will appear as
0x0355_0066. If this option is given twice (e.g. using the
short form: &rsquo;&minus;xx&rsquo;) then the full 16
hexadecimal digits are shown for each LUN, prefixed by
&quot;0x&quot;.</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;&minus;protection</b></p>

<p style="margin-left:22%;">Output target (DIF) and
initiator (DIX) protection types.</p>

<p style="margin-left:11%;"><b>&minus;P</b>,
<b>&minus;&minus;protmode</b></p>

<p style="margin-left:22%;">Output effective protection
information mode for each disk device.</p>

<p style="margin-left:11%;"><b>&minus;i</b>,
<b>&minus;&minus;scsi_id</b></p>

<p style="margin-left:22%;">outputs the udev derived
matching id found in /dev/disk/by&minus;id/scsi* . This is
only for disk (and disk like) devices. If no match is found
then &quot;dm&minus;uuid&minus;mpath*&quot; and
&quot;usb*&quot; are searched in the same directory. If
there is still no match then the
/sys/class/block/&lt;disk&gt;/holders directory is searched.
The matching id is printed following the device name (e.g.
/dev/sdc) and if there is no match &quot;&minus;&quot; is
output.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;&minus;size</b></p>

<p style="margin-left:22%;">Print disk capacity in human
readable form.</p>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;&minus;transport</b></p>

<p style="margin-left:22%;">Output transport information.
This will be a target related information or, if
<i>&minus;&minus;hosts</i> is given, initiator related
information. When used without <i>&minus;&minus;list</i>, a
name or identifier (or both) are output on a single line,
usually prefixed by the type of transport. For devices this
information replaces the normal vendor, product and revision
strings. When the <i>&minus;&minus;list</i> option is also
given then additionally multiple lines of
attribute_name=value pairs are output, each indented by two
spaces. See the section on transports below.</p>

<p style="margin-left:11%;"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:22%;">outputs directory names where
information is found. Use multiple times for more
output.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">outputs version information
then exits.</p>

<p style="margin-left:11%;"><b>&minus;w</b>,
<b>&minus;&minus;wwn</b></p>

<p style="margin-left:22%;">outputs the WWN for disks
instead of manufacturer, model and revision (or instead of
transport information). The World Wide Name (WWN) is
typically 64 bits long (16 hex digits) but could be up to
128 bits long. To indicate the WWN is hexadecimal, it is
prefixed by &quot;0x&quot;.</p>

<p style="margin-left:11%;"><b>&minus;y</b>,
<b>&minus;&minus;sysfsroot</b>=<i>PATH</i></p>

<p style="margin-left:22%;">assumes sysfs is mounted at
PATH instead of the default &rsquo;/sys&rsquo; . If this
option is given PATH should be an absolute path (i.e. start
with &rsquo;/&rsquo;).</p>

<h2>TRANSPORTS
<a name="TRANSPORTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This utility
lists SCSI devices which are known as logical units (LU) in
the SCSI Architecture Model (ref: SAM&minus;4 at
http://www.t10.org) or hosts when the
<i>&minus;&minus;hosts</i> option is given. A host is called
an initiator in SAM&minus;4. A SCSI command travels out via
an initiator, across some transport to a target and then
onwards to a logical unit. A target device may contain
several logical units. A target device has one or more ports
that can be viewed as transport end points. Each FC and SAS
disk is a single target that has two ports and contains one
logical unit. If both target ports on a FC or SAS disk are
connected and visible to a machine, then lsscsi will show
two entries. Initiators (i.e. hosts) also have one or more
ports and some HBAs in Linux have a host entry per initiator
port while others have a host entry per initiator
device.</p>

<p style="margin-left:11%; margin-top: 1em">When the
<i>&minus;&minus;transport</i> option is given for devices
(i.e. <i>&minus;&minus;hosts</i> not given) then most of the
information produced by lsscsi is associated with the
target, or more precisely: the target port, through which
SCSI commands pass that access a logical unit.</p>

<p style="margin-left:11%; margin-top: 1em">Typically this
utility provides one line of output per &quot;device&quot;
or host. Significantly more information can be obtained by
adding the <i>&minus;&minus;list</i> option. When used
together with the <i>&minus;&minus;transport</i> option,
after the summary line, multiple lines of transport specific
information in the form
&quot;&lt;attribute_name&gt;=&lt;value&gt;&quot; are output,
each indented by two spaces. Using a filter argument will
reduce the volume of output if a lot of devices or hosts are
present.</p>

<p style="margin-left:11%; margin-top: 1em">The transports
that are currently recognized are: IEEE 1394, ATA, FC,
iSCSI, SAS, SATA, SPI and USB.</p>

<p style="margin-left:11%; margin-top: 1em">For IEEE 1394
(a.k.a. Firewire and &quot;SBP&quot; when storage is
involved), the EUI&minus;64 based target port name is output
when <i>&minus;&minus;transport</i> is given, in the absence
of the <i>&minus;&minus;hosts</i> option. When the
<i>&minus;&minus;hosts</i> option is given then the
EUI&minus;64 initiator port name is output. Output on the
summary line specific to the IEEE 1394 transport is prefixed
by &quot;sbp:&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">to detect ATA
and SATA a crude check is performed on the driver name
(after the checks for other transports are exhausted). Based
on the driver name either ATA or SATA transport type is
chosen. Output on the summary line is either
&quot;ata:&quot; or &quot;sata:&quot;. No other attributes
are given. Most device and hosts flagged as &quot;ata:&quot;
will use the parallel ATA transport (PATA).</p>

<p style="margin-left:11%; margin-top: 1em">For Fibre
Channel (FC) the port name and port identifier are output
when <i>&minus;&minus;transport</i> is given. In the absence
of the <i>&minus;&minus;hosts</i> option these ids will be
for the target port associated with the device (logical
unit) being listed. When the <i>&minus;&minus;hosts</i>
option is given then the ids are for the initiator port used
by the host. Output on the summary line specific to the FC
transport is prefixed by &quot;fc:&quot;. If FCoE (over
Ethernet) is detected the prefix is changed to
&quot;fcoe:&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For iSCSI the
target port name is output when
<i>&minus;&minus;transport</i> is given, in the absence of
the <i>&minus;&minus;hosts</i> option. This is made up of
the iSCSI name and the target portal group tag. Since the
iSCSI name starts with &quot;iqn&quot; no further prefix is
used. When the <i>&minus;&minus;hosts</i> option is given
then only &quot;iscsi:&quot; is output on the summary
line.</p>

<p style="margin-left:11%; margin-top: 1em">For Serial
Attached SCSI the SAS address of the target port (or
initiator port if <i>&minus;&minus;hosts</i> option is also
given) is output. This will be a naa&minus;5 address. For
SAS HBAs and SAS targets (such as SAS disks and tape drives)
the SAS address will be world wide unique. For SATA disks
attached to a SAS expander, the expander provides the SAS
address by adding a non zero value to its (i.e. the
expander&rsquo;s) SAS address (e.g. expander_sas_address +
phy_id + 1). SATA disks directly attached to SAS HBAs seem
to have an indeterminate SAS address. Output on the summary
line specific to the SAS transport is prefixed by
&quot;sas:&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For the SCSI
Parallel Interface (SPI) the target port identifier (usually
a number between 0 and 15 inclusive) is output when
<i>&minus;&minus;transport</i> is given, in the absence of
the <i>&minus;&minus;hosts</i> option. When the
<i>&minus;&minus;hosts</i> option is given then only
&quot;spi:&quot; is output on the summary line.</p>

<p style="margin-left:11%; margin-top: 1em">When a USB
transport is detected, the summary line will contain
&quot;usb:&quot; followed by a USB device name. The USB
device name has the form
&quot;&lt;b&gt;&minus;&lt;p1&gt;[.&lt;p2&gt;[.&lt;p3&gt;]]:&lt;c&gt;.&lt;i&gt;&quot;
where &lt;b&gt; is the USB bus number, &lt;p1&gt; is the
port on the host. &lt;p2&gt; is a port on a host connected
hub, if present. If needed &lt;p3&gt; is a USB hub port
closer to the USB storage device. &lt;c&gt; refers to the
configuration number while &lt;i&gt; is the interface
number. There is a separate SCSI host for each USB (SCSI)
target. A USB SCSI target may contain multiple logical
units. Thus the same &quot;usb: &lt;device_name&gt;&quot;
string appears for a USB SCSI host and all logical units
that belong to the USB SCSI target associated with that USB
SCSI host.</p>

<h2>LUNS
<a name="LUNS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For historical
reasons and as used by several other Unix based Operating
Systems, Linux uses a tuple of integers to describe (a path
to) a SCSI device (also know as a Logical Unit (LU)). The
last element of that tuple is the so&minus;called Logical
Unit Number (LUN). And originally in SCSI a LUN was an
integer, at first 3 bits long, then 8 then 16 bits. SCSI
LUNs today (SAM&minus;5 section 4.7) are 64 bits but SCSI
standards now consider a LUN to be an array of 8 bytes.</p>

<p style="margin-left:11%; margin-top: 1em">Up until 2013,
Linux mapped SCSI LUNs to a 32 bit integer by taking the
first 4 bytes of the SCSI LUN and ignoring the last 4 bytes.
Linux treated the first two bytes of the SCSI LUN as a unit
(a word) and it became the least significant 16 bits in the
Linux LUN integer. The next two bytes of the SCSI LUN became
the upper 16 bits in the Linux LUN integer. The rationale
for this was to keep commonly used LUNs small Linux LUN
integers. The most common LUN (by far) in SCSI LUN (hex)
notation is 00 00 00 00 00 00 00 00 and this becomes the
Linux LUN integer 0. The next most common LUN is 00 01 00 00
00 00 00 00 and this becomes the Linux LUN integer 1.</p>

<p style="margin-left:11%; margin-top: 1em">In 2013 it is
proposed to increase Linux LUNs to a 64 bit integer by
extending the mapping outlined above. In this case all
information that is possible to represent in a SCSI LUN is
mapped a Linux LUN (64 bit) integer. And the mapping can be
reversed without losing information.</p>

<p style="margin-left:11%; margin-top: 1em">This version of
the utility supports both 32 and 64 bit Linux LUN integers.
By default the LUN shown at the end of the tuple commencing
each line is a Linux LUN as a decimal integer. When the
<i>&minus;&minus;lunhex</i> option is given then the LUN is
in SCSI LUN format with the 8 bytes run together, with the
output in hexadecimal and prefixed by &rsquo;0x&rsquo;. The
LUN is decoded according to SAM&minus;5&rsquo;s description
and trailing zeros (i.e. digits to the right) are not shown.
So LUN 0 (i.e. 00 00 00 00 00 00 00 00) is shown as 0x0000
and LUN 65 (i.e. 00 41 00 00 00 00 00 00) is shown as
0x0041. If the <i>&minus;&minus;lunhex</i> option is given
twice then the full 64 bits (i.e. 16 hexadecimal digits) are
shown.</p>

<p style="margin-left:11%; margin-top: 1em">If the
<i>&minus;&minus;lunhex</i> option is not given on the
command line then the environment variable LSSCSI_LUNHEX_OPT
is checked. If LSSCSI_LUNHEX_OPT is present then its
associated value becomes the number of times the
<i>&minus;&minus;lunhex</i> is set internally. So, for
example, &rsquo;LSSCSI_LUNHEX_OPT=2 lsscsi&rsquo; and
&rsquo;lsscsi &minus;xx&rsquo; are equivalent.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Information
about this utility including examples can also be found at:
http://sg.danny.cz/scsi/lsscsi.html .</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Information for
this command is derived from the sysfs file system, which is
assumed to be mounted at /sys unless specified otherwise by
the user. SCSI (pseudo) devices that have been detected by
the SCSI mid level will be listed even if the required upper
level drivers (i.e. sd, sr, st, osst or ch) have not been
loaded. If the appropriate upper level driver has not been
loaded then the device file name will appear as
&rsquo;&minus;&rsquo; rather than something like
&rsquo;/dev/st0&rsquo;. Note that some devices (e.g.
scanners and medium changers) do not have a primary upper
level driver and can only be accessed via a SCSI generic
(sg) device name.</p>

<p style="margin-left:11%; margin-top: 1em">Generic SCSI
devices can also be accessed via the bsg driver in Linux. By
default, the bsg driver&rsquo;s device node names are of the
form &rsquo;/dev/bsg/<i>H:C:T:L</i>&rsquo;. So, for example,
the SCSI device shown by this utility on a line starting
with the tuple &rsquo;6:0:1:2&rsquo; could be accessed via
the bsg driver with the &rsquo;/dev/bsg/6:0:1:2&rsquo;
device node name.</p>

<p style="margin-left:11%; margin-top: 1em">lsscsi version
0.21 or later is required to correctly display SCSI devices
in Linux kernel 2.6.26 (and possibly later) when the
CONFIG_SYSFS_DEPRECATED_V2 kernel option is not defined.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by Doug
Gilbert</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;dgilbert at interlog dot com&gt;.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2003&minus;2013 Douglas Gilbert <br>
This software is distributed under the GPL version 2. There
is NO warranty; not even for MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>lspci
lsusb</b></p>
<hr>
</body>
</html>
