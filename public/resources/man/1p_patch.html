<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:01:01 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PATCH</title>

</head>
<body>

<h1 align="center">PATCH</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">patch &minus;
apply changes to files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>patch
[-blNR][ -c| -e| -n][-d</b> <i>dir</i><b>][-D</b>
<i>define</i><b>][-i</b> <i>patchfile</i><b>]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
[-o</b> <i>outfile</i><b>][-p</b> <i>num</i><b>][-r</b>
<i>rejectfile</i><b>][</b><i>file</i><b>]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>patch</i> utility shall read a source (patch) file
containing any of the three forms of difference (diff)
listings produced by the <i>diff</i> utility (normal,
context, or in the style of <i>ed</i>) and apply those
differences to a file. By default, <i>patch</i> shall read
from the standard input.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>patch</i> utility shall attempt to determine the type of
the <i>diff</i> listing, unless overruled by a <b>-c</b>,
<b>-e</b>, or <b>-n</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">If the patch
file contains more than one patch, <i>patch</i> shall
attempt to apply each of them as if they came from separate
patch files. (In this case, the application shall ensure
that the name of the patch file is determinable for each
<i>diff</i> listing.)</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>patch</i> utility shall conform to the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 12.2,
Utility Syntax Guidelines.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-b</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Save a copy of the original contents of each modified
file, before the differences are applied, in a file of the
same name with the suffix <b>.orig</b> appended to it. If
the file already exists, it shall be overwritten; if
multiple patches are applied to the same file, the
<b>.orig</b> file shall be written only for the first patch.
When the <b>-o</b> <i>outfile</i> option is also specified,
<i>file</i> <b>.orig</b> shall not be created but, if
<i>outfile</i> already exists, <i>outfile</i> <b>.orig</b>
shall be created.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-c</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Interpret the patch file as a context difference (the
output of the utility <i>diff</i> when the <b>-c</b> or
<b>-C</b> options are specified).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-d&nbsp;</b> <i>dir</i></p>

<p style="margin-left:22%;">Change the current directory to
<i>dir</i> before processing as described in the EXTENDED
DESCRIPTION section.</p>

<p style="margin-left:11%;"><b>-D&nbsp;</b>
<i>define</i></p>

<p style="margin-left:22%;">Mark changes with one of the
following C preprocessor constructs:</p>

<p style="margin-left:22%; margin-top: 1em"><b>#ifdef
define <br>
... <br>
#endif</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>#ifndef
define <br>
... <br>
#endif</b></p>

<p style="margin-left:11%; margin-top: 1em">optionally
combined with the C preprocessor construct <b>#else</b>. If
the patched file is processed with the C preprocessor, where
the macro <i>define</i> is defined, the output shall contain
the changes from the patch file; otherwise, the output shall
not contain the patches specified in the patch file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-e</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Interpret the patch file as an <i>ed</i> script, rather
than a <i>diff</i> script.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-i&nbsp;</b>
<i>patchfile</i></p>

<p style="margin-left:22%;">Read the patch information from
the file named by the pathname <i>patchfile</i>, rather than
the standard input.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-l</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>(The letter ell.) Cause any sequence of &lt;blank&gt;s
in the difference script to match any sequence of
&lt;blank&gt;s in the input file. Other characters shall be
matched exactly.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-n</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Interpret the script as a normal difference.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-N</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Ignore patches where the differences have already been
applied to the file; by default, already-applied patches
shall be rejected.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-o&nbsp;</b>
<i>outfile</i></p>

<p style="margin-left:22%;">Instead of modifying the files
(specified by the <i>file</i> operand or the difference
listings) directly, write a copy of the file referenced by
each patch, with the appropriate differences applied, to
<i>outfile</i>. Multiple patches for a single file shall be
applied to the intermediate versions of the file created by
any previous patches, and shall result in multiple,
concatenated versions of the file being written to
<i>outfile</i>.</p>

<p style="margin-left:11%;"><b>-p&nbsp;</b> <i>num</i></p>

<p style="margin-left:22%;">For all pathnames in the patch
file that indicate the names of files to be patched, delete
<i>num</i> pathname components from the beginning of each
pathname. If the pathname in the patch file is absolute, any
leading slashes shall be considered the first component
(that is, <b>-p&nbsp;1</b> shall remove the leading
slashes). Specifying <b>-p&nbsp;0</b> shall cause the full
pathname to be used. If <b>-p</b> is not specified, only the
basename (the final pathname component) shall be used.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-R</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Reverse the sense of the patch script; that is, assume
that the difference script was created from the new version
to the old version. The <b>-R</b> option cannot be used with
<i>ed</i> scripts. The <i>patch</i> utility shall attempt to
reverse each portion of the script before applying it.
Rejected differences shall be saved in swapped format. If
this option is not specified, and until a portion of the
patch file is successfully applied, <i>patch</i> attempts to
apply each portion in its reversed sense as well as in its
normal sense. If the attempt is successful, the user shall
be prompted to determine whether the <b>-R</b> option should
be set.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-r&nbsp;</b>
<i>rejectfile</i></p>

<p style="margin-left:22%;">Override the default reject
filename. In the default case, the reject file shall have
the same name as the output file, with the suffix
<b>.rej</b> appended to it; see Patch Application .</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
operand shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><i>file</i></p></td>
<td width="5%"></td>
<td width="46%">


<p>A pathname of a file to patch.</p></td>
<td width="32%">
</td></tr>
</table>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See the INPUT
FILES section.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Input files
shall be text files.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>patch</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Provide a default value for the
internationalization variables that are unset or null. (See
the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments and input files).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error and
informative messages written to standard output.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<p style="margin-left:11%;"><i>LC_TIME</i></p>

<p style="margin-left:22%;">Determine the locale for
recognizing the format of file timestamps written by the
<i>diff</i> utility in a context-difference input file.</p>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used for diagnostic and informational
messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The output of
the <i>patch</i> utility, the save files ( <b>.orig</b>
suffixes), and the reject files ( <b>.rej</b> suffixes)
shall be text files.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A patch file
may contain patching instructions for more than one file;
filenames shall be determined as specified in Filename
Determination . When the <b>-b</b> option is specified, for
each patched file, the original shall be saved in a file of
the same name with the suffix <b>.orig</b> appended to
it.</p>

<p style="margin-left:11%; margin-top: 1em">For each
patched file, a reject file may also be created as noted in
Patch Application . In the absence of a <b>-r</b> option,
the name of this file shall be formed by appending the
suffix <b>.rej</b> to the original filename.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Patch File
Format</b> <br>
The patch file shall contain zero or more lines of header
information followed by one or more patches. Each patch
shall contain zero or more lines of filename identification
in the format produced by <i>diff</i> <b>-c</b>, and one or
more sets of <i>diff</i> output, which are customarily
called <i>hunks</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>patch</i> utility shall recognize the following
expression in the header information: <b><br>
Index:&nbsp;</b> <i>pathname</i></p>

<p style="margin-left:22%; margin-top: 1em">The file to be
patched is named <i>pathname</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If all lines
(including headers) within a patch begin with the same
leading sequence of &lt;blank&gt;s, the <i>patch</i> utility
shall remove this sequence before proceeding. Within each
patch, if the type of difference is context, the
<i>patch</i> utility shall recognize the following
expressions: <br>
***&nbsp;<i>filename&nbsp;timestamp</i></p>

<p style="margin-left:22%; margin-top: 1em">The patches
arose from <i>filename</i>.</p>


<p style="margin-left:11%;">---&nbsp;<i>filename&nbsp;timestamp</i></p>

<p style="margin-left:22%; margin-top: 1em">The patches
should be applied to <i>filename</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Each hunk
within a patch shall be the <i>diff</i> output to change a
line range within the original file. The line numbers for
successive hunks within a patch shall occur in ascending
order.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Filename
Determination</b> <br>
If no <i>file</i> operand is specified, <i>patch</i> shall
perform the following steps to determine the filename to
use:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If the type of <i>diff</i> is context, the <i>patch</i>
utility shall delete pathname components (as specified by
the <b>-p</b> option) from the filename on the line
beginning with <b>&quot;***&quot;</b>, then test for the
existence of this file relative to the current directory (or
the directory specified with the <b>-d</b> option). If the
file exists, the <i>patch</i> utility shall use this
filename.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If the type of <i>diff</i> is context, the <i>patch</i>
utility shall delete the pathname components (as specified
by the <b>-p</b> option) from the filename on the line
beginning with <b>&quot;---&quot;</b>, then test for the
existence of this file relative to the current directory (or
the directory specified with the <b>-d</b> option). If the
file exists, the <i>patch</i> utility shall use this
filename.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>3.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If the header information contains a line beginning with
the string <b>Index:</b>, the <i>patch</i> utility shall
delete pathname components (as specified by the <b>-p</b>
option) from this line, then test for the existence of this
file relative to the current directory (or the directory
specified with the <b>-d</b> option). If the file exists,
the <i>patch</i> utility shall use this filename.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>4.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If an <b>SCCS</b> directory exists in the current
directory, <i>patch</i> shall attempt to perform a
<i>get</i> <b>-e SCCS/s.</b> <i>filename</i> command to
retrieve an editable version of the file. If the file
exists, the <i>patch</i> utility shall use this
filename.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>5.</p></td>
<td width="2%"></td>
<td width="83%">


<p>The <i>patch</i> utility shall write a prompt to
standard output and request a filename interactively from
the controlling terminal (for example, <b>/dev/tty</b>).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Patch
Application</b> <br>
If the <b>-c</b>, <b>-e</b>, or <b>-n</b> option is present,
the <i>patch</i> utility shall interpret information within
each hunk as a context difference, an <i>ed</i> difference,
or a normal difference, respectively. In the absence of any
of these options, the <i>patch</i> utility shall determine
the type of difference based on the format of information
within the hunk.</p>

<p style="margin-left:11%; margin-top: 1em">For each hunk,
the <i>patch</i> utility shall begin to search for the place
to apply the patch at the line number at the beginning of
the hunk, plus or minus any offset used in applying the
previous hunk. If lines matching the hunk context are not
found, <i>patch</i> shall scan both forwards and backwards
at least 1000 bytes for a set of lines that match the hunk
context.</p>

<p style="margin-left:11%; margin-top: 1em">If no such
place is found and it is a context difference, then another
scan shall take place, ignoring the first and last line of
context. If that fails, the first two and last two lines of
context shall be ignored and another scan shall be made.
Implementations may search more extensively for installation
locations.</p>

<p style="margin-left:11%; margin-top: 1em">If no location
can be found, the <i>patch</i> utility shall append the hunk
to the reject file. The rejected hunk shall be written in
context-difference format regardless of the format of the
patch file. If the input was a normal or <i>ed</i>-style
difference, the reject file may contain differences with
zero lines of context. The line numbers on the hunks in the
reject file may be different from the line numbers in the
patch file since they shall reflect the approximate
locations for the failed hunks in the new file rather than
the old one.</p>

<p style="margin-left:11%; margin-top: 1em">If the type of
patch is an <i>ed</i> diff, the implementation may
accomplish the patching by invoking the <i>ed</i>
utility.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">&nbsp; 0</p></td>
<td width="8%"></td>
<td width="73%">


<p style="margin-top: 1em">Successful completion.</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 1</p></td>
<td width="8%"></td>
<td width="73%">


<p>One or more lines were written to a reject file.</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;1</p></td>
<td width="8%"></td>
<td width="73%">


<p>An error occurred.</p></td>
<td width="5%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Patches that
cannot be correctly placed in the file shall be written to a
reject file.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>-R</b>
option does not work with <i>ed</i> scripts because there is
too little information to reconstruct the reverse
operation.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-p</b>
option makes it possible to customize a patch file to local
user directory structures without manually editing the patch
file. For example, if the filename in the patch file
was:</p>


<p style="margin-left:22%; margin-top: 1em"><b>/curds/whey/src/blurfl/blurfl.c</b></p>

<p style="margin-left:11%; margin-top: 1em">Setting
<b>-p&nbsp;0</b> gives the entire pathname unmodified;
<b>-p&nbsp;1</b> gives:</p>


<p style="margin-left:22%; margin-top: 1em"><b>curds/whey/src/blurfl/blurfl.c</b></p>

<p style="margin-left:11%; margin-top: 1em">without the
leading slash, <b>-p&nbsp;4</b> gives:</p>


<p style="margin-left:22%; margin-top: 1em"><b>blurfl/blurfl.c</b></p>

<p style="margin-left:11%; margin-top: 1em">and not
specifying <b>-p</b> at all gives:</p>

<p style="margin-left:22%; margin-top: 1em"><b>blurfl.c
.</b></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some of the
functionality in historical <i>patch</i> implementations was
not specified. The following documents those features
present in historical implementations that have not been
specified.</p>

<p style="margin-left:11%; margin-top: 1em">A deleted piece
of functionality was the <b>&rsquo;+&rsquo;</b>
pseudo-option allowing an additional set of options and a
patch file operand to be given. This was seen as being
insufficiently useful to standardize.</p>

<p style="margin-left:11%; margin-top: 1em">In historical
implementations, if the string <b>&quot;Prereq:&quot;</b>
appeared in the header, the <i>patch</i> utility would
search for the corresponding version information (the string
specified in the header, delimited by &lt;blank&gt;s or the
beginning or end of a line or the file) anywhere in the
original file. This was deleted as too simplistic and
insufficiently trustworthy a mechanism to standardize. For
example, if:</p>

<p style="margin-left:22%; margin-top: 1em"><b>Prereq:
1.2</b></p>

<p style="margin-left:11%; margin-top: 1em">were in the
header, the presence of a delimited 1.2 anywhere in the file
would satisfy the prerequisite.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options were dropped from historical implementations of
<i>patch</i> as insufficiently useful to standardize:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-b</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>-b</b> option
historically provided a method for changing the name
extension of the backup file from the default <b>.orig</b>.
This option has been modified and retained in this volume of
IEEE&nbsp;Std&nbsp;1003.1-2001.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-F</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>-F</b> option specified the number of lines of a
context diff to ignore when searching for a place to install
a patch.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>-f</b> option historically caused <i>patch</i>
not to request additional information from the user.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>-r</b> option historically provided a method of
overriding the extension of the reject file from the default
<b>.rej</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-s</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>-s</b> option historically caused <i>patch</i> to
work silently unless an error occurred.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-x</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The <b>-x</b> option historically set internal debugging
flags.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In some file
system implementations, the saving of a <b>.orig</b> file
may produce unwanted results. In the case of 12, 13, or
14-character filenames (on file systems supporting
14-character maximum filenames), the <b>.orig</b> file
overwrites the new file. The reject file may also exceed
this filename limit. It was suggested, due to some
historical practice, that a tilde ( <b>&rsquo;~&rsquo;</b> )
suffix be used instead of <b>.orig</b> and some other
character instead of the <b>.rej</b> suffix. This was
rejected because it is not obvious to the user which file is
which. The suffixes <b>.orig</b> and <b>.rej</b> are clearer
and more understandable.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-b</b>
option has the opposite sense in some historical
implementations-do not save the <b>.orig</b> file. The
default case here is not to save the files, making
<i>patch</i> behave more consistently with the other
standard utilities.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-w</b>
option in early proposals was changed to <b>-l</b> to match
historical practice.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-N</b>
option was included because without it, a non-interactive
application cannot reject previously applied patches. For
example, if a user is piping the output of <i>diff</i> into
the <i>patch</i> utility, and the user only wants to patch a
file to a newer version non-interactively, the <b>-N</b>
option is required.</p>

<p style="margin-left:11%; margin-top: 1em">Changes to the
<b>-l</b> option description were proposed to allow matching
across &lt;newline&gt;s in addition to just &lt;blank&gt;s.
Since this is not historical practice, and since some
ambiguities could result, it is suggested that future
developments in this area utilize another option letter,
such as <b>-L</b>.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>ed</i>,
<i>diff</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
