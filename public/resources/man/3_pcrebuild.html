<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:09:09 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PCREBUILD</title>

</head>
<body>

<h1 align="center">PCREBUILD</h1>

<a href="#NAME">NAME</a><br>
<a href="#PCRE BUILD-TIME OPTIONS">PCRE BUILD-TIME OPTIONS</a><br>
<a href="#BUILDING 8-BIT, 16-BIT AND 32-BIT LIBRARIES">BUILDING 8-BIT, 16-BIT AND 32-BIT LIBRARIES</a><br>
<a href="#BUILDING SHARED AND STATIC LIBRARIES">BUILDING SHARED AND STATIC LIBRARIES</a><br>
<a href="#C++ SUPPORT">C++ SUPPORT</a><br>
<a href="#UTF-8, UTF-16 AND UTF-32 SUPPORT">UTF-8, UTF-16 AND UTF-32 SUPPORT</a><br>
<a href="#UNICODE CHARACTER PROPERTY SUPPORT">UNICODE CHARACTER PROPERTY SUPPORT</a><br>
<a href="#JUST-IN-TIME COMPILER SUPPORT">JUST-IN-TIME COMPILER SUPPORT</a><br>
<a href="#CODE VALUE OF NEWLINE">CODE VALUE OF NEWLINE</a><br>
<a href="#WHAT \R MATCHES">WHAT \R MATCHES</a><br>
<a href="#POSIX MALLOC USAGE">POSIX MALLOC USAGE</a><br>
<a href="#HANDLING VERY LARGE PATTERNS">HANDLING VERY LARGE PATTERNS</a><br>
<a href="#AVOIDING EXCESSIVE STACK USAGE">AVOIDING EXCESSIVE STACK USAGE</a><br>
<a href="#LIMITING PCRE RESOURCE USAGE">LIMITING PCRE RESOURCE USAGE</a><br>
<a href="#CREATING CHARACTER TABLES AT BUILD TIME">CREATING CHARACTER TABLES AT BUILD TIME</a><br>
<a href="#USING EBCDIC CODE">USING EBCDIC CODE</a><br>
<a href="#PCREGREP OPTIONS FOR COMPRESSED FILE SUPPORT">PCREGREP OPTIONS FOR COMPRESSED FILE SUPPORT</a><br>
<a href="#PCREGREP BUFFER SIZE">PCREGREP BUFFER SIZE</a><br>
<a href="#PCRETEST OPTION FOR LIBREADLINE SUPPORT">PCRETEST OPTION FOR LIBREADLINE SUPPORT</a><br>
<a href="#DEBUGGING WITH VALGRIND SUPPORT">DEBUGGING WITH VALGRIND SUPPORT</a><br>
<a href="#CODE COVERAGE REPORTING">CODE COVERAGE REPORTING</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#REVISION">REVISION</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">PCRE -
Perl-compatible regular expressions</p>

<h2>PCRE BUILD-TIME OPTIONS
<a name="PCRE BUILD-TIME OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This document
describes the optional features of PCRE that can be selected
when the library is compiled. It assumes use of the
<b>configure</b> script, where the optional features are
selected or deselected by providing options to
<b>configure</b> before running the <b>make</b> command.
However, the same options can be selected in both Unix-like
and non-Unix-like environments using the GUI facility of
<b>cmake-gui</b> if you are using <b>CMake</b> instead of
<b>configure</b> to build PCRE.</p>

<p style="margin-left:11%; margin-top: 1em">There is a lot
more information about building PCRE without using
<b>configure</b> (including information about using
<b>CMake</b> or building &quot;by hand&quot;) in the file
called <i>NON-AUTOTOOLS-BUILD</i>, which is part of the PCRE
distribution. You should consult this file as well as the
<i>README</i> file if you are building in a non-Unix-like
environment.</p>

<p style="margin-left:11%; margin-top: 1em">The complete
list of options for <b>configure</b> (which includes the
standard ones such as the selection of the installation
directory) can be obtained by running</p>

<p style="margin-left:11%; margin-top: 1em">./configure
--help</p>

<p style="margin-left:11%; margin-top: 1em">The following
sections include descriptions of options whose names begin
with --enable or --disable. These settings specify changes
to the defaults for the <b>configure</b> command. Because of
the way that <b>configure</b> works, --enable and --disable
always come in pairs, so the complementary option always
exists as well, but as it specifies the default, it is not
described.</p>

<h2>BUILDING 8-BIT, 16-BIT AND 32-BIT LIBRARIES
<a name="BUILDING 8-BIT, 16-BIT AND 32-BIT LIBRARIES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default, a
library called <b>libpcre</b> is built, containing functions
that take string arguments contained in vectors of bytes,
either as single-byte characters, or interpreted as UTF-8
strings. You can also build a separate library, called
<b>libpcre16</b>, in which strings are contained in vectors
of 16-bit data units and interpreted either as single-unit
characters or UTF-16 strings, by adding</p>


<p style="margin-left:11%; margin-top: 1em">--enable-pcre16</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. You can also build a separate
library, called <b>libpcre32</b>, in which strings are
contained in vectors of 32-bit data units and interpreted
either as single-unit characters or UTF-32 strings, by
adding</p>


<p style="margin-left:11%; margin-top: 1em">--enable-pcre32</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. If you do not want the 8-bit
library, add</p>


<p style="margin-left:11%; margin-top: 1em">--disable-pcre8</p>

<p style="margin-left:11%; margin-top: 1em">as well. At
least one of the three libraries must be built. Note that
the C++ and POSIX wrappers are for the 8-bit library only,
and that <b>pcregrep</b> is an 8-bit program. None of these
are built if you select only the 16-bit or 32-bit
libraries.</p>

<h2>BUILDING SHARED AND STATIC LIBRARIES
<a name="BUILDING SHARED AND STATIC LIBRARIES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The PCRE
building process uses <b>libtool</b> to build both shared
and static Unix libraries by default. You can suppress one
of these by adding one of</p>


<p style="margin-left:11%; margin-top: 1em">--disable-shared
<br>
--disable-static</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command, as required.</p>

<h2>C++ SUPPORT
<a name="C++ SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default, if
the 8-bit library is being built, the <b>configure</b>
script will search for a C++ compiler and C++ header files.
If it finds them, it automatically builds the C++ wrapper
library (which supports only 8-bit strings). You can disable
this by adding</p>


<p style="margin-left:11%; margin-top: 1em">--disable-cpp</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command.</p>

<h2>UTF-8, UTF-16 AND UTF-32 SUPPORT
<a name="UTF-8, UTF-16 AND UTF-32 SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To build PCRE
with support for UTF Unicode character strings, add</p>


<p style="margin-left:11%; margin-top: 1em">--enable-utf</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. This setting applies to all three
libraries, adding support for UTF-8 to the 8-bit library,
support for UTF-16 to the 16-bit library, and support for
UTF-32 to the to the 32-bit library. There are no separate
options for enabling UTF-8, UTF-16 and UTF-32 independently
because that would allow ridiculous settings such as
requesting UTF-16 support while building only the 8-bit
library. It is not possible to build one library with UTF
support and another without in the same configuration. (For
backwards compatibility, --enable-utf8 is a synonym of
--enable-utf.)</p>

<p style="margin-left:11%; margin-top: 1em">Of itself, this
setting does not make PCRE treat strings as UTF-8, UTF-16 or
UTF-32. As well as compiling PCRE with this option, you also
have have to set the PCRE_UTF8, PCRE_UTF16 or PCRE_UTF32
option (as appropriate) when you call one of the pattern
compiling functions.</p>

<p style="margin-left:11%; margin-top: 1em">If you set
--enable-utf when compiling in an EBCDIC environment, PCRE
expects its input to be either ASCII or UTF-8 (depending on
the run-time option). It is not possible to support both
EBCDIC and UTF-8 codes in the same version of the library.
Consequently, --enable-utf and --enable-ebcdic are mutually
exclusive.</p>

<h2>UNICODE CHARACTER PROPERTY SUPPORT
<a name="UNICODE CHARACTER PROPERTY SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">UTF support
allows the libraries to process character codepoints up to
0x10ffff in the strings that they handle. On its own,
however, it does not provide any facilities for accessing
the properties of such characters. If you want to be able to
use the pattern escapes \P, \p, and \X, which refer to
Unicode character properties, you must add</p>


<p style="margin-left:11%; margin-top: 1em">--enable-unicode-properties</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. This implies UTF support, even if
you have not explicitly requested it.</p>

<p style="margin-left:11%; margin-top: 1em">Including
Unicode property support adds around 30K of tables to the
PCRE library. Only the general category properties such as
<i>Lu</i> and <i>Nd</i> are supported. Details are given in
the <b>pcrepattern</b> documentation.</p>

<h2>JUST-IN-TIME COMPILER SUPPORT
<a name="JUST-IN-TIME COMPILER SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Just-in-time
compiler support is included in the build by specifying</p>


<p style="margin-left:11%; margin-top: 1em">--enable-jit</p>

<p style="margin-left:11%; margin-top: 1em">This support is
available only for certain hardware architectures. If this
option is set for an unsupported architecture, a compile
time error occurs. See the <b>pcrejit</b> documentation for
a discussion of JIT usage. When JIT support is enabled,
pcregrep automatically makes use of it, unless you add</p>


<p style="margin-left:11%; margin-top: 1em">--disable-pcregrep-jit</p>

<p style="margin-left:11%; margin-top: 1em">to the
&quot;configure&quot; command.</p>

<h2>CODE VALUE OF NEWLINE
<a name="CODE VALUE OF NEWLINE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default,
PCRE interprets the linefeed (LF) character as indicating
the end of a line. This is the normal newline character on
Unix-like systems. You can compile PCRE to use carriage
return (CR) instead, by adding</p>


<p style="margin-left:11%; margin-top: 1em">--enable-newline-is-cr</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. There is also a
--enable-newline-is-lf option, which explicitly specifies
linefeed as the newline character.</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
you can specify that line endings are to be indicated by the
two character sequence CRLF. If you want this, add</p>


<p style="margin-left:11%; margin-top: 1em">--enable-newline-is-crlf</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. There is a fourth option,
specified by</p>


<p style="margin-left:11%; margin-top: 1em">--enable-newline-is-anycrlf</p>

<p style="margin-left:11%; margin-top: 1em">which causes
PCRE to recognize any of the three sequences CR, LF, or CRLF
as indicating a line ending. Finally, a fifth option,
specified by</p>


<p style="margin-left:11%; margin-top: 1em">--enable-newline-is-any</p>

<p style="margin-left:11%; margin-top: 1em">causes PCRE to
recognize any Unicode newline sequence.</p>

<p style="margin-left:11%; margin-top: 1em">Whatever line
ending convention is selected when PCRE is built can be
overridden when the library functions are called. At build
time it is conventional to use the standard for your
operating system.</p>

<h2>WHAT \R MATCHES
<a name="WHAT \R MATCHES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default, the
sequence \R in a pattern matches any Unicode newline
sequence, whatever has been selected as the line ending
sequence. If you specify</p>


<p style="margin-left:11%; margin-top: 1em">--enable-bsr-anycrlf</p>

<p style="margin-left:11%; margin-top: 1em">the default is
changed so that \R matches only CR, LF, or CRLF. Whatever is
selected when PCRE is built can be overridden when the
library functions are called.</p>

<h2>POSIX MALLOC USAGE
<a name="POSIX MALLOC USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When the 8-bit
library is called through the POSIX interface (see the
<b>pcreposix</b> documentation), additional working storage
is required for holding the pointers to capturing
substrings, because PCRE requires three integers per
substring, whereas the POSIX interface provides only two. If
the number of expected substrings is small, the wrapper
function uses space on the stack, because this is faster
than using <b>malloc()</b> for each call. The default
threshold above which the stack is no longer used is 10; it
can be changed by adding a setting such as</p>


<p style="margin-left:11%; margin-top: 1em">--with-posix-malloc-threshold=20</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command.</p>

<h2>HANDLING VERY LARGE PATTERNS
<a name="HANDLING VERY LARGE PATTERNS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Within a
compiled pattern, offset values are used to point from one
part to another (for example, from an opening parenthesis to
an alternation metacharacter). By default, in the 8-bit and
16-bit libraries, two-byte values are used for these
offsets, leading to a maximum size for a compiled pattern of
around 64K. This is sufficient to handle all but the most
gigantic patterns. Nevertheless, some people do want to
process truly enormous patterns, so it is possible to
compile PCRE to use three-byte or four-byte offsets by
adding a setting such as</p>


<p style="margin-left:11%; margin-top: 1em">--with-link-size=3</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. The value given must be 2, 3, or
4. For the 16-bit library, a value of 3 is rounded up to 4.
In these libraries, using longer offsets slows down the
operation of PCRE because it has to load additional data
when handling them. For the 32-bit library the value is
always 4 and cannot be overridden; the value of
--with-link-size is ignored.</p>

<h2>AVOIDING EXCESSIVE STACK USAGE
<a name="AVOIDING EXCESSIVE STACK USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When matching
with the <b>pcre_exec()</b> function, PCRE implements
backtracking by making recursive calls to an internal
function called <b>match()</b>. In environments where the
size of the stack is limited, this can severely limit
PCRE&rsquo;s operation. (The Unix environment does not
usually suffer from this problem, but it may sometimes be
necessary to increase the maximum stack size. There is a
discussion in the <b>pcrestack</b> documentation.) An
alternative approach to recursion that uses memory from the
heap to remember data, instead of using recursive function
calls, has been implemented to work round the problem of
limited stack size. If you want to build a version of PCRE
that works this way, add</p>


<p style="margin-left:11%; margin-top: 1em">--disable-stack-for-recursion</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. With this configuration, PCRE will
use the <b>pcre_stack_malloc</b> and <b>pcre_stack_free</b>
variables to call memory management functions. By default
these point to <b>malloc()</b> and <b>free()</b>, but you
can replace the pointers so that your own functions are used
instead.</p>

<p style="margin-left:11%; margin-top: 1em">Separate
functions are provided rather than using <b>pcre_malloc</b>
and <b>pcre_free</b> because the usage is very predictable:
the block sizes requested are always the same, and the
blocks are always freed in reverse order. A calling program
might be able to implement optimized functions that perform
better than <b>malloc()</b> and <b>free()</b>. PCRE runs
noticeably more slowly when built in this way. This option
affects only the <b>pcre_exec()</b> function; it is not
relevant for <b>pcre_dfa_exec()</b>.</p>

<h2>LIMITING PCRE RESOURCE USAGE
<a name="LIMITING PCRE RESOURCE USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Internally,
PCRE has a function called <b>match()</b>, which it calls
repeatedly (sometimes recursively) when matching a pattern
with the <b>pcre_exec()</b> function. By controlling the
maximum number of times this function may be called during a
single matching operation, a limit can be placed on the
resources used by a single call to <b>pcre_exec()</b>. The
limit can be changed at run time, as described in the
<b>pcreapi</b> documentation. The default is 10 million, but
this can be changed by adding a setting such as</p>


<p style="margin-left:11%; margin-top: 1em">--with-match-limit=500000</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. This setting has no effect on the
<b>pcre_dfa_exec()</b> matching function.</p>

<p style="margin-left:11%; margin-top: 1em">In some
environments it is desirable to limit the depth of recursive
calls of <b>match()</b> more strictly than the total number
of calls, in order to restrict the maximum amount of stack
(or heap, if --disable-stack-for-recursion is specified)
that is used. A second limit controls this; it defaults to
the value that is set for --with-match-limit, which imposes
no additional constraints. However, you can set a lower
limit by adding, for example,</p>


<p style="margin-left:11%; margin-top: 1em">--with-match-limit-recursion=10000</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. This value can also be overridden
at run time.</p>

<h2>CREATING CHARACTER TABLES AT BUILD TIME
<a name="CREATING CHARACTER TABLES AT BUILD TIME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">PCRE uses fixed
tables for processing characters whose code values are less
than 256. By default, PCRE is built with a set of tables
that are distributed in the file
<i>pcre_chartables.c.dist</i>. These tables are for ASCII
codes only. If you add</p>


<p style="margin-left:11%; margin-top: 1em">--enable-rebuild-chartables</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command, the distributed tables are no
longer used. Instead, a program called <b>dftables</b> is
compiled and run. This outputs the source for new set of
tables, created in the default locale of your C run-time
system. (This method of replacing the tables does not work
if you are cross compiling, because <b>dftables</b> is run
on the local host. If you need to create alternative tables
when cross compiling, you will have to do so &quot;by
hand&quot;.)</p>

<h2>USING EBCDIC CODE
<a name="USING EBCDIC CODE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">PCRE assumes by
default that it will run in an environment where the
character code is ASCII (or Unicode, which is a superset of
ASCII). This is the case for most computer operating
systems. PCRE can, however, be compiled to run in an EBCDIC
environment by adding</p>


<p style="margin-left:11%; margin-top: 1em">--enable-ebcdic</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. This setting implies
--enable-rebuild-chartables. You should only use it if you
know that you are in an EBCDIC environment (for example, an
IBM mainframe operating system). The --enable-ebcdic option
is incompatible with --enable-utf.</p>

<p style="margin-left:11%; margin-top: 1em">The EBCDIC
character that corresponds to an ASCII LF is assumed to have
the value 0x15 by default. However, in some EBCDIC
environments, 0x25 is used. In such an environment you
should use</p>


<p style="margin-left:11%; margin-top: 1em">--enable-ebcdic-nl25</p>

<p style="margin-left:11%; margin-top: 1em">as well as, or
instead of, --enable-ebcdic. The EBCDIC character for CR has
the same value as in ASCII, namely, 0x0d. Whichever of 0x15
and 0x25 is <i>not</i> chosen as LF is made to correspond to
the Unicode NEL character (which, in Unicode, is 0x85).</p>

<p style="margin-left:11%; margin-top: 1em">The options
that select newline behaviour, such as
--enable-newline-is-cr, and equivalent run-time options,
refer to these character values in an EBCDIC
environment.</p>

<h2>PCREGREP OPTIONS FOR COMPRESSED FILE SUPPORT
<a name="PCREGREP OPTIONS FOR COMPRESSED FILE SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By default,
<b>pcregrep</b> reads all files as plain text. You can build
it so that it recognizes files whose names end in <b>.gz</b>
or <b>.bz2</b>, and reads them with <b>libz</b> or
<b>libbz2</b>, respectively, by adding one or both of</p>


<p style="margin-left:11%; margin-top: 1em">--enable-pcregrep-libz
<br>
--enable-pcregrep-libbz2</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. These options naturally require
that the relevant libraries are installed on your system.
Configuration will fail if they are not.</p>

<h2>PCREGREP BUFFER SIZE
<a name="PCREGREP BUFFER SIZE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pcregrep</b>
uses an internal buffer to hold a &quot;window&quot; on the
file it is scanning, in order to be able to output
&quot;before&quot; and &quot;after&quot; lines when it finds
a match. The size of the buffer is controlled by a parameter
whose default value is 20K. The buffer itself is three times
this size, but because of the way it is used for holding
&quot;before&quot; lines, the longest line that is
guaranteed to be processable is the parameter size. You can
change the default parameter value by adding, for
example,</p>


<p style="margin-left:11%; margin-top: 1em">--with-pcregrep-bufsize=50K</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command. The caller of <b>pcregrep</b> can,
however, override this value by specifying a run-time
option.</p>

<h2>PCRETEST OPTION FOR LIBREADLINE SUPPORT
<a name="PCRETEST OPTION FOR LIBREADLINE SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you add</p>


<p style="margin-left:11%; margin-top: 1em">--enable-pcretest-libreadline</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command, <b>pcretest</b> is linked with the
<b>libreadline</b> library, and when its input is from a
terminal, it reads it using the <b>readline()</b> function.
This provides line-editing and history facilities. Note that
<b>libreadline</b> is GPL-licensed, so if you distribute a
binary of <b>pcretest</b> linked in this way, there may be
licensing issues.</p>

<p style="margin-left:11%; margin-top: 1em">Setting this
option causes the <b>-lreadline</b> option to be added to
the <b>pcretest</b> build. In many operating environments
with a sytem-installed <b>libreadline</b> this is
sufficient. However, in some environments (e.g. if an
unmodified distribution version of readline is in use), some
extra configuration may be necessary. The INSTALL file for
<b>libreadline</b> says this:</p>

<p style="margin-left:11%; margin-top: 1em">&quot;Readline
uses the termcap functions, but does not link with the <br>
termcap or curses library itself, allowing applications
which link <br>
with readline the to choose an appropriate
library.&quot;</p>

<p style="margin-left:11%; margin-top: 1em">If your
environment has not been set up so that an appropriate
library is automatically included, you may need to add
something like</p>


<p style="margin-left:11%; margin-top: 1em">LIBS=&quot;-ncurses&quot;</p>

<p style="margin-left:11%; margin-top: 1em">immediately
before the <b>configure</b> command.</p>

<h2>DEBUGGING WITH VALGRIND SUPPORT
<a name="DEBUGGING WITH VALGRIND SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By adding
the</p>


<p style="margin-left:11%; margin-top: 1em">--enable-valgrind</p>

<p style="margin-left:11%; margin-top: 1em">option to to
the <b>configure</b> command, PCRE will use valgrind
annotations to mark certain memory regions as unaddressable.
This allows it to detect invalid memory accesses, and is
mostly useful for debugging PCRE itself.</p>

<h2>CODE COVERAGE REPORTING
<a name="CODE COVERAGE REPORTING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If your C
compiler is gcc, you can build a version of PCRE that can
generate a code coverage report for its test suite. To
enable this, you must install <b>lcov</b> version 1.6 or
above. Then specify</p>


<p style="margin-left:11%; margin-top: 1em">--enable-coverage</p>

<p style="margin-left:11%; margin-top: 1em">to the
<b>configure</b> command and build PCRE in the usual
way.</p>

<p style="margin-left:11%; margin-top: 1em">Note that using
<b>ccache</b> (a caching C compiler) is incompatible with
code coverage reporting. If you have configured
<b>ccache</b> to run automatically on your system, you must
set the environment variable</p>


<p style="margin-left:11%; margin-top: 1em">CCACHE_DISABLE=1</p>

<p style="margin-left:11%; margin-top: 1em">before running
<b>make</b> to build PCRE, so that <b>ccache</b> is not
used.</p>

<p style="margin-left:11%; margin-top: 1em">When
--enable-coverage is used, the following addition targets
are added to the <i>Makefile</i>:</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage</p>

<p style="margin-left:11%; margin-top: 1em">This creates a
fresh coverage report for the PCRE test suite. It is
equivalent to running &quot;make coverage-reset&quot;,
&quot;make coverage-baseline&quot;, &quot;make check&quot;,
and then &quot;make coverage-report&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage-reset</p>

<p style="margin-left:11%; margin-top: 1em">This zeroes the
coverage counters, but does nothing else.</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage-baseline</p>

<p style="margin-left:11%; margin-top: 1em">This captures
baseline coverage information.</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage-report</p>

<p style="margin-left:11%; margin-top: 1em">This creates
the coverage report.</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage-clean-report</p>

<p style="margin-left:11%; margin-top: 1em">This removes
the generated coverage report without cleaning the coverage
data itself.</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage-clean-data</p>

<p style="margin-left:11%; margin-top: 1em">This removes
the captured coverage data without removing the coverage
files created at compile time (*.gcno).</p>

<p style="margin-left:11%; margin-top: 1em">make
coverage-clean</p>

<p style="margin-left:11%; margin-top: 1em">This cleans all
coverage data including the generated coverage report. For
more information about code coverage, see the <b>gcov</b>
and <b>lcov</b> documentation.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pcreapi</b>(3),
<b>pcre16</b>, <b>pcre32</b>, <b>pcre_config</b>(3).</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Philip Hazel
<br>
University Computing Service <br>
Cambridge CB2 3QH, England.</p>

<h2>REVISION
<a name="REVISION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Last updated:
30 October 2012 <br>
Copyright (c) 1997-2012 University of Cambridge.</p>
<hr>
</body>
</html>
