<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:00:49 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DIFF</title>

</head>
<body>

<h1 align="center">DIFF</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">diff &minus;
compare two files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>diff [-c|
-e| -f| -C</b> <i>n</i><b>][-br]</b> <i>file1 file2</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>diff</i>
utility shall compare the contents of <i>file1</i> and
<i>file2</i> and write to standard output a list of changes
necessary to convert <i>file1</i> into <i>file2</i>. This
list should be minimal. No output shall be produced if the
files are identical.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>diff</i>
utility shall conform to the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-b</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Cause any amount of white space at the end of a line to
be treated as a single &lt;newline&gt; (that is, the
white-space characters preceding the &lt;newline&gt; are
ignored) and other strings of white-space characters, not
including &lt;newline&gt;s, to compare equal.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-c</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Produce output in a form that provides three lines of
context.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-C&nbsp;n</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Produce output in a form that provides <i>n</i> lines of
context (where <i>n</i> shall be interpreted as a positive
decimal integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-e</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Produce output in a form suitable as input for the
<i>ed</i> utility, which can then be used to convert
<i>file1</i> into <i>file2</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-f</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Produce output in an alternative form, similar in format
to <b>-e</b>, but not intended to be suitable as input for
the <i>ed</i> utility, and in the opposite order.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-r</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Apply <i>diff</i> recursively to files and directories
of the same name when <i>file1</i> and <i>file2</i> are both
directories.</p> </td></tr>
</table>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
operands shall be supported: <i><br>
file1</i>,&nbsp;<i>file2</i></p>

<p style="margin-left:22%;">A pathname of a file to be
compared. If either the <i>file1</i> or <i>file2</i> operand
is <b>&rsquo;-&rsquo;</b>, the standard input shall be used
in its place.</p>

<p style="margin-left:11%; margin-top: 1em">If both
<i>file1</i> and <i>file2</i> are directories, <i>diff</i>
shall not compare block special files, character special
files, or FIFO special files to any files and shall not
compare regular files to directories. Further details are as
specified in Diff Directory Comparison Format . The behavior
of <i>diff</i> on other file types is implementation-defined
when found in directories.</p>

<p style="margin-left:11%; margin-top: 1em">If only one of
<i>file1</i> and <i>file2</i> is a directory, <i>diff</i>
shall be applied to the non-directory file and the file
contained in the directory file with a filename that is the
same as the last component of the non-directory file.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
input shall be used only if one of the <i>file1</i> or
<i>file2</i> operands references standard input. See the
INPUT FILES section.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The input files
may be of any type.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>diff</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LANG</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of IEEE&nbsp;Std&nbsp;1003.1-2001, Section 8.2,
Internationalization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>LC_ALL</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>LC_CTYPE</i></p>

<p style="margin-left:22%;">Determine the locale for the
interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments and input files).</p>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:22%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error and
informative messages written to standard output.</p>

<p style="margin-left:11%;"><i>LC_TIME</i></p>

<p style="margin-left:22%;">Determine the locale for
affecting the format of file timestamps written with the
<b>-C</b> and <b>-c</b> options.</p>

<p style="margin-left:11%;"><i>NLSPATH</i></p>

<p style="margin-left:22%;">Determine the location of
message catalogs for the processing of <i>LC_MESSAGES
.</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>TZ</i></p></td>
<td width="8%"></td>
<td width="78%">


<p>Determine the timezone used for calculating file
timestamps written with the <b>-C</b> and <b>-c</b> options.
If <i>TZ</i> is unset or null, an unspecified default
timezone shall be used.</p></td></tr>
</table>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Diff
Directory Comparison Format</b> <br>
If both <i>file1</i> and <i>file2</i> are directories, the
following output formats shall be used.</p>

<p style="margin-left:11%; margin-top: 1em">In the POSIX
locale, each file that is present in only one directory
shall be reported using the following format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;Only
in %s: %s\n&quot;, &lt;</b><i>directory pathname</i><b>&gt;,
&lt;</b><i>filename</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">In the POSIX
locale, subdirectories that are common to the two
directories may be reported with the following format:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;Common
subdirectories: %s and %s\n&quot;, &lt;</b><i>directory1
pathname</i><b>&gt;, <br>
&lt;</b><i>directory2 pathname</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">For each file
common to the two directories if the two files are not to be
compared, the following format shall be used in the POSIX
locale:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;File
%s is a %s while file %s is a %s\n&quot;,
&lt;</b><i>directory1 pathname</i><b>&gt;, <br>
&lt;</b><i>file type of directory1 pathname</i><b>&gt;,
&lt;</b><i>directory2 pathname</i><b>&gt;, <br>
&lt;</b><i>file type of directory2
pathname</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">For each file
common to the two directories, if the files are compared and
are identical, no output shall be written. If the two files
differ, the following format is written:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;diff
%s %s %s\n&quot;, &lt;</b><i>diff_options</i><b>&gt;,
&lt;</b><i>filename1</i><b>&gt;,
&lt;</b><i>filename2</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">where
&lt;<i>diff_options</i>&gt; are the options as specified on
the command line.</p>

<p style="margin-left:11%; margin-top: 1em">All directory
pathnames listed in this section shall be relative to the
original command line arguments. All other names of files
listed in this section shall be filenames (pathname
components).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Diff Binary
Output Format</b> <br>
In the POSIX locale, if one or both of the files being
compared are not text files, an unspecified format shall be
used that contains the pathnames of two files being compared
and the string <b>&quot;differ&quot;</b> .</p>

<p style="margin-left:11%; margin-top: 1em">If both files
being compared are text files, depending on the options
specified, one of the following formats shall be used to
write the differences.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Diff Default
Output Format</b> <br>
The default (without <b>-e</b>, <b>-f</b>, <b>-c</b>, or
<b>-C</b> options) <i>diff</i> utility output shall contain
lines of these forms:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%da%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;,
&lt;</b><i>num2</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%da%d,%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;, &lt;</b><i>num2</i><b>&gt;,
&lt;</b><i>num3</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%dd%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;,
&lt;</b><i>num2</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%d,%dd%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;, &lt;</b><i>num2</i><b>&gt;,
&lt;</b><i>num3</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%dc%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;,
&lt;</b><i>num2</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%d,%dc%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;, &lt;</b><i>num2</i><b>&gt;,
&lt;</b><i>num3</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%dc%d,%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;, &lt;</b><i>num2</i><b>&gt;,
&lt;</b><i>num3</i><b>&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;%d,%dc%d,%d\n&quot;,
&lt;</b><i>num1</i><b>&gt;, &lt;</b><i>num2</i><b>&gt;,
&lt;</b><i>num3</i><b>&gt;,
&lt;</b><i>num4</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">These lines
resemble <i>ed</i> subcommands to convert <i>file1</i> into
<i>file2</i>. The line numbers before the action letters
shall pertain to <i>file1</i>; those after shall pertain to
<i>file2</i>. Thus, by exchanging <i>a</i> for <i>d</i> and
reading the line in reverse order, one can also determine
how to convert <i>file2</i> into <i>file1</i>. As in
<i>ed</i>, identical pairs (where <i>num1</i>= <i>num2</i>)
are abbreviated as a single number.</p>

<p style="margin-left:11%; margin-top: 1em">Following each
of these lines, <i>diff</i> shall write to standard output
all lines affected in the first file using the format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;&lt;
%s&quot;, &lt;</b><i>line</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">and all lines
affected in the second file using the format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;&gt;
%s&quot;, &lt;</b><i>line</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">If there are
lines affected in both <i>file1</i> and <i>file2</i> (as
with the <b>c</b> subcommand), the changes are separated
with a line consisting of three hyphens:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;---\n&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Diff -e
Output Format</b> <br>
With the <b>-e</b> option, a script shall be produced that
shall, when provided as input to <i>ed</i>, along with an
appended <b>w</b> (write) command, convert <i>file1</i> into
<i>file2</i>. Only the <b>a</b> (append), <b>c</b> (change),
<b>d</b> (delete), <b>i</b> (insert), and <b>s</b>
(substitute) commands of <i>ed</i> shall be used in this
script. Text lines, except those consisting of the single
character period ( <b>&rsquo;.&rsquo;</b> ), shall be output
as they appear in the file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Diff -f
Output Format</b> <br>
With the <b>-f</b> option, an alternative format of script
shall be produced. It is similar to that produced by
<b>-e</b>, with the following differences:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">It is expressed in reverse
sequence; the output of <b>-e</b> orders changes from the
end of the file to the beginning; the <b>-f</b> from
beginning to end.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="83%">


<p>The command form &lt;<i>lines</i>&gt;
&lt;<i>command-letter</i>&gt; used by <b>-e</b> is reversed.
For example, 10<i>c</i> with <b>-e</b> would be <i>c</i>10
with <b>-f</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>3.</p></td>
<td width="2%"></td>
<td width="83%">


<p>The form used for ranges of line numbers is
&lt;space&gt;-separated, rather than comma-separated.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Diff -c or
-C Output Format</b> <br>
With the <b>-c</b> or <b>-C</b> option, the output format
shall consist of affected lines along with surrounding lines
of context. The affected lines shall show which ones need to
be deleted or changed in <i>file1</i>, and those added from
<i>file2</i>. With the <b>-c</b> option, three lines of
context, if available, shall be written before and after the
affected lines. With the <b>-C</b> option, the user can
specify how many lines of context are written. The exact
format follows.</p>

<p style="margin-left:11%; margin-top: 1em">The name and
last modification time of each file shall be output in the
following format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;*** %s
%s\n&quot;,</b> <i>file1</i><b>, &lt;</b><i>file1
timestamp</i><b>&gt; <br>
&quot;--- %s %s\n&quot;,</b> <i>file2</i><b>,
&lt;</b><i>file2 timestamp</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">Each
&lt;<i>file</i>&gt; field shall be the pathname of the
corresponding file being compared. The pathname written for
standard input is unspecified.</p>

<p style="margin-left:11%; margin-top: 1em">In the POSIX
locale, each &lt;<i>timestamp</i>&gt; field shall be
equivalent to the output from the following command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>date
&quot;+%a %b %e %T %Y&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">without the
trailing &lt;newline&gt;, executed at the time of last
modification of the corresponding file (or the current time,
if the file is standard input).</p>

<p style="margin-left:11%; margin-top: 1em">Then, the
following output formats shall be applied for every set of
changes.</p>

<p style="margin-left:11%; margin-top: 1em">First, a line
shall be written in the following format:</p>


<p style="margin-left:22%; margin-top: 1em"><b>&quot;***************\n&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">Next, the range
of lines in <i>file1</i> shall be written in the following
format if the range contains two or more lines:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;***
%d,%d ****\n&quot;, &lt;</b><i>beginning line
number</i><b>&gt;, &lt;</b><i>ending line
number</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">and the
following format otherwise:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;*** %d
****\n&quot;, &lt;</b><i>ending line
number</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">The ending line
number of an empty range shall be the number of the
preceding line, or 0 if the range is at the start of the
file.</p>

<p style="margin-left:11%; margin-top: 1em">Next, the
affected lines along with lines of context (unaffected
lines) shall be written. Unaffected lines shall be written
in the following format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;
%s&quot;, &lt;</b><i>unaffected_line</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">Deleted lines
shall be written as:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;-
%s&quot;, &lt;</b><i>deleted_line</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">Changed lines
shall be written as:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;!
%s&quot;, &lt;</b><i>changed_line</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">Next, the range
of lines in <i>file2</i> shall be written in the following
format if the range contains two or more lines:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;---
%d,%d ----\n&quot;, &lt;</b><i>beginning line
number</i><b>&gt;, &lt;</b><i>ending line
number</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">and the
following format otherwise:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;--- %d
----\n&quot;, &lt;</b><i>ending line
number</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">Then, lines of
context and changed lines shall be written as described in
the previous formats. Lines added from <i>file2</i> shall be
written in the following format:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;+
%s&quot;, &lt;</b><i>added_line</i><b>&gt;</b></p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">&nbsp; 0</p></td>
<td width="8%"></td>
<td width="40%">


<p style="margin-top: 1em">No differences were found.</p></td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&nbsp; 1</p></td>
<td width="8%"></td>
<td width="40%">


<p>Differences were found.</p></td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;1</p></td>
<td width="8%"></td>
<td width="40%">


<p>An error occurred.</p></td>
<td width="38%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If lines at the
end of a file are changed and other lines are added,
<i>diff</i> output may show this as a delete and add, as a
change, or as a change and add; <i>diff</i> is not expected
to know which happened and users should not care about the
difference in output as long as it clearly shows the
differences between the files.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If <b>dir1</b>
is a directory containing a directory named <b>x</b>,
<b>dir2</b> is a directory containing a directory named
<b>x</b>, <b>dir1/x</b> and <b>dir2/x</b> both contain files
named <b>date.out</b>, and <b>dir2/x</b> contains a file
named <b>y</b>, the command:</p>

<p style="margin-left:22%; margin-top: 1em"><b>diff -r dir1
dir2</b></p>

<p style="margin-left:11%; margin-top: 1em">could produce
output similar to:</p>

<p style="margin-left:22%; margin-top: 1em"><b>Common
subdirectories: dir1/x and dir2/x <br>
Only in dir2/x: y <br>
diff -r dir1/x/date.out dir2/x/date.out <br>
1c1 <br>
&lt; Mon Jul 2 13:12:16 PDT 1990 <br>
--- <br>
&gt; Tue Jun 19 21:41:39 PDT 1990</b></p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>-h</b>
option was omitted because it was insufficiently specified
and does not add to applications portability.</p>

<p style="margin-left:11%; margin-top: 1em">Historical
implementations employ algorithms that do not always produce
a minimum list of differences; the current language about
making every effort is the best this volume of
IEEE&nbsp;Std&nbsp;1003.1-2001 can do, as there is no metric
that could be employed to judge the quality of
implementations against any and all file contents. The
statement &quot;This list should be minimal&rsquo;&rsquo;
clearly implies that implementations are not expected to
provide the following output when comparing two 100-line
files that differ in only one character on a single
line:</p>

<p style="margin-left:22%; margin-top: 1em"><b>1,100c1,100
<br>
all 100 lines from file1 preceded with &quot;&lt; &quot;
<br>
--- <br>
all 100 lines from file2 preceded with &quot;&gt;
&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">The &quot;Only
in&quot; messages required when the <b>-r</b> option is
specified are not used by most historical implementations if
the <b>-e</b> option is also specified. It is required here
because it provides useful information that must be provided
to update a target directory hierarchy to match a source
hierarchy. The &quot;Common subdirectories&quot; messages
are written by System V and 4.3 BSD when the <b>-r</b>
option is specified. They are allowed here but are not
required because they are reporting on something that is the
same, not reporting a difference, and are not needed to
update a target hierarchy.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-c</b>
option, which writes output in a format using lines of
context, has been included. The format is useful for a
variety of reasons, among them being much improved
readability and the ability to understand difference changes
when the target file has line numbers that differ from
another similar, but slightly different, copy. The
<i>patch</i> utility is most valuable when working with
difference listings using the context format. The BSD
version of <b>-c</b> takes an optional argument specifying
the amount of context. Rather than overloading <b>-c</b> and
breaking the Utility Syntax Guidelines for <i>diff</i>, the
standard developers decided to add a separate option for
specifying a context diff with a specified amount of context
( <b>-C</b>). Also, the format for context <i>diff</i>s was
extended slightly in 4.3 BSD to allow multiple changes that
are within context lines from each other to be merged
together. The output format contains an additional four
asterisks after the range of affected lines in the first
filename. This was to provide a flag for old programs (like
old versions of <i>patch</i>) that only understand the old
context format. The version of context described here does
not require that multiple changes within context lines be
merged, but it does not prohibit it either. The extension is
upwards-compatible, so any vendors that wish to retain the
old version of <i>diff</i> can do so by adding the extra
four asterisks (that is, utilities that currently use
<i>diff</i> and understand the new merged format will also
understand the old unmerged format, but not <i>vice
versa</i>).</p>

<p style="margin-left:11%; margin-top: 1em">The substitute
command was added as an additional format for the <b>-e</b>
option. This was added to provide implementations with a way
to fix the classic &quot;dot alone on a line&quot; bug
present in many versions of <i>diff</i>. Since many
implementations have fixed this bug, the standard developers
decided not to standardize broken behavior, but rather to
provide the necessary tool for fixing the bug. One way to
fix this bug is to output two periods whenever a lone period
is needed, then terminate the append command with a period,
and then use the substitute command to convert the two
periods into one period.</p>

<p style="margin-left:11%; margin-top: 1em">The BSD-derived
<b>-r</b> option was added to provide a mechanism for using
<i>diff</i> to compare two file system trees. This behavior
is useful, is standard practice on all BSD-derived systems,
and is not easily reproducible with the <i>find</i>
utility.</p>

<p style="margin-left:11%; margin-top: 1em">The requirement
that <i>diff</i> not compare files in some circumstances,
even though they have the same name, is based on the actual
output of historical implementations. The message specified
here is already in use when a directory is being compared to
a non-directory. It is extended here to preclude the
problems arising from running into FIFOs and other files
that would cause <i>diff</i> to hang waiting for input with
no indication to the user that <i>diff</i> was hung. In most
common usage, <i>diff</i> <b>-r</b> should indicate
differences in the file hierarchies, not the difference of
contents of devices pointed to by the hierarchies.</p>

<p style="margin-left:11%; margin-top: 1em">Many early
implementations of <i>diff</i> require seekable files. Since
the System Interfaces volume of
IEEE&nbsp;Std&nbsp;1003.1-2001 supports named pipes, the
standard developers decided that such a restriction was
unreasonable. Note also that the allowed filename <b>-</b>
almost always refers to a pipe.</p>

<p style="margin-left:11%; margin-top: 1em">No directory
search order is specified for <i>diff</i>. The historical
ordering is, in fact, not optimal, in that it prints out all
of the differences at the current level, including the
statements about all common subdirectories before recursing
into those subdirectories.</p>

<p style="margin-left:11%; margin-top: 1em">The
message:</p>

<p style="margin-left:22%; margin-top: 1em"><b>&quot;diff
%s %s %s\n&quot;, &lt;</b><i>diff_options</i><b>&gt;,
&lt;</b><i>filename1</i><b>&gt;,
&lt;</b><i>filename2</i><b>&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em">does not vary
by locale because it is the representation of a command, not
an English sentence.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>cmp</i>,
<i>comm</i>, <i>ed</i>, <i>find</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
