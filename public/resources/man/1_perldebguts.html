<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:59:01 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERLDEBGUTS</title>

</head>
<body>

<h1 align="center">PERLDEBGUTS</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Debugger Internals">Debugger Internals</a><br>
<a href="#Frame Listing Output Examples">Frame Listing Output Examples</a><br>
<a href="#Debugging Regular Expressions">Debugging Regular Expressions</a><br>
<a href="#Debugging Perl Memory Usage">Debugging Perl Memory Usage</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perldebguts
&minus; Guts of Perl debugging</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This is not
perldebug, which tells you how to use the debugger. This
manpage describes low-level details concerning the
debugger&rsquo;s internals, which range from difficult to
impossible to understand for anyone who isn&rsquo;t
incredibly intimate with Perl&rsquo;s guts. Caveat
lector.</p>

<h2>Debugger Internals
<a name="Debugger Internals"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Perl has
special debugging hooks at compile-time and run-time used to
create debugging environments. These hooks are not to be
confused with the <i>perl &minus;Dxxx</i> command described
in perlrun, which is usable only if a special Perl is built
per the instructions in the <i><small>INSTALL</small></i>
podpage in the Perl source tree.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
whenever you call Perl&rsquo;s built-in
<tt>&quot;caller&quot;</tt> function from the package
<tt>&quot;DB&quot;</tt>, the arguments that the
corresponding stack frame was called with are copied to the
<tt>@DB::args</tt> array. These mechanisms are enabled by
calling Perl with the <b>&minus;d</b> switch. Specifically,
the following additional features are enabled (cf.
&quot;$^P&quot; in perlvar):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Perl inserts the contents of <tt>$ENV{PERL5DB}</tt> (or
<tt>&quot;BEGIN {require 'perl5db.pl'}&quot;</tt> if not
present) before the first line of your program.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Each array
<tt>&quot;@{&quot;_&lt;$filename&quot;}&quot;</tt> holds the
lines of <tt>$filename</tt> for a file compiled by Perl. The
same is also true for <tt>&quot;eval&quot;</tt>ed strings
that contain subroutines, or which are currently being
executed. The <tt>$filename</tt> for
<tt>&quot;eval&quot;</tt>ed strings looks like
<tt>&quot;(eval 34)&quot;</tt>. Code assertions in regexes
look like <tt>&quot;(re_eval 19)&quot;</tt>.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Values in this
array are magical in numeric context: they compare equal to
zero only if the line is not breakable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Each hash
<tt>&quot;%{&quot;_&lt;$filename&quot;}&quot;</tt> contains
breakpoints and actions keyed by line number. Individual
entries (as opposed to the whole hash) are settable. Perl
only cares about Boolean true here, although the values used
by <i>perl5db.pl</i> have the form
<tt>&quot;$break_condition\0$action&quot;</tt>.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The same holds
for evaluated strings that contain subroutines, or which are
currently being executed. The <tt>$filename</tt> for
<tt>&quot;eval&quot;</tt>ed strings looks like
<tt>&quot;(eval 34)&quot;</tt> or <tt>&quot;(re_eval
19)&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Each scalar
<tt>&quot;${&quot;_&lt;$filename&quot;}&quot;</tt> contains
<tt>&quot;_&lt;$filename&quot;</tt>. This is also the case
for evaluated strings that contain subroutines, or which are
currently being executed. The <tt>$filename</tt> for
<tt>&quot;eval&quot;</tt>ed strings looks like
<tt>&quot;(eval 34)&quot;</tt> or <tt>&quot;(re_eval
19)&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>After each <tt>&quot;require&quot;</tt>d file is
compiled, but before it is executed,
<tt>&quot;DB::postponed(*{&quot;_&lt;$filename&quot;})&quot;</tt>
is called if the subroutine
<tt>&quot;DB::postponed&quot;</tt> exists. Here, the
<tt>$filename</tt> is the expanded name of the
<tt>&quot;require&quot;</tt>d file, as found in the values
of <tt>%INC</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>After each subroutine <tt>&quot;subname&quot;</tt> is
compiled, the existence of <tt>$DB::postponed{subname}</tt>
is checked. If this key exists,
<tt>&quot;DB::postponed(subname)&quot;</tt> is called if the
<tt>&quot;DB::postponed&quot;</tt> subroutine also
exists.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A hash <tt>%DB::sub</tt> is maintained, whose keys are
subroutine names and whose values have the form
<tt>&quot;filename:startline&minus;endline&quot;</tt>.
<tt>&quot;filename&quot;</tt> has the form <tt>&quot;(eval
34)&quot;</tt> for subroutines defined inside
<tt>&quot;eval&quot;</tt>s, or <tt>&quot;(re_eval
19)&quot;</tt> for those within regex code assertions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>When the execution of your program reaches a point that
can hold a breakpoint, the <tt>&quot;DB::DB()&quot;</tt>
subroutine is called if any of the variables
<tt>$DB::trace</tt>, <tt>$DB::single</tt>, or
<tt>$DB::signal</tt> is true. These variables are not
<tt>&quot;local&quot;</tt>izable. This feature is disabled
when executing inside <tt>&quot;DB::DB()&quot;</tt>,
including functions called from it unless <tt>&quot;$^D
&amp; (1&lt;&lt;30)&quot;</tt> is true.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>When execution of the program reaches a subroutine call,
a call to <tt>&amp;DB::sub</tt>(<i>args</i>) is made
instead, with <tt>$DB::sub</tt> holding the name of the
called subroutine. (This doesn&rsquo;t happen if the
subroutine was compiled in the <tt>&quot;DB&quot;</tt>
package.)</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that if
<tt>&amp;DB::sub</tt> needs external data for it to work, no
subroutine call is possible without it. As an example, the
standard debugger&rsquo;s <tt>&amp;DB::sub</tt> depends on
the <tt>$DB::deep</tt> variable (it defines how many levels
of recursion deep into the debugger you can go before a
mandatory break). If <tt>$DB::deep</tt> is not defined,
subroutine calls are not possible, even though
<tt>&amp;DB::sub</tt> exists.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Writing Your
Own Debugger</b> <i><br>
Environment Variables</i></p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;PERL5DB&quot;</tt> environment variable can be
used to define a debugger. For example, the minimal
&quot;working&quot; debugger (it actually doesn&rsquo;t do
anything) consists of one line:</p>

<pre style="margin-left:11%; margin-top: 1em">  sub DB::DB {}</pre>


<p style="margin-left:11%; margin-top: 1em">It can easily
be defined like this:</p>

<pre style="margin-left:11%; margin-top: 1em">  $ PERL5DB=&quot;sub DB::DB {}&quot; perl &minus;d your&minus;script</pre>


<p style="margin-left:11%; margin-top: 1em">Another brief
debugger, slightly more useful, can be created with only the
line:</p>

<pre style="margin-left:11%; margin-top: 1em">  sub DB::DB {print ++$i; scalar &lt;STDIN&gt;}</pre>


<p style="margin-left:11%; margin-top: 1em">This debugger
prints a number which increments for each statement
encountered and waits for you to hit a newline before
continuing to the next statement.</p>

<p style="margin-left:11%; margin-top: 1em">The following
debugger is actually useful:</p>

<pre style="margin-left:11%; margin-top: 1em">  {
    package DB;
    sub DB  {}
    sub sub {print ++$i, &quot; $sub\n&quot;; &amp;$sub}
  }</pre>


<p style="margin-left:11%; margin-top: 1em">It prints the
sequence number of each subroutine call and the name of the
called subroutine. Note that <tt>&amp;DB::sub</tt> is being
compiled into the package <tt>&quot;DB&quot;</tt> through
the use of the <tt>&quot;package&quot;</tt> directive.</p>

<p style="margin-left:11%; margin-top: 1em">When it starts,
the debugger reads your rc file (<i>./.perldb</i> or
<i>~/.perldb</i> under Unix), which can set important
options. (A subroutine (<tt>&amp;afterinit</tt>) can be
defined here as well; it is executed after the debugger
completes its own initialization.)</p>

<p style="margin-left:11%; margin-top: 1em">After the rc
file is read, the debugger reads the
<small>PERLDB_OPTS</small> environment variable and uses it
to set debugger options. The contents of this variable are
treated as if they were the argument of an <tt>&quot;o
...&quot;</tt> debugger command (q.v. in &quot;Configurable
Options&quot; in perldebug).</p>

<p style="margin-left:11%; margin-top: 1em"><i>Debugger
Internal Variables</i></p>

<p style="margin-left:11%; margin-top: 1em">In addition to
the file and subroutine-related variables mentioned above,
the debugger also maintains various magical internal
variables.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>@DB::dbline</tt> is an alias
for <tt>&quot;@{&quot;::_&lt;current_file&quot;}&quot;</tt>,
which holds the lines of the currently-selected file
(compiled by Perl), either explicitly chosen with the
debugger&rsquo;s <tt>&quot;f&quot;</tt> command, or
implicitly by flow of execution.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Values in this
array are magical in numeric context: they compare equal to
zero only if the line is not breakable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>%DB::dbline</tt> is an alias
for <tt>&quot;%{&quot;::_&lt;current_file&quot;}&quot;</tt>,
which contains breakpoints and actions keyed by line number
in the currently-selected file, either explicitly chosen
with the debugger&rsquo;s <tt>&quot;f&quot;</tt> command, or
implicitly by flow of execution.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">As previously
noted, individual entries (as opposed to the whole hash) are
settable. Perl only cares about Boolean true here, although
the values used by <i>perl5db.pl</i> have the form
<tt>&quot;$break_condition\0$action&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Debugger
Customization Functions</i></p>

<p style="margin-left:11%; margin-top: 1em">Some functions
are provided to simplify customization.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">See &quot;Configurable
Options&quot; in perldebug for a description of options
parsed by
<tt>&quot;DB::parse_options(string)&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;DB::dump_trace(skip[,count])&quot;</tt> skips
the specified number of frames and returns a list containing
information about the calling frames (all of them, if
<tt>&quot;count&quot;</tt> is missing). Each entry is
reference to a hash with keys <tt>&quot;context&quot;</tt>
(either <tt>&quot;.&quot;</tt>, <tt>&quot;$&quot;</tt>, or
<tt>&quot;@&quot;</tt>), <tt>&quot;sub&quot;</tt>
(subroutine name, or info about <tt>&quot;eval&quot;</tt>),
<tt>&quot;args&quot;</tt> (<tt>&quot;undef&quot;</tt> or a
reference to an array), <tt>&quot;file&quot;</tt>, and
<tt>&quot;line&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;DB::print_trace(FH, skip[, count[,
short]])&quot;</tt> prints formatted info about caller
frames. The last two functions may be convenient as
arguments to <tt>&quot;&lt;&quot;</tt>,
<tt>&quot;&lt;&lt;&quot;</tt> commands.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that any
variables and functions that are not documented in this
manpages (or in perldebug) are considered for internal use
only, and as such are subject to change without notice.</p>

<h2>Frame Listing Output Examples
<a name="Frame Listing Output Examples"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;frame&quot;</tt> option can be used to control the
output of frame information. For example, contrast this
expression trace:</p>

<pre style="margin-left:11%; margin-top: 1em"> $ perl &minus;de 42
 Stack dump during die enabled outside of evals.
 Loading DB routines from perl5db.pl patch level 0.94
 Emacs support available.
 Enter h or 'h h' for help.
 main::(&minus;e:1):   0
   DB&lt;1&gt; sub foo { 14 }
   DB&lt;2&gt; sub bar { 3 }
   DB&lt;3&gt; t print foo() * bar()
 main::((eval 172):3):   print foo() + bar();
 main::foo((eval 168):2):
 main::bar((eval 170):2):
 42</pre>


<p style="margin-left:11%; margin-top: 1em">with this one,
once the <tt>&quot;o&quot;</tt>ption
<tt>&quot;frame=2&quot;</tt> has been set:</p>

<pre style="margin-left:11%; margin-top: 1em">   DB&lt;4&gt; o f=2
                frame = '2'
   DB&lt;5&gt; t print foo() * bar()
 3:      foo() * bar()
 entering main::foo
  2:     sub foo { 14 };
 exited main::foo
 entering main::bar
  2:     sub bar { 3 };
 exited main::bar
 42</pre>


<p style="margin-left:11%; margin-top: 1em">By way of
demonstration, we present below a laborious listing
resulting from setting your <tt>&quot;PERLDB_OPTS&quot;</tt>
environment variable to the value <tt>&quot;f=n
N&quot;</tt>, and running <i>perl &minus;d &minus;V</i> from
the command line. Examples using various values of
<tt>&quot;n&quot;</tt> are shown to give you a feel for the
difference between settings. Long though it may be, this is
not a complete listing, but only excerpts.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="6%"></td>
<td width="31%">

<pre style="margin-top: 1em">  entering main::BEGIN</td>
<td width="49%">
</td></tr>
</table></pre>

<p style="margin-left:17%;">entering Config::BEGIN <br>
Package lib/Exporter.pm. <br>
Package lib/Carp.pm. <br>
Package lib/Config.pm. <br>
entering Config::TIEHASH <br>
entering Exporter::import <br>
entering Exporter::export <br>
entering Config::myconfig <br>
entering Config::FETCH <br>
entering Config::FETCH <br>
entering Config::FETCH <br>
entering Config::FETCH</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">2.</p></td>
<td width="6%"></td>
<td width="31%">

<pre style="margin-top: 1em">  entering main::BEGIN</td>
<td width="49%">
</td></tr>
</table></pre>

<p style="margin-left:17%;">entering Config::BEGIN <br>
Package lib/Exporter.pm. <br>
Package lib/Carp.pm. <br>
exited Config::BEGIN <br>
Package lib/Config.pm. <br>
entering Config::TIEHASH <br>
exited Config::TIEHASH <br>
entering Exporter::import <br>
entering Exporter::export <br>
exited Exporter::export <br>
exited Exporter::import <br>
exited main::BEGIN <br>
entering Config::myconfig <br>
entering Config::FETCH <br>
exited Config::FETCH <br>
entering Config::FETCH <br>
exited Config::FETCH <br>
entering Config::FETCH</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">3.</p></td>
<td width="6%"></td>
<td width="55%">

<pre style="margin-top: 1em">  in  $=main::BEGIN() from /dev/null:0</td>
<td width="25%">
</td></tr>
</table></pre>

<p style="margin-left:17%;">in $=Config::BEGIN() from
lib/Config.pm:2 <br>
Package lib/Exporter.pm. <br>
Package lib/Carp.pm. <br>
Package lib/Config.pm. <br>
in $=Config::TIEHASH('Config') from lib/Config.pm:644 <br>
in $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
in $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from li <br>
in @=Config::myconfig() from /dev/null:0 <br>
in $=Config::FETCH(ref(Config), 'package') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'baserev') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'PERL_VERSION') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'PERL_SUBVERSION') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'osname') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'osvers') from
lib/Config.pm:574</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">4.</p></td>
<td width="6%"></td>
<td width="55%">

<pre style="margin-top: 1em">  in  $=main::BEGIN() from /dev/null:0</td>
<td width="25%">
</td></tr>
</table></pre>

<p style="margin-left:17%;">in $=Config::BEGIN() from
lib/Config.pm:2 <br>
Package lib/Exporter.pm. <br>
Package lib/Carp.pm. <br>
out $=Config::BEGIN() from lib/Config.pm:0 <br>
Package lib/Config.pm. <br>
in $=Config::TIEHASH('Config') from lib/Config.pm:644 <br>
out $=Config::TIEHASH('Config') from lib/Config.pm:644 <br>
in $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
in $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from lib/ <br>
out $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from lib/ <br>
out $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
out $=main::BEGIN() from /dev/null:0 <br>
in @=Config::myconfig() from /dev/null:0 <br>
in $=Config::FETCH(ref(Config), 'package') from
lib/Config.pm:574 <br>
out $=Config::FETCH(ref(Config), 'package') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'baserev') from
lib/Config.pm:574 <br>
out $=Config::FETCH(ref(Config), 'baserev') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'PERL_VERSION') from
lib/Config.pm:574 <br>
out $=Config::FETCH(ref(Config), 'PERL_VERSION') from
lib/Config.pm:574 <br>
in $=Config::FETCH(ref(Config), 'PERL_SUBVERSION') from
lib/Config.pm:574</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">5.</p></td>
<td width="6%"></td>
<td width="55%">

<pre style="margin-top: 1em">  in  $=main::BEGIN() from /dev/null:0</td>
<td width="25%">
</td></tr>
</table></pre>

<p style="margin-left:17%;">in $=Config::BEGIN() from
lib/Config.pm:2 <br>
Package lib/Exporter.pm. <br>
Package lib/Carp.pm. <br>
out $=Config::BEGIN() from lib/Config.pm:0 <br>
Package lib/Config.pm. <br>
in $=Config::TIEHASH('Config') from lib/Config.pm:644 <br>
out $=Config::TIEHASH('Config') from lib/Config.pm:644 <br>
in $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
in $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from lib/E <br>
out $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from lib/E <br>
out $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
out $=main::BEGIN() from /dev/null:0 <br>
in @=Config::myconfig() from /dev/null:0 <br>
in $=Config::FETCH('Config=HASH(0x1aa444)', 'package') from
lib/Config.pm:574 <br>
out $=Config::FETCH('Config=HASH(0x1aa444)', 'package') from
lib/Config.pm:574 <br>
in $=Config::FETCH('Config=HASH(0x1aa444)', 'baserev') from
lib/Config.pm:574 <br>
out $=Config::FETCH('Config=HASH(0x1aa444)', 'baserev') from
lib/Config.pm:574</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">6.</p></td>
<td width="6%"></td>
<td width="60%">

<pre style="margin-top: 1em">  in  $=CODE(0x15eca4)() from /dev/null:0</td>
<td width="20%">
</td></tr>
</table></pre>

<p style="margin-left:17%;">in $=CODE(0x182528)() from
lib/Config.pm:2 <br>
Package lib/Exporter.pm. <br>
out $=CODE(0x182528)() from lib/Config.pm:0 <br>
scalar context return from CODE(0x182528): undef <br>
Package lib/Config.pm. <br>
in $=Config::TIEHASH('Config') from lib/Config.pm:628 <br>
out $=Config::TIEHASH('Config') from lib/Config.pm:628 <br>
scalar context return from Config::TIEHASH: empty hash <br>
in $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
in $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from lib/Exporter.pm:171 <br>
out $=Exporter::export('Config', 'main', 'myconfig',
'config_vars') from lib/Exporter.pm:171 <br>
scalar context return from Exporter::export: '' <br>
out $=Exporter::import('Config', 'myconfig', 'config_vars')
from /dev/null:0 <br>
scalar context return from Exporter::import: ''</p>

<p style="margin-left:11%; margin-top: 1em">In all cases
shown above, the line indentation shows the call tree. If
bit 2 of <tt>&quot;frame&quot;</tt> is set, a line is
printed on exit from a subroutine as well. If bit 4 is set,
the arguments are printed along with the caller info. If bit
8 is set, the arguments are printed even if they are tied or
references. If bit 16 is set, the return value is printed,
too.</p>

<p style="margin-left:11%; margin-top: 1em">When a package
is compiled, a line like this</p>

<pre style="margin-left:11%; margin-top: 1em">    Package lib/Carp.pm.</pre>


<p style="margin-left:11%; margin-top: 1em">is printed with
proper indentation.</p>

<h2>Debugging Regular Expressions
<a name="Debugging Regular Expressions"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are two
ways to enable debugging output for regular expressions.</p>

<p style="margin-left:11%; margin-top: 1em">If your perl is
compiled with <tt>&quot;&minus;DDEBUGGING&quot;</tt>, you
may use the <b>&minus;Dr</b> flag on the command line.</p>

<p style="margin-left:11%; margin-top: 1em">Otherwise, one
can <tt>&quot;use re 'debug'&quot;</tt>, which has effects
at compile time and run time. Since Perl 5.9.5, this pragma
is lexically scoped.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Compile-time
Output</b> <br>
The debugging output at compile time looks like this:</p>

<pre style="margin-left:11%; margin-top: 1em">  Compiling REx '[bc]d(ef*g)+h[ij]k$'
  size 45 Got 364 bytes for offset annotations.
  first at 1
  rarest char g at 0
  rarest char d at 0
     1: ANYOF[bc](12)
    12: EXACT &lt;d&gt;(14)
    14: CURLYX[0] {1,32767}(28)
    16:   OPEN1(18)
    18:     EXACT &lt;e&gt;(20)
    20:     STAR(23)
    21:       EXACT &lt;f&gt;(0)
    23:     EXACT &lt;g&gt;(25)
    25:   CLOSE1(27)
    27:   WHILEM[1/1](0)
    28: NOTHING(29)
    29: EXACT &lt;h&gt;(31)
    31: ANYOF[ij](42)
    42: EXACT &lt;k&gt;(44)
    44: EOL(45)
    45: END(0)
  anchored 'de' at 1 floating 'gh' at 3..2147483647 (checking floating)
        stclass 'ANYOF[bc]' minlen 7
  Offsets: [45]
        1[4] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 5[1]
        0[0] 12[1] 0[0] 6[1] 0[0] 7[1] 0[0] 9[1] 8[1] 0[0] 10[1] 0[0]
        11[1] 0[0] 12[0] 12[0] 13[1] 0[0] 14[4] 0[0] 0[0] 0[0] 0[0]
        0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 18[1] 0[0] 19[1] 20[0]
  Omitting $` $&amp; $' support.</pre>


<p style="margin-left:11%; margin-top: 1em">The first line
shows the pre-compiled form of the regex. The second shows
the size of the compiled form (in arbitrary units, usually
4&minus;byte words) and the total number of bytes allocated
for the offset/length table, usually
4+<tt>&quot;size&quot;</tt>*8. The next line shows the label
<i>id</i> of the first node that does a match.</p>

<p style="margin-left:11%; margin-top: 1em">The</p>

<pre style="margin-left:11%; margin-top: 1em">  anchored 'de' at 1 floating 'gh' at 3..2147483647 (checking floating)
        stclass 'ANYOF[bc]' minlen 7</pre>


<p style="margin-left:11%; margin-top: 1em">line (split
into two lines above) contains optimizer information. In the
example shown, the optimizer found that the match should
contain a substring <tt>&quot;de&quot;</tt> at offset 1,
plus substring <tt>&quot;gh&quot;</tt> at some offset
between 3 and infinity. Moreover, when checking for these
substrings (to abandon impossible matches quickly), Perl
will check for the substring <tt>&quot;gh&quot;</tt> before
checking for the substring <tt>&quot;de&quot;</tt>. The
optimizer may also use the knowledge that the match starts
(at the <tt>&quot;first&quot;</tt> <i>id</i>) with a
character class, and no string shorter than 7 characters can
possibly match.</p>

<p style="margin-left:11%; margin-top: 1em">The fields of
interest which may appear in this line are <br>
&quot;anchored&quot; <i><small>STRING</small></i>
&quot;at&quot; <i><small>POS</small></i> <br>
&quot;floating&quot; <i><small>STRING</small></i>
&quot;at&quot; <i><small>POS1</small> ..POS2</i></p>

<p style="margin-left:17%;">See above.</p>

<p style="margin-left:11%;">&quot;matching
floating/anchored&quot;</p>

<p style="margin-left:17%;">Which substring to check
first.</p>

<p style="margin-left:11%;">&quot;minlen&quot;</p>

<p style="margin-left:17%;">The minimal length of the
match.</p>

<p style="margin-left:11%;">&quot;stclass&quot;
<i><small>TYPE</small></i></p>

<p style="margin-left:17%;">Type of first matching
node.</p>

<p style="margin-left:11%;">&quot;noscan&quot;</p>

<p style="margin-left:17%;">Don&rsquo;t scan for the found
substrings.</p>

<p style="margin-left:11%;">&quot;isall&quot;</p>

<p style="margin-left:17%;">Means that the optimizer
information is all that the regular expression contains, and
thus one does not need to enter the regex engine at all.</p>

<p style="margin-left:11%;">&quot;GPOS&quot;</p>

<p style="margin-left:17%;">Set if the pattern contains
<tt>&quot;\G&quot;</tt>.</p>

<p style="margin-left:11%;">&quot;plus&quot;</p>

<p style="margin-left:17%;">Set if the pattern starts with
a repeated char (as in <tt>&quot;x+y&quot;</tt>).</p>

<p style="margin-left:11%;">&quot;implicit&quot;</p>

<p style="margin-left:17%;">Set if the pattern starts with
<tt>&quot;.*&quot;</tt>.</p>

<p style="margin-left:11%;">&quot;with eval&quot;</p>

<p style="margin-left:17%;">Set if the pattern contain
eval-groups, such as <tt>&quot;(?{ code })&quot;</tt> and
<tt>&quot;(??{ code })&quot;</tt>.</p>

<p style="margin-left:11%;">&quot;anchored(TYPE)&quot;</p>

<p style="margin-left:17%;">If the pattern may match only
at a handful of places, with <tt>&quot;TYPE&quot;</tt> being
<tt>&quot;BOL&quot;</tt>, <tt>&quot;MBOL&quot;</tt>, or
<tt>&quot;GPOS&quot;</tt>. See the table below.</p>

<p style="margin-left:11%; margin-top: 1em">If a substring
is known to match at end-of-line only, it may be followed by
<tt>&quot;$&quot;</tt>, as in <tt>&quot;floating
'k'$&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The
optimizer-specific information is used to avoid entering (a
slow) regex engine on strings that will not definitely
match. If the <tt>&quot;isall&quot;</tt> flag is set, a call
to the regex engine may be avoided even when the optimizer
found an appropriate place for the match.</p>

<p style="margin-left:11%; margin-top: 1em">Above the
optimizer section is the list of <i>nodes</i> of the
compiled form of the regex. Each line has format</p>

<p style="margin-left:11%; margin-top: 1em"><tt>&quot;
&quot;</tt><i>id</i>: <i><small>TYPE</small>
OPTIONAL-INFO</i> (<i>next-id</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Types of
Nodes</b> <br>
Here are the possible types, with short descriptions:</p>

<pre style="margin-left:11%; margin-top: 1em"> # TYPE arg&minus;description [num&minus;args] [longjump&minus;len] DESCRIPTION
 # Exit points
 END   no        End of program.
 SUCCEED   no        Return from a subroutine, basically.
 # Anchors:
 BOL        no      Match &quot;&quot; at beginning of line.
 MBOL       no      Same, assuming multiline.
 SBOL       no      Same, assuming singleline.
 EOS        no      Match &quot;&quot; at end of string.
 EOL        no      Match &quot;&quot; at end of line.
 MEOL       no      Same, assuming multiline.
 SEOL       no      Same, assuming singleline.
 BOUND      no      Match &quot;&quot; at any word boundary using native charset
                    semantics for non&minus;utf8
 BOUNDL     no      Match &quot;&quot; at any locale word boundary
 BOUNDU     no      Match &quot;&quot; at any word boundary using Unicode semantics
 BOUNDA     no      Match &quot;&quot; at any word boundary using ASCII semantics
 NBOUND     no      Match &quot;&quot; at any word non&minus;boundary using native charset
                    semantics for non&minus;utf8
 NBOUNDL    no      Match &quot;&quot; at any locale word non&minus;boundary
 NBOUNDU    no      Match &quot;&quot; at any word non&minus;boundary using Unicode semantics
 NBOUNDA    no      Match &quot;&quot; at any word non&minus;boundary using ASCII semantics
 GPOS       no      Matches where last m//g left off.
 # [Special] alternatives:
 REG_ANY    no      Match any one character (except newline).
 SANY       no      Match any one character.
 CANY       no      Match any one byte.
 ANYOF      sv      Match character in (or not in) this class, single char
                    match only
 ANYOFV     sv      Match character in (or not in) this class, can
                    match&minus;multiple chars
 ALNUM      no      Match any alphanumeric character using native charset
                    semantics for non&minus;utf8
 ALNUML     no      Match any alphanumeric char in locale
 ALNUMU     no      Match any alphanumeric char using Unicode semantics
 ALNUMA     no      Match [A&minus;Za&minus;z_0&minus;9]
 NALNUM     no      Match any non&minus;alphanumeric character using native charset
                    semantics for non&minus;utf8
 NALNUML    no      Match any non&minus;alphanumeric char in locale
 NALNUMU    no      Match any non&minus;alphanumeric char using Unicode semantics
 NALNUMA    no      Match [^A&minus;Za&minus;z_0&minus;9]
 SPACE      no      Match any whitespace character using native charset
                    semantics for non&minus;utf8
 SPACEL     no      Match any whitespace char in locale
 SPACEU     no      Match any whitespace char using Unicode semantics
 SPACEA     no      Match [ \t\n\f\r]
 NSPACE     no      Match any non&minus;whitespace character using native charset
                    semantics for non&minus;utf8
 NSPACEL    no      Match any non&minus;whitespace char in locale
 NSPACEU    no      Match any non&minus;whitespace char using Unicode semantics
 NSPACEA    no      Match [^ \t\n\f\r]
 DIGIT      no      Match any numeric character using native charset semantics
                    for non&minus;utf8
 DIGITL     no      Match any numeric character in locale
 DIGITA     no      Match [0&minus;9]
 NDIGIT     no      Match any non&minus;numeric character using native charset
 i                  semantics for non&minus;utf8
 NDIGITL    no      Match any non&minus;numeric character in locale
 NDIGITA    no      Match [^0&minus;9]
 CLUMP      no      Match any extended grapheme cluster sequence
 # Alternation
 # BRANCH        The set of branches constituting a single choice are hooked
 #               together with their &quot;next&quot; pointers, since precedence prevents
 #               anything being concatenated to any individual branch.  The
 #               &quot;next&quot; pointer of the last BRANCH in a choice points to the
 #               thing following the whole choice.  This is also where the
 #               final &quot;next&quot; pointer of each individual branch points; each
 #               branch starts with the operand node of a BRANCH node.
 #
 BRANCH node        Match this alternative, or the next...
 # Back pointer
 # BACK          Normal &quot;next&quot; pointers all implicitly point forward; BACK
 #               exists to make loop structures possible.
 # not used
 BACK       no      Match &quot;&quot;, &quot;next&quot; ptr points backward.
 # Literals
 EXACT      str     Match this string (preceded by length).
 EXACTF     str     Match this string, folded, native charset semantics for
                    non&minus;utf8 (prec. by length).
 EXACTFL    str     Match this string, folded in locale (w/len).
 EXACTFU    str     Match this string, folded, Unicode semantics for non&minus;utf8
                    (prec. by length).
 EXACTFA    str     Match this string, folded, Unicode semantics for non&minus;utf8,
                    but no ASCII&minus;range character matches outside ASCII (prec.
                    by length),.
 # Do nothing types
 NOTHING    no        Match empty string.
 # A variant of above which delimits a group, thus stops optimizations
 TAIL       no        Match empty string. Can jump here from outside.
 # Loops
 # STAR,PLUS    '?', and complex '*' and '+', are implemented as circular
 #               BRANCH structures using BACK.  Simple cases (one character
 #               per match) are implemented with STAR and PLUS for speed
 #               and to minimize recursive plunges.
 #
 STAR       node    Match this (simple) thing 0 or more times.
 PLUS       node    Match this (simple) thing 1 or more times.
 CURLY      sv 2    Match this simple thing {n,m} times.
 CURLYN     no 2    Capture next&minus;after&minus;this simple thing
 CURLYM     no 2    Capture this medium&minus;complex thing {n,m} times.
 CURLYX     sv 2    Match this complex thing {n,m} times.
 # This terminator creates a loop structure for CURLYX
 WHILEM     no      Do curly processing and see if rest matches.
 # Buffer related
 # OPEN,CLOSE,GROUPP     ...are numbered at compile time.
 OPEN       num 1   Mark this point in input as start of #n.
 CLOSE      num 1   Analogous to OPEN.
 REF        num 1   Match some already matched string
 REFF       num 1   Match already matched string, folded using native charset
                    semantics for non&minus;utf8
 REFFL      num 1   Match already matched string, folded in loc.
 REFFU      num 1   Match already matched string, folded using unicode
                    semantics for non&minus;utf8
 REFFA      num 1   Match already matched string, folded using unicode
                    semantics for non&minus;utf8, no mixing ASCII, non&minus;ASCII
 # Named references.  Code in regcomp.c assumes that these all are after the
 # numbered references
 NREF       no&minus;sv 1 Match some already matched string
 NREFF      no&minus;sv 1 Match already matched string, folded using native charset
                    semantics for non&minus;utf8
 NREFFL     no&minus;sv 1 Match already matched string, folded in loc.
 NREFFU     num   1 Match already matched string, folded using unicode
                    semantics for non&minus;utf8
 NREFFA     num   1 Match already matched string, folded using unicode
                    semantics for non&minus;utf8, no mixing ASCII, non&minus;ASCII
 IFMATCH    off 1 2 Succeeds if the following matches.
 UNLESSM    off 1 2 Fails if the following matches.
 SUSPEND    off 1 1 &quot;Independent&quot; sub&minus;RE.
 IFTHEN     off 1 1 Switch, should be preceded by switcher.
 GROUPP     num 1   Whether the group matched.
 # Support for long RE
 LONGJMP    off 1 1 Jump far away.
 BRANCHJ    off 1 1 BRANCH with long offset.
 # The heavy worker
 EVAL       evl 1   Execute some Perl code.
 # Modifiers
 MINMOD     no      Next operator is not greedy.
 LOGICAL    no      Next opcode should set the flag only.
 # This is not used yet
 RENUM      off 1 1 Group with independently numbered parens.
 # Trie Related
 # Behave the same as A|LIST|OF|WORDS would. The '..C' variants have
 # inline charclass data (ascii only), the 'C' store it in the structure.
 # NOTE: the relative order of the TRIE&minus;like regops  is significant
 TRIE       trie 1    Match many EXACT(F[ALU]?)? at once. flags==type
 TRIEC      charclass Same as TRIE, but with embedded charclass data
 # For start classes, contains an added fail table.
 AHOCORASICK trie 1   Aho Corasick stclass. flags==type
 AHOCORASICKC charclass Same as AHOCORASICK, but with embedded charclass data
 # Regex Subroutines
 GOSUB      num/ofs 2L recurse to paren arg1 at (signed) ofs arg2
 GOSTART    no         recurse to start of pattern
 # Special conditionals
 NGROUPP    no&minus;sv 1   Whether the group matched.
 INSUBP     num 1     Whether we are in a specific recurse.
 DEFINEP    none 1    Never execute directly.
 # Backtracking Verbs
 ENDLIKE    none      Used only for the type field of verbs
 OPFAIL     none      Same as (?!)
 ACCEPT     parno 1   Accepts the current matched string.
 # Verbs With Arguments
 VERB       no&minus;sv 1   Used only for the type field of verbs
 PRUNE      no&minus;sv 1   Pattern fails at this startpoint if no&minus;backtracking through this
 MARKPOINT  no&minus;sv 1   Push the current location for rollback by cut.
 SKIP       no&minus;sv 1   On failure skip forward (to the mark) before retrying
 COMMIT     no&minus;sv 1   Pattern fails outright if backtracking through this
 CUTGROUP   no&minus;sv 1   On failure go to the next alternation in the group
 # Control what to keep in $&amp;.
 KEEPS      no        $&amp; begins here.
 # New charclass like patterns
 LNBREAK    none      generic newline pattern
 VERTWS     none      vertical whitespace         (Perl 6)
 NVERTWS    none      not vertical whitespace     (Perl 6)
 HORIZWS    none      horizontal whitespace       (Perl 6)
 NHORIZWS   none      not horizontal whitespace   (Perl 6)
 FOLDCHAR   codepoint 1 codepoint with tricky case folding properties.
 # SPECIAL  REGOPS
 # This is not really a node, but an optimized away piece of a &quot;long&quot; node.
 # To simplify debugging output, we mark it as if it were a node
 OPTIMIZED  off       Placeholder for dump.
 # Special opcode with the property that no opcode in a compiled program
 # will ever be of this type. Thus it can be used as a flag value that
 # no other opcode has been seen. END is used similarly, in that an END
 # node cant be optimized. So END implies &quot;unoptimizable&quot; and PSEUDO mean
 # &quot;not seen anything to optimize yet&quot;.
 PSEUDO     off       Pseudo opcode for internal use.</pre>


<p style="margin-left:11%; margin-top: 1em">Following the
optimizer information is a dump of the offset/length table,
here split across several lines:</p>

<pre style="margin-left:11%; margin-top: 1em">  Offsets: [45]
        1[4] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 5[1]
        0[0] 12[1] 0[0] 6[1] 0[0] 7[1] 0[0] 9[1] 8[1] 0[0] 10[1] 0[0]
        11[1] 0[0] 12[0] 12[0] 13[1] 0[0] 14[4] 0[0] 0[0] 0[0] 0[0]
        0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 18[1] 0[0] 19[1] 20[0]</pre>


<p style="margin-left:11%; margin-top: 1em">The first line
here indicates that the offset/length table contains 45
entries. Each entry is a pair of integers, denoted by
<tt>&quot;offset[length]&quot;</tt>. Entries are numbered
starting with 1, so entry #1 here is
<tt>&quot;1[4]&quot;</tt> and entry #12 is
<tt>&quot;5[1]&quot;</tt>. <tt>&quot;1[4]&quot;</tt>
indicates that the node labeled <tt>&quot;1:&quot;</tt> (the
<tt>&quot;1: ANYOF[bc]&quot;</tt>) begins at character
position 1 in the pre-compiled form of the regex, and has a
length of 4 characters. <tt>&quot;5[1]&quot;</tt> in
position 12 indicates that the node labeled
<tt>&quot;12:&quot;</tt> (the <tt>&quot;12: EXACT
&lt;d&gt;&quot;</tt>) begins at character position 5 in the
pre-compiled form of the regex, and has a length of 1
character. <tt>&quot;12[1]&quot;</tt> in position 14
indicates that the node labeled <tt>&quot;14:&quot;</tt>
(the <tt>&quot;14: CURLYX[0] {1,32767}&quot;</tt>) begins at
character position 12 in the pre-compiled form of the regex,
and has a length of 1 character&minus;&minus;&minus;that is,
it corresponds to the <tt>&quot;+&quot;</tt> symbol in the
precompiled regex.</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;0[0]&quot;</tt>
items indicate that there is no corresponding node.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Run-time
Output</b> <br>
First of all, when doing a match, one may get no run-time
output even if debugging is enabled. This means that the
regex engine was never entered and that all of the job was
therefore done by the optimizer.</p>

<p style="margin-left:11%; margin-top: 1em">If the regex
engine was entered, the output may look like this:</p>

<pre style="margin-left:11%; margin-top: 1em">  Matching '[bc]d(ef*g)+h[ij]k$' against 'abcdefg__gh__'
    Setting an EVAL scope, savestack=3
     2 &lt;ab&gt; &lt;cdefg__gh_&gt;    |  1: ANYOF
     3 &lt;abc&gt; &lt;defg__gh_&gt;    | 11: EXACT &lt;d&gt;
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 13: CURLYX {1,32767}
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 26:   WHILEM
                                0 out of 1..32767  cc=effff31c
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 15:     OPEN1
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 17:     EXACT &lt;e&gt;
     5 &lt;abcde&gt; &lt;fg__gh_&gt;    | 19:     STAR
                             EXACT &lt;f&gt; can match 1 times out of 32767...
    Setting an EVAL scope, savestack=3
     6 &lt;bcdef&gt; &lt;g__gh__&gt;    | 22:       EXACT &lt;g&gt;
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 24:       CLOSE1
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 26:       WHILEM
                                    1 out of 1..32767  cc=effff31c
    Setting an EVAL scope, savestack=12
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 15:         OPEN1
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 17:         EXACT &lt;e&gt;
       restoring \1 to 4(4)..7
                                    failed, try continuation...
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 27:         NOTHING
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 28:         EXACT &lt;h&gt;
                                    failed...
                                failed...</pre>


<p style="margin-left:11%; margin-top: 1em">The most
significant information in the output is about the
particular <i>node</i> of the compiled regex that is
currently being tested against the target string. The format
of these lines is</p>

<p style="margin-left:11%; margin-top: 1em"><tt>&quot;
&quot;</tt><i>STRING-OFFSET</i> &lt;<i>PRE-STRING</i>&gt;
&lt;<i>POST-STRING</i>&gt; | <i><small>ID</small></i> :
<i><small>TYPE</small></i></p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>TYPE</small></i> info is indented with respect to
the backtracking level. Other incidental information appears
interspersed within.</p>

<h2>Debugging Perl Memory Usage
<a name="Debugging Perl Memory Usage"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Perl is a
profligate wastrel when it comes to memory use. There is a
saying that to estimate memory usage of Perl, assume a
reasonable algorithm for memory allocation, multiply that
estimate by 10, and while you still may miss the mark, at
least you won&rsquo;t be quite so astonished. This is not
absolutely true, but may provide a good grasp of what
happens.</p>

<p style="margin-left:11%; margin-top: 1em">Assume that an
integer cannot take less than 20 bytes of memory, a float
cannot take less than 24 bytes, a string cannot take less
than 32 bytes (all these examples assume 32&minus;bit
architectures, the result are quite a bit worse on
64&minus;bit architectures). If a variable is accessed in
two of three different ways (which require an integer, a
float, or a string), the memory footprint may increase yet
another 20 bytes. A sloppy <i>malloc</i>(3) implementation
can inflate these numbers dramatically.</p>

<p style="margin-left:11%; margin-top: 1em">On the opposite
end of the scale, a declaration like</p>

<pre style="margin-left:11%; margin-top: 1em">  sub foo;</pre>


<p style="margin-left:11%; margin-top: 1em">may take up to
500 bytes of memory, depending on which release of Perl
you&rsquo;re running.</p>

<p style="margin-left:11%; margin-top: 1em">Anecdotal
estimates of source-to-compiled code bloat suggest an
eightfold increase. This means that the compiled form of
reasonable (normally commented, properly indented etc.) code
will take about eight times more space in memory than the
code took on disk.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;DL</b> command-line switch is obsolete since circa
Perl 5.6.0 (it was available only if Perl was built with
<tt>&quot;&minus;DDEBUGGING&quot;</tt>). The switch was used
to track Perl&rsquo;s memory allocations and possible memory
leaks. These days the use of malloc debugging tools like
<i>Purify</i> or <i>valgrind</i> is suggested instead. See
also &quot; <small>PERL_MEM_LOG</small> &quot; in
perlhacktips.</p>

<p style="margin-left:11%; margin-top: 1em">One way to find
out how much memory is being used by Perl data structures is
to install the Devel::Size module from <small>CPAN:</small>
it gives you the minimum number of bytes required to store a
particular data structure. Please be mindful of the
difference between the <i>size()</i> and
<i>total_size()</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If Perl has
been compiled using Perl&rsquo;s malloc you can analyze Perl
memory usage by setting <tt>$ENV</tt>{
<small>PERL_DEBUG_MSTATS</small> }.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Using
$ENV{PERL_DEBUG_MSTATS}</b> <br>
If your perl is using Perl&rsquo;s <i>malloc()</i> and was
compiled with the necessary switches (this is the default),
then it will print memory usage statistics after compiling
your code when <tt>&quot;$ENV{PERL_DEBUG_MSTATS} &gt;
1&quot;</tt>, and before termination of the program when
<tt>&quot;$ENV{PERL_DEBUG_MSTATS} &gt;= 1&quot;</tt>. The
report format is similar to the following example:</p>

<pre style="margin-left:11%; margin-top: 1em">  $ PERL_DEBUG_MSTATS=2 perl &minus;e &quot;require Carp&quot;
  Memory allocation statistics after compilation: (buckets 4(4)..8188(8192)
     14216 free:   130   117    28     7     9   0   2     2   1 0 0
                437    61    36     0     5
     60924 used:   125   137   161    55     7   8   6    16   2 0 1
                 74   109   304    84    20
  Total sbrk(): 77824/21:119. Odd ends: pad+heads+chain+tail: 0+636+0+2048.
  Memory allocation statistics after execution:   (buckets 4(4)..8188(8192)
     30888 free:   245    78    85    13     6   2   1     3   2 0 1
                315   162    39    42    11
    175816 used:   265   176  1112   111    26  22  11    27   2 1 1
                196   178  1066   798    39
  Total sbrk(): 215040/47:145. Odd ends: pad+heads+chain+tail: 0+2192+0+6144.</pre>


<p style="margin-left:11%; margin-top: 1em">It is possible
to ask for such a statistic at arbitrary points in your
execution using the <i>mstat()</i> function out of the
standard Devel::Peek module.</p>

<p style="margin-left:11%; margin-top: 1em">Here is some
explanation of that format: <br>
&quot;buckets SMALLEST(APPROX)..GREATEST(APPROX)&quot;</p>

<p style="margin-left:17%;">Perl&rsquo;s <i>malloc()</i>
uses bucketed allocations. Every request is rounded up to
the closest bucket size available, and a bucket is taken
from the pool of buckets of that size.</p>

<p style="margin-left:17%; margin-top: 1em">The line above
describes the limits of buckets currently in use. Each
bucket has two sizes: memory footprint and the maximal size
of user data that can fit into this bucket. Suppose in the
above example that the smallest bucket were size 4. The
biggest bucket would have usable size 8188, and the memory
footprint would be 8192.</p>

<p style="margin-left:17%; margin-top: 1em">In a Perl built
for debugging, some buckets may have negative usable size.
This means that these buckets cannot (and will not) be used.
For larger buckets, the memory footprint may be one page
greater than a power of 2. If so, the corresponding power of
two is printed in the <tt>&quot;APPROX&quot;</tt> field
above.</p>

<p style="margin-left:11%;">Free/Used</p>

<p style="margin-left:17%;">The 1 or 2 rows of numbers
following that correspond to the number of buckets of each
size between <tt>&quot;SMALLEST&quot;</tt> and
<tt>&quot;GREATEST&quot;</tt>. In the first row, the sizes
(memory footprints) of buckets are powers of two--or
possibly one page greater. In the second row, if present,
the memory footprints of the buckets are between the memory
footprints of two buckets &quot;above&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
suppose under the previous example, the memory footprints
were</p>

<pre style="margin-left:17%; margin-top: 1em">     free:    8     16    32    64    128  256 512 1024 2048 4096 8192
           4     12    24    48    80</pre>


<p style="margin-left:17%; margin-top: 1em">With a
non&minus;<tt>&quot;DEBUGGING&quot;</tt> perl, the buckets
starting from <tt>128</tt> have a 4&minus;byte overhead, and
thus an 8192&minus;long bucket may take up to
8188&minus;byte allocations.</p>

<p style="margin-left:11%;">&quot;Total sbrk():
SBRKed/SBRKs:CONTINUOUS&quot;</p>

<p style="margin-left:17%;">The first two fields give the
total amount of memory perl <i>sbrk</i>(2)ed (ess-broken?
:&minus;) and number of <i>sbrk</i>(2)s used. The third
number is what perl thinks about continuity of returned
chunks. So long as this number is positive, <i>malloc()</i>
will assume that it is probable that <i>sbrk</i>(2) will
provide continuous memory.</p>

<p style="margin-left:17%; margin-top: 1em">Memory
allocated by external libraries is not counted.</p>

<p style="margin-left:11%;">&quot;pad: 0&quot;</p>

<p style="margin-left:17%;">The amount of <i>sbrk</i>(2)ed
memory needed to keep buckets aligned.</p>

<p style="margin-left:11%;">&quot;heads: 2192&quot;</p>

<p style="margin-left:17%;">Although memory overhead of
bigger buckets is kept inside the bucket, for smaller
buckets, it is kept in separate areas. This field gives the
total size of these areas.</p>

<p style="margin-left:11%;">&quot;chain: 0&quot;</p>

<p style="margin-left:17%;"><i>malloc()</i> may want to
subdivide a bigger bucket into smaller buckets. If only a
part of the deceased bucket is left unsubdivided, the rest
is kept as an element of a linked list. This field gives the
total size of these chunks.</p>

<p style="margin-left:11%;">&quot;tail: 6144&quot;</p>

<p style="margin-left:17%;">To minimize the number of
<i>sbrk</i>(2)s, <i>malloc()</i> asks for more memory. This
field gives the size of the yet unused part, which is
<i>sbrk</i>(2)ed, but never touched.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perldebug,
perlguts, perlrun re, and Devel::DProf.</p>
<hr>
</body>
</html>
