<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:09:48 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>GETHOSTBYNAME</title>

</head>
<body>

<h1 align="center">GETHOSTBYNAME</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#CONFORMING TO">CONFORMING TO</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">gethostbyname,
gethostbyaddr, sethostent, gethostent, endhostent, h_errno,
herror, hstrerror, gethostbyaddr_r, gethostbyname2,
gethostbyname2_r, gethostbyname_r, gethostent_r &minus; get
network host entry</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;netdb.h&gt; <br>
extern int h_errno;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>struct
hostent *gethostbyname(const char
*</b><i>name</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;sys/socket.h&gt;</b> /* for AF_INET */ <b><br>
struct hostent *gethostbyaddr(const void
*</b><i>addr</i><b>, <br>
socklen_t</b> <i>len</i><b>, int</b>
<i>type</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
sethostent(int</b> <i>stayopen</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
endhostent(void);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
herror(const char *</b><i>s</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>const char
*hstrerror(int</b> <i>err</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em">/* System
V/POSIX extension */ <b><br>
struct hostent *gethostent(void);</b></p>

<p style="margin-left:11%; margin-top: 1em">/* GNU
extensions */ <b><br>
struct hostent *gethostbyname2(const char
*</b><i>name</i><b>, int</b> <i>af</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
gethostent_r( <br>
struct hostent *</b><i>ret</i><b>, char *</b><i>buf</i><b>,
size_t</b> <i>buflen</i><b>, <br>
struct hostent **</b><i>result</i><b>, int
*</b><i>h_errnop</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
gethostbyaddr_r(const void *</b><i>addr</i><b>,
socklen_t</b> <i>len</i><b>, int</b> <i>type</i><b>, <br>
struct hostent *</b><i>ret</i><b>, char *</b><i>buf</i><b>,
size_t</b> <i>buflen</i><b>, <br>
struct hostent **</b><i>result</i><b>, int
*</b><i>h_errnop</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
gethostbyname_r(const char *</b><i>name</i><b>, <br>
struct hostent *</b><i>ret</i><b>, char *</b><i>buf</i><b>,
size_t</b> <i>buflen</i><b>, <br>
struct hostent **</b><i>result</i><b>, int
*</b><i>h_errnop</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
gethostbyname2_r(const char *</b><i>name</i><b>, int</b>
<i>af,</i> <b><br>
struct hostent *</b><i>ret</i><b>, char *</b><i>buf</i><b>,
size_t</b> <i>buflen</i><b>, <br>
struct hostent **</b><i>result</i><b>, int
*</b><i>h_errnop</i><b>);</b></p>

<p style="margin-left:5%; margin-top: 1em">Feature Test
Macro Requirements for glibc (see
<b>feature_test_macros</b>(7)):</p>


<p style="margin-left:11%; margin-top: 1em"><b>gethostbyname2</b>(),
<b>gethostent_r</b>(), <b>gethostbyaddr_r</b>(),
<b>gethostbyname_r</b>(), <b>gethostbyname2_r</b>():</p>

<p style="margin-left:17%;">_BSD_SOURCE || _SVID_SOURCE</p>


<p style="margin-left:11%; margin-top: 1em"><b>herror</b>(),
<b>hstrerror</b>():</p>

<p style="margin-left:17%;">Since glibc 2.8:</p>

<p style="margin-left:23%;">_BSD_SOURCE || _SVID_SOURCE ||
_GNU_SOURCE</p>

<p style="margin-left:17%;">Before glibc 2.8:</p>

<p style="margin-left:23%;">none</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>gethostbyname*</b>() and <b>gethostbyaddr*</b>()
functions are obsolete. Applications should use
<b>getaddrinfo</b>(3) and <b>getnameinfo</b>(3) instead.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>gethostbyname</b>() function returns a structure of type
<i>hostent</i> for the given host <i>name</i>. Here
<i>name</i> is either a hostname, or an IPv4 address in
standard dot notation (as for <b>inet_addr</b>(3)), or an
IPv6 address in colon (and possibly dot) notation. (See
RFC&nbsp;1884 for the description of IPv6 addresses.) If
<i>name</i> is an IPv4 or IPv6 address, no lookup is
performed and <b>gethostbyname</b>() simply copies
<i>name</i> into the <i>h_name</i> field and its <i>struct
in_addr</i> equivalent into the <i>h_addr_list[0]</i> field
of the returned <i>hostent</i> structure. If <i>name</i>
doesn&rsquo;t end in a dot and the environment variable
<b>HOSTALIASES</b> is set, the alias file pointed to by
<b>HOSTALIASES</b> will first be searched for <i>name</i>
(see <b>hostname</b>(7) for the file format). The current
domain and its parents are searched unless <i>name</i> ends
in a dot.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>gethostbyaddr</b>() function returns a structure of type
<i>hostent</i> for the given host address <i>addr</i> of
length <i>len</i> and address type <i>type</i>. Valid
address types are <b>AF_INET</b> and <b>AF_INET6</b>. The
host address argument is a pointer to a struct of a type
depending on the address type, for example a <i>struct
in_addr *</i> (probably obtained via a call to
<b>inet_addr</b>(3)) for address type <b>AF_INET</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>sethostent</b>() function specifies, if <i>stayopen</i>
is true (1), that a connected TCP socket should be used for
the name server queries and that the connection should
remain open during successive queries. Otherwise, name
server queries will use UDP datagrams.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>endhostent</b>() function ends the use of a TCP
connection for name server queries.</p>

<p style="margin-left:11%; margin-top: 1em">The (obsolete)
<b>herror</b>() function prints the error message associated
with the current value of <i>h_errno</i> on
<i>stderr</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The (obsolete)
<b>hstrerror</b>() function takes an error number (typically
<i>h_errno</i>) and returns the corresponding message
string.</p>

<p style="margin-left:11%; margin-top: 1em">The domain name
queries carried out by <b>gethostbyname</b>() and
<b>gethostbyaddr</b>() use a combination of any or all of
the name server <b>named</b>(8), a broken out line from
<i>/etc/hosts</i>, and the Network Information Service (NIS
or YP), depending upon the contents of the <i>order</i> line
in <i>/etc/host.conf</i>. The default action is to query
<b>named</b>(8), followed by <i>/etc/hosts</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>hostent</i> structure is defined in
<i>&lt;netdb.h&gt;</i> as follows:</p>

<p style="margin-left:17%; margin-top: 1em">struct hostent
{ <br>
char *h_name; /* official name of host */ <br>
char **h_aliases; /* alias list */ <br>
int h_addrtype; /* host address type */ <br>
int h_length; /* length of address */ <br>
char **h_addr_list; /* list of addresses */ <br>
} <br>
#define h_addr h_addr_list[0] /* for backward compatibility
*/</p>

<p style="margin-left:11%; margin-top: 1em">The members of
the <i>hostent</i> structure are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>h_name</i></p></td>
<td width="2%"></td>
<td width="46%">


<p>The official name of the host.</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:11%;"><i>h_aliases</i></p>

<p style="margin-left:22%;">An array of alternative names
for the host, terminated by a NULL pointer.</p>

<p style="margin-left:11%;"><i>h_addrtype</i></p>

<p style="margin-left:22%;">The type of address; always
<b>AF_INET</b> or <b>AF_INET6</b> at present.</p>

<p style="margin-left:11%;"><i>h_length</i></p>

<p style="margin-left:22%;">The length of the address in
bytes.</p>

<p style="margin-left:11%;"><i>h_addr_list</i></p>

<p style="margin-left:22%;">An array of pointers to network
addresses for the host (in network byte order), terminated
by a NULL pointer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><i>h_addr</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>The first address in <i>h_addr_list</i> for backward
compatibility.</p> </td></tr>
</table>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>gethostbyname</b>() and <b>gethostbyaddr</b>() functions
return the <i>hostent</i> structure or a NULL pointer if an
error occurs. On error, the <i>h_errno</i> variable holds an
error number. When non-NULL, the return value may point at
static data, see the notes below.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The variable
<i>h_errno</i> can have the following values: <b><br>
HOST_NOT_FOUND</b></p>

<p style="margin-left:22%;">The specified host is
unknown.</p>

<p style="margin-left:11%;"><b>NO_ADDRESS</b> or
<b>NO_DATA</b></p>

<p style="margin-left:22%;">The requested name is valid but
does not have an IP address.</p>

<p style="margin-left:11%;"><b>NO_RECOVERY</b></p>

<p style="margin-left:22%;">A nonrecoverable name server
error occurred.</p>

<p style="margin-left:11%;"><b>TRY_AGAIN</b></p>

<p style="margin-left:22%;">A temporary error occurred on
an authoritative name server. Try again later.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/etc/host.conf</i></p>

<p style="margin-left:22%;">resolver configuration file</p>

<p style="margin-left:11%;"><i>/etc/hosts</i></p>

<p style="margin-left:22%;">host database file</p>

<p style="margin-left:11%;"><i>/etc/nsswitch.conf</i></p>

<p style="margin-left:22%;">name service switch
configuration</p>

<h2>CONFORMING TO
<a name="CONFORMING TO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">POSIX.1-2001
specifies <b>gethostbyname</b>(), <b>gethostbyaddr</b>(),
<b>sethostent</b>(), <b>endhostent</b>(),
<b>gethostent</b>(), and <i>h_errno</i>;
<b>gethostbyname</b>(), <b>gethostbyaddr</b>(), and
<i>h_errno</i> are marked obsolescent in that standard.
POSIX.1-2008 removes the specifications of
<b>gethostbyname</b>(), <b>gethostbyaddr</b>(), and
<i>h_errno</i>, recommending the use of
<b>getaddrinfo</b>(3) and <b>getnameinfo</b>(3) instead.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The functions
<b>gethostbyname</b>() and <b>gethostbyaddr</b>() may return
pointers to static data, which may be overwritten by later
calls. Copying the <i>struct hostent</i> does not suffice,
since it contains pointers; a deep copy is required.</p>

<p style="margin-left:11%; margin-top: 1em">In the original
BSD implementation the <i>len</i> argument of
<b>gethostbyname</b>() was an <i>int</i>. The SUSv2 standard
is buggy and declares the <i>len</i> argument of
<b>gethostbyaddr</b>() to be of type <i>size_t</i>. (That is
wrong, because it has to be <i>int</i>, and <i>size_t</i> is
not. POSIX.1-2001 makes it <i>socklen_t</i>, which is OK.)
See also <b>accept</b>(2).</p>

<p style="margin-left:11%; margin-top: 1em">The BSD
prototype for <b>gethostbyaddr</b>() uses <i>const
char&nbsp;*</i> for the first argument.</p>

<p style="margin-left:11%; margin-top: 1em"><b>System
V/POSIX extension</b> <br>
POSIX requires the <b>gethostent</b>() call, that should
return the next entry in the host data base. When using
DNS/BIND this does not make much sense, but it may be
reasonable if the host data base is a file that can be read
line by line. On many systems a routine of this name reads
from the file <i>/etc/hosts</i>. It may be available only
when the library was built without DNS support. The glibc
version will ignore ipv6 entries. This function is not
reentrant, and glibc adds a reentrant version
<b>gethostent_r</b>().</p>

<p style="margin-left:11%; margin-top: 1em"><b>GNU
extensions</b> <br>
Glibc2 also has a <b>gethostbyname2</b>() that works like
<b>gethostbyname</b>(), but permits to specify the address
family to which the address must belong.</p>

<p style="margin-left:11%; margin-top: 1em">Glibc2 also has
reentrant versions <b>gethostent_r</b>(),
<b>gethostbyaddr_r</b>(), <b>gethostbyname_r</b>() and
<b>gethostbyname2_r</b>(). The caller supplies a
<i>hostent</i> structure <i>ret</i> which will be filled in
on success, and a temporary work buffer <i>buf</i> of size
<i>buflen</i>. After the call, <i>result</i> will point to
the result on success. In case of an error or if no entry is
found <i>result</i> will be NULL. The functions return 0 on
success and a nonzero error number on failure. In addition
to the errors returned by the nonreentrant versions of these
functions, if <i>buf</i> is too small, the functions will
return <b>ERANGE</b>, and the call should be retried with a
larger buffer. The global variable <i>h_errno</i> is not
modified, but the address of a variable in which to store
error numbers is passed in <i>h_errnop</i>.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>gethostbyname</b>()
does not recognize components of a dotted IPv4 address
string that are expressed in hexadecimal.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>getaddrinfo</b>(3),
<b>getnameinfo</b>(3), <b>inet</b>(3), <b>inet_ntop</b>(3),
<b>inet_pton</b>(3), <b>resolver</b>(3), <b>hosts</b>(5),
<b>nsswitch.conf</b>(5), <b>hostname</b>(7),
<b>named</b>(8)</p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 3.53 of the Linux <i>man-pages</i> project.
A description of the project, and information about
reporting bugs, can be found at
http://www.kernel.org/doc/man&minus;pages/.</p>
<hr>
</body>
</html>
