<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:58:55 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERLAMIGA</title>

</head>
<body>

<h1 align="center">PERLAMIGA</h1>

<a href="#NAME">NAME</a><br>
<a href="#NOTE">NOTE</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INSTALLATION">INSTALLATION</a><br>
<a href="#Accessing documentation">Accessing documentation</a><br>
<a href="#BUILDING PERL ON AMIGAOS">BUILDING PERL ON AMIGAOS</a><br>
<a href="#PERL 5.8.0 BROKEN IN AMIGAOS">PERL 5.8.0 BROKEN IN AMIGAOS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perlamiga
&minus; Perl under Amiga OS</p>

<h2>NOTE
<a name="NOTE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Perl 5.8.0
cannot be built in AmigaOS. You can use either the
maintenance release Perl 5.6.1 or the development release
Perl 5.7.2 in AmigaOS. See &quot; <small>PERL</small> 5.8.0
<small>BROKEN IN AMIGAOS</small> &quot; if you want to help
fixing this problem.</b></p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">One can read
this document in the following formats:</p>

<pre style="margin-left:11%; margin-top: 1em">        man perlamiga
        multiview perlamiga.guide</pre>


<p style="margin-left:11%; margin-top: 1em">to list some
(not all may be available simultaneously), or it may be read
<i>as is</i>: either as <i><small>README</small> .amiga</i>,
or <i>pod/perlamiga.pod</i>.</p>

<p style="margin-left:11%; margin-top: 1em">A recent
version of perl for the Amiga can be found at the Geek
Gadgets section of the Aminet:</p>

<pre style="margin-left:11%; margin-top: 1em">      http://www.aminet.net/~aminet/dev/gg</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Prerequisites
for Compiling Perl on AmigaOS <br>
Unix emulation for AmigaOS: ixemul.library</b></p>

<p style="margin-left:20%;">You need the Unix emulation for
AmigaOS, whose most important part is <b>ixemul.library</b>.
For a minimum setup, get the latest versions of the
following packages from the Aminet archives (
&lt;http://www.aminet.net/~aminet/&gt; ):</p>

<pre style="margin-left:20%; margin-top: 1em">        ixemul&minus;bin
        ixemul&minus;env&minus;bin
        pdksh&minus;bin</pre>


<p style="margin-left:20%; margin-top: 1em">Note also that
this is a minimum setup; you might want to add other
packages of <b><small>ADE</small></b> (the <i>Amiga
Developers Environment</i>).</p>

<p style="margin-left:11%;"><b>Version of Amiga
<small>OS</small></b></p>

<p style="margin-left:20%;">You need at the very least
AmigaOS version 2.0. Recommended is version 3.1.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Starting
Perl programs under AmigaOS</b> <br>
Start your Perl program <i>foo</i> with arguments
<tt>&quot;arg1 arg2 arg3&quot;</tt> the same way as on any
other platform, by</p>

<pre style="margin-left:11%; margin-top: 1em">        perl foo arg1 arg2 arg3</pre>


<p style="margin-left:11%; margin-top: 1em">If you want to
specify perl options <tt>&quot;&minus;my_opts&quot;</tt> to
the perl itself (as opposed to your program), use</p>

<pre style="margin-left:11%; margin-top: 1em">        perl &minus;my_opts foo arg1 arg2 arg3</pre>


<p style="margin-left:11%; margin-top: 1em">Alternately,
you can try to get a replacement for the system&rsquo;s
<b>Execute</b> command that honors the #!/usr/bin/perl
syntax in scripts and set the s&minus;Bit of your scripts.
Then you can invoke your scripts like under
<small>UNIX</small> with</p>

<pre style="margin-left:11%; margin-top: 1em">        foo arg1 arg2 arg3</pre>


<p style="margin-left:11%; margin-top: 1em">(Note that
having *nixish full path to perl <i>/usr/bin/perl</i> is not
necessary, <i>perl</i> would be enough, but having full path
would make it easier to use your script under *nix.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Shortcomings
of Perl under AmigaOS</b> <br>
Perl under AmigaOS lacks some features of perl under
<small>UNIX</small> because of deficiencies in the
UNIX-emulation, most notably:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="80%">


<p><i>fork()</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="80%">


<p>some features of the <small>UNIX</small> filesystem
regarding link count and file dates</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="80%">


<p>inplace operation (the &minus;i switch) without backup
file</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="80%">


<p><i>umask()</i> works, but the correct permissions are
only set when the file is finally <i>close()</i>d</p></td></tr>
</table>

<h2>INSTALLATION
<a name="INSTALLATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Change to the
installation directory (most probably <small>ADE:</small> ),
and extract the binary distribution:</p>

<p style="margin-left:11%; margin-top: 1em">lha
&minus;mraxe x perl&minus;$VERSION&minus;bin.lha</p>

<p style="margin-left:11%; margin-top: 1em">or</p>

<p style="margin-left:11%; margin-top: 1em">tar xvzpf
perl&minus;$VERSION&minus;bin.tgz</p>

<p style="margin-left:11%; margin-top: 1em">(Of course you
need lha or tar and gunzip for this.)</p>

<p style="margin-left:11%; margin-top: 1em">For
installation of the Unix emulation, read the appropriate
docs.</p>

<h2>Accessing documentation
<a name="Accessing documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Manpages for
Perl on AmigaOS</b> <br>
If you have <tt>&quot;man&quot;</tt> installed on your
system, and you installed perl manpages, use something like
this:</p>

<pre style="margin-left:11%; margin-top: 1em">        man perlfunc
        man less
        man ExtUtils.MakeMaker</pre>


<p style="margin-left:11%; margin-top: 1em">to access
documentation for different components of Perl. Start
with</p>

<pre style="margin-left:11%; margin-top: 1em">        man perl</pre>


<p style="margin-left:11%; margin-top: 1em">Note: You have
to modify your man.conf file to search for manpages in the
/ade/lib/perl5/man/man3 directory, or the man pages for the
perl library will not be found.</p>

<p style="margin-left:11%; margin-top: 1em">Note that dot
(<i>.</i>) is used as a package separator for documentation
for packages, and as usual, sometimes you need to give the
section &minus; <tt>3</tt> above &minus; to avoid shadowing
by the <i>less(1) manpage</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Perl
<small>HTML</small> Documentation on AmigaOS</b> <br>
If you have some <small>WWW</small> browser available, you
can build <b><small>HTML</small></b> docs. Cd to directory
with <i>.pod</i> files, and do like this</p>

<pre style="margin-left:11%; margin-top: 1em">        cd /ade/lib/perl5/pod
        pod2html</pre>


<p style="margin-left:11%; margin-top: 1em">After this you
can direct your browser the file <i>perl.html</i> in this
directory, and go ahead with reading docs.</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively
you may be able to get these docs prebuilt from
<tt>&quot;CPAN&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Perl
<small>GNU</small> Info Files on AmigaOS</b> <br>
Users of <tt>&quot;Emacs&quot;</tt> would appreciate it very
much, especially with <tt>&quot;CPerl&quot;</tt> mode
loaded. You need to get latest <tt>&quot;pod2info&quot;</tt>
from <tt>&quot;CPAN&quot;</tt>, or, alternately, prebuilt
info pages.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Perl LaTeX
Documentation on AmigaOS</b> <br>
Can be constructed using <tt>&quot;pod2latex&quot;</tt>.</p>

<h2>BUILDING PERL ON AMIGAOS
<a name="BUILDING PERL ON AMIGAOS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Here we discuss
how to build Perl under AmigaOS.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Build
Prerequisites for Perl on AmigaOS</b> <br>
You need to have the latest <b>ixemul</b> (Unix emulation
for Amiga) from Aminet.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Getting the
Perl Source for AmigaOS</b> <br>
You can either get the latest perl-for-amiga source from
Ninemoons and extract it with:</p>

<pre style="margin-left:11%; margin-top: 1em">  tar xvzpf perl&minus;$VERSION&minus;src.tgz</pre>


<p style="margin-left:11%; margin-top: 1em">or get the
official source from <small>CPAN:</small></p>

<pre style="margin-left:11%; margin-top: 1em">  http://www.cpan.org/src/5.0</pre>


<p style="margin-left:11%; margin-top: 1em">Extract it like
this</p>

<pre style="margin-left:11%; margin-top: 1em">  tar xvzpf perl&minus;$VERSION.tar.gz</pre>


<p style="margin-left:11%; margin-top: 1em">You will see a
message about errors while extracting <i>Configure</i>. This
is normal and expected. (There is a conflict with a
similarly-named file <i>configure</i>, but it causes no
harm.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Making Perl
on AmigaOS</b> <br>
Remember to use a hefty wad of stack (I use 2000000)</p>

<pre style="margin-left:11%; margin-top: 1em">  sh configure.gnu &minus;&minus;prefix=/gg</pre>


<p style="margin-left:11%; margin-top: 1em">Now type</p>

<pre style="margin-left:11%; margin-top: 1em">  make depend</pre>


<p style="margin-left:11%; margin-top: 1em">Now!</p>
<pre style="margin-left:11%; margin-top: 1em">  make</pre>

<p style="margin-left:11%; margin-top: 1em"><b>Testing Perl
on AmigaOS</b> <br>
Now run</p>

<pre style="margin-left:11%; margin-top: 1em">  make test</pre>


<p style="margin-left:11%; margin-top: 1em">Some tests will
be skipped because they need the <i>fork()</i> function:</p>


<p style="margin-left:11%; margin-top: 1em"><i>io/pipe.t</i>,
<i>op/fork.t</i>, <i>lib/filehand.t</i>, <i>lib/open2.t</i>,
<i>lib/open3.t</i>, <i>lib/io_pipe.t</i>,
<i>lib/io_sock.t</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>Installing
the built Perl on AmigaOS</b> <br>
Run</p>

<pre style="margin-left:11%; margin-top: 1em">  make install</pre>


<h2>PERL 5.8.0 BROKEN IN AMIGAOS
<a name="PERL 5.8.0 BROKEN IN AMIGAOS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">As told above,
Perl 5.6.1 was still good in AmigaOS, as was 5.7.2. After
Perl 5.7.2 (change #11423, see the Changes file, and the
file pod/perlhack.pod for how to get the individual changes)
Perl dropped its internal support for <i>vfork()</i>, and
that was very probably the step that broke AmigaOS (since
the ixemul library has only vfork). The build finally fails
when the ext/DynaLoader is being built, and
<small>PERL</small> ends up as &quot;0&quot; in the produced
Makefile, trying to run &quot;0&quot; does not quite work.
Also, executing miniperl in backticks seems to generate
nothing: very probably related to the (v)fork problems.
<b>Fixing the breakage requires someone quite familiar with
the ixemul library, and how one is supposed to run external
commands in AmigaOS without</b>
<b><i>fork()</i></b><b>.</b></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Norbert
Pueschel, pueschel@imsdd.meb.uni&minus;bonn.de Jan-Erik
Karlsson, trg@privat.utfors.se</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>perl</i>(1).</p>
<hr>
</body>
</html>
