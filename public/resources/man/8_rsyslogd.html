<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:25:16 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RSYSLOGD</title>

</head>
<body>

<h1 align="center">RSYSLOGD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SIGNALS">SIGNALS</a><br>
<a href="#SECURITY THREATS">SECURITY THREATS</a><br>
<a href="#DEBUGGING">DEBUGGING</a><br>
<a href="#FILES">FILES</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#Further Information">Further Information</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLLABORATORS">COLLABORATORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">rsyslogd
&minus; reliable and extended syslogd</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>rsyslogd</b>
[ <b>&minus;4</b> ] [ <b>&minus;6</b> ] [ <b>&minus;A</b> ]
[ <b>&minus;d</b> ] [ <b>&minus;D</b> ] [ <b>&minus;f</b>
<i>config file</i> ] <br>
[ <b>&minus;i</b> <i>pid file</i> ] [ <b>&minus;l</b>
<i>hostlist</i> ] [ <b>&minus;n</b> ] [ <b>&minus;N</b>
<i>level</i> ] <br>
[ <b>&minus;q</b> ] [ <b>&minus;Q</b> ] [ <b>&minus;s</b>
<i>domainlist</i> ] [ <b>&minus;u</b> <i>userlevel</i> ] [
<b>&minus;v</b> ] [ <b>&minus;w</b> ] [ <b>&minus;x</b>
]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Rsyslogd</b>
is a system utility providing support for message logging.
Support of both internet and unix domain sockets enables
this utility to support both local and remote logging.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note that
this version of rsyslog ships with extensive documentation
in html format.</b> This is provided in the ./doc
subdirectory and probably in a separate package if you
installed rsyslog via a packaging system. To use
rsyslog&rsquo;s advanced features, you <b>need</b> to look
at the html documentation, because the man pages only cover
basic aspects of operation. <b>For details and configuration
examples, see the rsyslog.conf (5) man page and the online
documentation at http://www.rsyslog.com/doc</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Rsyslogd</b>(8)
is derived from the sysklogd package which in turn is
derived from the stock BSD sources.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Rsyslogd</b>
provides a kind of logging that many modern programs use.
Every logged message contains at least a time and a hostname
field, normally a program name field, too, but that depends
on how trusty the logging program is. The rsyslog package
supports free definition of output formats via templates. It
also supports precise timestamps and writing directly to
databases. If the database option is used, tools like
phpLogCon can be used to view the log data.</p>

<p style="margin-left:11%; margin-top: 1em">While the
<b>rsyslogd</b> sources have been heavily modified a couple
of notes are in order. First of all there has been a
systematic attempt to ensure that rsyslogd follows its
default, standard BSD behavior. Of course, some
configuration file changes are necessary in order to support
the template system. However, rsyslogd should be able to use
a standard syslog.conf and act like the original syslogd.
However, an original syslogd will not work correctly with a
rsyslog-enhanced configuration file. At best, it will
generate funny looking file names. The second important
concept to note is that this version of rsyslogd interacts
transparently with the version of syslog found in the
standard libraries. If a binary linked to the standard
shared libraries fails to function correctly we would like
an example of the anomalous behavior.</p>

<p style="margin-left:11%; margin-top: 1em">The main
configuration file <i>/etc/rsyslog.conf</i> or an
alternative file, given with the <b>&minus;f</b> option, is
read at startup. Any lines that begin with the hash mark
(&lsquo;&lsquo;#&rsquo;&rsquo;) and empty lines are ignored.
If an error occurs during parsing the error element is
ignored. It is tried to parse the rest of the line.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;A</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">When sending UDP messages, there
are potentially multiple paths to the target destination. By
default, <b>rsyslogd</b> only sends to the first target it
can successfully send to. If -A is given, messages are sent
to all targets. This may improve reliability, but may also
cause message duplication. This option should be enabled
only if it is fully understood.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;4</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Causes <b>rsyslogd</b> to listen to IPv4 addresses only.
If neither -4 nor -6 is given, <b>rsyslogd</b> listens to
all configured addresses of the system.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;6</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Causes <b>rsyslogd</b> to listen to IPv6 addresses only.
If neither -4 nor -6 is given, <b>rsyslogd</b> listens to
all configured addresses of the system.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;c</b>
<i>version</i></p>

<p style="margin-left:22%;">This option has been obsoleted
and has no function any longer. It is still accepted in
order not to break existing scripts. However, future
versions may not support it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;D</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Runs the Bison config parser in debug mode. This may
help when hard to find syntax errors are reported. Please
note that the output generated is deeply technical and
orignally targeted towards developers.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;d</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Turns on debug mode. See the DEBUGGING section for more
information.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;f</b> <i>config
file</i></p>

<p style="margin-left:22%;">Specify an alternative
configuration file instead of <i>/etc/rsyslog.conf</i>,
which is the default.</p>

<p style="margin-left:11%;"><b>&minus;i</b> <i>pid
file</i></p>

<p style="margin-left:22%;">Specify an alternative pid file
instead of the default one. This option must be used if
multiple instances of rsyslogd should run on a single
machine.</p>

<p style="margin-left:11%;"><b>&minus;l</b>
<i>hostlist</i></p>

<p style="margin-left:22%;">Specify a hostname that should
be logged only with its simple hostname and not the fqdn.
Multiple hosts may be specified using the colon
(&lsquo;&lsquo;:&rsquo;&rsquo;) separator.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;n</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Avoid auto-backgrounding. This is needed especially if
the <b>rsyslogd</b> is started and controlled by
<b>init</b>(8).</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;N level</b></p>

<p style="margin-left:22%;">Do a coNfig check. Do NOT run
in regular mode, just check configuration file correctness.
This option is meant to verify a config file. To do so, run
rsyslogd interactively in foreground, specifying -f
&lt;config-file&gt; and -N level. The level argument
modifies behaviour. Currently, 0 is the same as not
specifying the -N option at all (so this makes limited
sense) and 1 actually activates the code. Later, higher
levels will mean more verbosity (this is a
forward-compatibility option). <b>rsyslogd</b> is started
and controlled by <b>init</b>(8).</p>

<p style="margin-left:11%;"><b>&minus;q</b> <i>add hostname
if DNS fails during ACL processing</i></p>

<p style="margin-left:22%;">During ACL processing,
hostnames are resolved to IP addresses for performance
reasons. If DNS fails during that process, the hostname is
added as wildcard text, which results in proper, but
somewhat slower operation once DNS is up again.</p>

<p style="margin-left:11%;"><b>&minus;Q</b> <i>do not
resolve hostnames during ACL processing</i></p>

<p style="margin-left:22%;">Do not resolve hostnames to IP
addresses during ACL processing.</p>

<p style="margin-left:11%;"><b>&minus;s</b>
<i>domainlist</i></p>

<p style="margin-left:22%;">Specify a domainname that
should be stripped off before logging. Multiple domains may
be specified using the colon (&lsquo;&lsquo;:&rsquo;&rsquo;)
separator. Please be advised that no sub-domains may be
specified but only entire domains. For example if
<b>&minus;s north.de</b> is specified and the host logging
resolves to satu.infodrom.north.de no domain would be cut,
you will have to specify two domains like: <b>&minus;s
north.de:infodrom.north.de</b>.</p>

<p style="margin-left:11%;"><b>&minus;u</b>
<i>userlevel</i></p>

<p style="margin-left:22%;">This is a &quot;catch all&quot;
option for some very seldomly-used user settings. The
&quot;userlevel&quot; variable selects multiple things. Add
the specific values to get the combined effect of them. A
value of 1 prevents rsyslogd from parsing hostnames and tags
inside messages. A value of 2 prevents rsyslogd from
changing to the root directory. This is almost never a good
idea in production use. This option was introduced in
support of the internal testbed. To combine these two
features, use a userlevel of 3 (1+2). Whenever you use an -u
option, make sure you really understand what you do and why
you do it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print version and exit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;w</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Suppress warnings issued when messages are received from
non-authorized machines (those, that are in no AllowedSender
list).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;x</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Disable DNS for remote messages.</p></td></tr>
</table>

<h2>SIGNALS
<a name="SIGNALS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Rsyslogd</b>
reacts to a set of signals. You may easily send a signal to
<b>rsyslogd</b> using the following:</p>

<p style="margin-left:22%; margin-top: 1em">kill -SIGNAL
$(cat /var/run/rsyslogd.pid)</p>

<p style="margin-left:11%; margin-top: 1em">Note that
-SIGNAL must be replaced with the actual signal you are
trying to send, e.g. with HUP. So it then becomes:</p>

<p style="margin-left:22%; margin-top: 1em">kill -HUP $(cat
/var/run/rsyslogd.pid)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>HUP</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">This lets <b>rsyslogd</b>
perform close all open files. Also, in v3 a full restart
will be done in order to read changed configuration files.
Note that this means a full rsyslogd restart is done. This
has, among others, the consequence that TCP and other
connections are torn down. Also, if any queues are not
running in disk assisted mode or are not set to persist data
on shutdown, queue data is lost. HUPing rsyslogd is an
extremely expensive operation and should only be done when
actually necessary. Actually, it is a rsyslgod stop
immediately followed by a restart. Future versions will
remove this restart functionality of HUP (it will go away in
v5). So it is advised to use HUP only for closing files, and
a &quot;real restart&quot; (e.g. /etc/rc.d/rsyslogd restart)
to activate configuration changes.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>TERM , INT , QUIT</b></p>

<p style="margin-left:22%;"><b>Rsyslogd</b> will die.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>USR1</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Switch debugging on/off. This option can only be used if
<b>rsyslogd</b> is started with the <b>&minus;d</b> debug
option.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>CHLD</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Wait for childs if some were born, because of
wall&rsquo;ing messages.</p></td></tr>
</table>

<h2>SECURITY THREATS
<a name="SECURITY THREATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There is the
potential for the rsyslogd daemon to be used as a conduit
for a denial of service attack. A rogue program(mer) could
very easily flood the rsyslogd daemon with syslog messages
resulting in the log files consuming all the remaining space
on the filesystem. Activating logging over the inet domain
sockets will of course expose a system to risks outside of
programs or individuals on the local machine.</p>

<p style="margin-left:11%; margin-top: 1em">There are a
number of methods of protecting a machine:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Implement kernel firewalling to
limit which hosts or networks have access to the 514/UDP
socket.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="8%"></td>
<td width="78%">


<p>Logging can be directed to an isolated or non-root
filesystem which, if filled, will not impair the
machine.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="8%"></td>
<td width="78%">


<p>The ext2 filesystem can be used which can be configured
to limit a certain percentage of a filesystem to usage by
root only. <b>NOTE</b> that this will require rsyslogd to be
run as a non-root process. <b>ALSO NOTE</b> that this will
prevent usage of remote logging on the default port since
rsyslogd will be unable to bind to the 514/UDP socket.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="8%"></td>
<td width="78%">


<p>Disabling inet domain sockets will limit risk to the
local machine.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Message
replay and spoofing</b> <br>
If remote logging is enabled, messages can easily be spoofed
and replayed. As the messages are transmitted in clear-text,
an attacker might use the information obtained from the
packets for malicious things. Also, an attacker might replay
recorded messages or spoof a sender&rsquo;s IP address,
which could lead to a wrong perception of system activity.
These can be prevented by using GSS-API authentication and
encryption. Be sure to think about syslog network security
before enabling it.</p>

<h2>DEBUGGING
<a name="DEBUGGING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When debugging
is turned on using the <b>&minus;d</b> option,
<b>rsyslogd</b> produces debugging information according to
the <b>RSYSLOG_DEBUG</b> environment variable and the
signals received. When run in foreground, the information is
written to stdout. An additional output file can be
specified using the <b>RSYSLOG_DEBUGLOG</b> environment
variable.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/etc/rsyslog.conf</i></p>

<p style="margin-left:22%;">Configuration file for
<b>rsyslogd</b>. See <b>rsyslog.conf</b>(5) for exact
information.</p>

<p style="margin-left:11%;"><i>/dev/log</i></p>

<p style="margin-left:22%;">The Unix domain socket to from
where local syslog messages are read.</p>


<p style="margin-left:11%;"><i>/var/run/rsyslogd.pid</i></p>

<p style="margin-left:22%;">The file containing the process
id of <b>rsyslogd</b>.</p>

<p style="margin-left:11%;"><i>prefix/lib/rsyslog</i></p>

<p style="margin-left:22%;">Default directory for
<b>rsyslogd</b> modules. The <i>prefix</i> is specified
during compilation (e.g. /usr/local).</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%;"><b>RSYSLOG_DEBUG</b></p>

<p style="margin-left:22%;">Controls runtime debug support.
It contains an option string with the following options
possible (all are case insensitive):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p>Debug</p></td>
<td width="3%"></td>
<td width="68%">


<p>Turns on debugging and prevents forking. This is
processed earlier in the startup than command line options
(i.e. -d) and as such enables earlier debugging output.
Mutually exclusive with DebugOnDemand.</p></td></tr>
</table>

<p style="margin-left:22%;">DebugOnDemand</p>

<p style="margin-left:32%;">Enables debugging but turns off
debug output. The output can be toggled by sending SIGUSR1.
Mutually exclusive with Debug.</p>

<p style="margin-left:22%;">LogFuncFlow</p>

<p style="margin-left:32%;">Print out the logical flow of
functions (entering and exiting them)</p>

<p style="margin-left:22%;">FileTrace</p>

<p style="margin-left:32%;">Specifies which files to trace
LogFuncFlow. If not set (the default), a LogFuncFlow trace
is provided for all files. Set to limit it to the files
specified.FileTrace may be specified multiple times, one
file each (e.g. export RSYSLOG_DEBUG=&quot;LogFuncFlow
FileTrace=vm.c FileTrace=expr.c&quot;</p>

<p style="margin-left:22%;">PrintFuncDB</p>

<p style="margin-left:32%;">Print the content of the debug
function database whenever debug information is printed
(e.g. abort case)!</p>

<p style="margin-left:22%;">PrintAllDebugInfoOnExit</p>

<p style="margin-left:32%;">Print all debug information
immediately before rsyslogd exits (currently not
implemented!)</p>

<p style="margin-left:22%;">PrintMutexAction</p>

<p style="margin-left:32%;">Print mutex action as it
happens. Useful for finding deadlocks and such.</p>

<p style="margin-left:22%;">NoLogTimeStamp</p>

<p style="margin-left:32%;">Do not prefix log lines with a
timestamp (default is to do that).</p>

<p style="margin-left:22%;">NoStdOut</p>

<p style="margin-left:32%;">Do not emit debug messages to
stdout. If RSYSLOG_DEBUGLOG is not set, this means no
messages will be displayed at all.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p>Help</p></td>
<td width="4%"></td>
<td width="68%">


<p>Display a very short list of commands - hopefully a life
saver if you can&rsquo;t access the documentation...</p></td></tr>
</table>

<p style="margin-left:11%;"><b>RSYSLOG_DEBUGLOG</b></p>

<p style="margin-left:22%;">If set, writes (almost) all
debug message to the specified log file in addition to
stdout.</p>

<p style="margin-left:11%;"><b>RSYSLOG_MODDIR</b></p>

<p style="margin-left:22%;">Provides the default directory
in which loadable modules reside.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please review
the file BUGS for up-to-date information on known bugs and
annoyances.</p>

<h2>Further Information
<a name="Further Information"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please visit
<b>http://www.rsyslog.com/doc</b> for additional
information, tutorials and a support forum.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>rsyslog.conf</b>(5),
<b>logger</b>(1), <b>syslog</b>(2), <b>syslog</b>(3),
<b>services</b>(5), <b>savelog</b>(8)</p>

<h2>COLLABORATORS
<a name="COLLABORATORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>rsyslogd</b>
is derived from sysklogd sources, which in turn was taken
from the BSD sources. Special thanks to Greg Wettstein
(greg@wind.enjellic.com) and Martin Schulze (joey@linux.de)
for the fine sysklogd package. <br>
Rainer Gerhards <br>
Adiscon GmbH <br>
Grossrinderfeld, Germany <br>
 rgerhards@adiscon.com</p>
<hr>
</body>
</html>
