<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 14:58:56 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERL58DELTA</title>

</head>
<body>

<h1 align="center">PERL58DELTA</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Highlights In 5.8.0">Highlights In 5.8.0</a><br>
<a href="#Incompatible Changes">Incompatible Changes</a><br>
<a href="#Core Enhancements">Core Enhancements</a><br>
<a href="#Modules and Pragmata">Modules and Pragmata</a><br>
<a href="#Utility Changes">Utility Changes</a><br>
<a href="#New Documentation">New Documentation</a><br>
<a href="#Performance Enhancements">Performance Enhancements</a><br>
<a href="#Installation and Configuration Improvements">Installation and Configuration Improvements</a><br>
<a href="#Selected Bug Fixes">Selected Bug Fixes</a><br>
<a href="#New or Changed Diagnostics">New or Changed Diagnostics</a><br>
<a href="#Changed Internals">Changed Internals</a><br>
<a href="#Security Vulnerability Closed [561]">Security Vulnerability Closed [561]</a><br>
<a href="#New Tests">New Tests</a><br>
<a href="#Known Problems">Known Problems</a><br>
<a href="#Platform Specific Problems">Platform Specific Problems</a><br>
<a href="#Reporting Bugs">Reporting Bugs</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#HISTORY">HISTORY</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perl58delta
&minus; what is new for perl v5.8.0</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This document
describes differences between the 5.6.0 release and the
5.8.0 release.</p>

<p style="margin-left:11%; margin-top: 1em">Many of the bug
fixes in 5.8.0 were already seen in the 5.6.1 maintenance
release since the two releases were kept closely coordinated
(while 5.8.0 was still called 5.7.something).</p>

<p style="margin-left:11%; margin-top: 1em">Changes that
were integrated into the 5.6.1 release are marked
<tt>&quot;[561]&quot;</tt>. Many of these changes have been
further developed since 5.6.1 was released, those are marked
<tt>&quot;[561+]&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">You can see the
list of changes in the 5.6.1 release (both from the 5.005_03
release and the 5.6.0 release) by reading perl561delta.</p>

<h2>Highlights In 5.8.0
<a name="Highlights In 5.8.0"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Better Unicode support</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>New <small>IO</small> Implementation</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>New Thread Implementation</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>Better Numeric Accuracy</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>Safe Signals</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>Many New Modules</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>More Extensive Regression Testing</p></td>
<td width="32%">
</td></tr>
</table>

<h2>Incompatible Changes
<a name="Incompatible Changes"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Binary
Incompatibility <br>
Perl 5.8 is not binary compatible with earlier releases of
Perl.</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>You have to
recompile your <small>XS</small> modules.</b></p>

<p style="margin-left:11%; margin-top: 1em">(Pure Perl
modules should continue to work.)</p>

<p style="margin-left:11%; margin-top: 1em">The major
reason for the discontinuity is the new <small>IO</small>
architecture called PerlIO. PerlIO is the default
configuration because without it many new features of Perl
5.8 cannot be used. In other words: you just have to
recompile your modules containing <small>XS</small> code,
sorry about that.</p>

<p style="margin-left:11%; margin-top: 1em">In future
releases of Perl, non-PerlIO aware <small>XS</small> modules
may become completely unsupported. This shouldn&rsquo;t be
too difficult for module authors, however: PerlIO has been
designed as a drop-in replacement (at the source code level)
for the stdio interface.</p>

<p style="margin-left:11%; margin-top: 1em">Depending on
your platform, there are also other reasons why we decided
to break binary compatibility, please read on.</p>


<p style="margin-left:11%; margin-top: 1em"><b>64&minus;bit
platforms and malloc</b> <br>
If your pointers are 64 bits wide, the Perl malloc is no
longer being used because it does not work well with
8&minus;byte pointers. Also, usually the system mallocs on
such platforms are much better optimized for such large
memory models than the Perl malloc. Some memory-hungry Perl
applications like the <small>PDL</small> don&rsquo;t work
well with Perl&rsquo;s malloc. Finally, other applications
than Perl (such as mod_perl) tend to prefer the system
malloc. Such platforms include Alpha and 64&minus;bit
<small>HPPA</small> , <small>MIPS</small> ,
<small>PPC</small> , and Sparc.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>AIX</small>
Dynaloading</b> <br>
The <small>AIX</small> dynaloading now uses in
<small>AIX</small> releases 4.3 and newer the native dlopen
interface of <small>AIX</small> instead of the old emulated
interface. This change will probably break backward
compatibility with compiled modules. The change was made to
make Perl more compliant with other applications like
mod_perl which are using the <small>AIX</small> native
interface.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Attributes
for &quot;my&quot; variables now handled at run-time</b>
<br>
The <tt>&quot;my EXPR : ATTRS&quot;</tt> syntax now applies
variable attributes at run-time. (Subroutine and
<tt>&quot;our&quot;</tt> variables still get attributes
applied at compile-time.) See attributes for additional
details. In particular, however, this allows variable
attributes to be useful for <tt>&quot;tie&quot;</tt>
interfaces, which was a deficiency of earlier releases. Note
that the new semantics doesn&rsquo;t work with the
Attribute::Handlers module (as of version 0.76).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Socket
Extension Dynamic in <small>VMS</small></b> <br>
The Socket extension is now dynamically loaded instead of
being statically built in. This may or may not be a problem
with ancient <small>TCP/IP</small> stacks of
<small>VMS:</small> we do not know since we weren&rsquo;t
able to test Perl in such configurations.</p>

<p style="margin-left:11%; margin-top: 1em"><b>IEEE-format
Floating Point Default on OpenVMS Alpha</b> <br>
Perl now uses <small>IEEE</small> format (T_FLOAT) as the
default internal floating point format on OpenVMS Alpha,
potentially breaking binary compatibility with external
libraries or existing data. G_FLOAT is still available as a
configuration option. The default on <small>VAX</small>
(D_FLOAT) has not changed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>New Unicode
Semantics (no more &quot;use utf8&quot;, almost)</b> <br>
Previously in Perl 5.6 to use Unicode one would say
&quot;use utf8&quot; and then the operations (like string
concatenation) were Unicode-aware in that lexical scope.</p>

<p style="margin-left:11%; margin-top: 1em">This was found
to be an inconvenient interface, and in Perl 5.8 the Unicode
model has completely changed: now the
&quot;Unicodeness&quot; is bound to the data itself, and for
most of the time &quot;use utf8&quot; is not needed at all.
The only remaining use of &quot;use utf8&quot; is when the
Perl script itself has been written in the
<small>UTF&minus;8</small> encoding of Unicode. (
<small>UTF&minus;8</small> has not been made the default
since there are many Perl scripts out there that are using
various national eight-bit character sets, which would be
illegal in <small>UTF&minus;8</small> .)</p>

<p style="margin-left:11%; margin-top: 1em">See
perluniintro for the explanation of the current model, and
utf8 for the current use of the utf8 pragma.</p>

<p style="margin-left:11%; margin-top: 1em"><b>New Unicode
Properties</b> <br>
Unicode <i>scripts</i> are now supported. Scripts are
similar to (and superior to) Unicode <i>blocks</i>. The
difference between scripts and blocks is that scripts are
the glyphs used by a language or a group of languages, while
the blocks are more artificial groupings of (mostly) 256
characters based on the Unicode numbering.</p>

<p style="margin-left:11%; margin-top: 1em">In general,
scripts are more inclusive, but not universally so. For
example, while the script <tt>&quot;Latin&quot;</tt>
includes all the Latin characters and their various
diacritic-adorned versions, it does not include the various
punctuation or digits (since they are not solely
<tt>&quot;Latin&quot;</tt>).</p>

<p style="margin-left:11%; margin-top: 1em">A number of
other properties are now supported, including
<tt>&quot;\p{L&amp;}&quot;</tt>, <tt>&quot;\p{Any}&quot;
&quot;\p{Assigned}&quot;</tt>,
<tt>&quot;\p{Unassigned}&quot;</tt>,
<tt>&quot;\p{Blank}&quot;</tt> [561] and
<tt>&quot;\p{SpacePerl}&quot;</tt> [561] (along with their
<tt>&quot;\P{...}&quot;</tt> versions, of course). See
perlunicode for details, and more additions.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;In&quot;</tt> or <tt>&quot;Is&quot;</tt> prefix to
names used with the <tt>&quot;\p{...}&quot;</tt> and
<tt>&quot;\P{...}&quot;</tt> are now almost always optional.
The only exception is that a <tt>&quot;In&quot;</tt> prefix
is required to signify a Unicode block when a block name
conflicts with a script name. For example,
<tt>&quot;\p{Tibetan}&quot;</tt> refers to the script, while
<tt>&quot;\p{InTibetan}&quot;</tt> refers to the block. When
there is no name conflict, you can omit the
<tt>&quot;In&quot;</tt> from the block name (e.g.
<tt>&quot;\p{BraillePatterns}&quot;</tt>), but to be safe,
it&rsquo;s probably best to always use the
<tt>&quot;In&quot;</tt>).</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>REF</small>
(...) Instead Of <small>SCALAR</small> (...)</b> <br>
A reference to a reference now stringifies as &quot;
<small>REF</small> (0x81485ec)&quot; instead of &quot;
<small>SCALAR</small> (0x81485ec)&quot; in order to be more
consistent with the return value of <i>ref()</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pack/unpack
D/F recycled</b> <br>
The undocumented pack/unpack template letters D/F have been
recycled for better use: now they stand for long double (if
supported by the platform) and <small>NV</small> (Perl
internal floating point type). (They used to be aliases for
d/f, but you never knew that.)</p>

<p style="margin-left:11%; margin-top: 1em"><i>glob()</i>
<b>now returns filenames in alphabetical order</b> <br>
The list of filenames from <i>glob()</i> (or &lt;...&gt;) is
now by default sorted alphabetically to be csh-compliant
(which is what happened before in most Unix platforms).
(<i>bsd_glob()</i> does still sort platform natively,
<small>ASCII</small> or <small>EBCDIC</small> , unless
<small>GLOB_ALPHASORT</small> is specified.) [561]</p>


<p style="margin-left:11%; margin-top: 1em"><b>Deprecations</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The semantics of bless(
<small>REF</small> , <small>REF</small> ) were unclear and
until someone proves it to make some sense, it is
forbidden.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The obsolete chat2 library that should never have been
allowed to escape the laboratory has been
decommissioned.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using chdir(&quot;&quot;) or chdir(undef) instead of
explicit <i>chdir()</i> is doubtful. A failure (think
chdir(<i>some_function()</i>) can lead into unintended
<i>chdir()</i> to the home directory, therefore this
behaviour is deprecated.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The builtin <i>dump()</i> function has probably outlived
most of its usefulness. The core-dumping functionality will
remain in future available as an explicit call to
<tt>&quot;CORE::dump()&quot;</tt>, but in future releases
the behaviour of an unqualified <tt>&quot;dump()&quot;</tt>
call may change.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The very dusty examples in the eg/ directory have been
removed. Suggestions for new shiny examples welcome but the
main issue is that the examples need to be documented,
tested and (most importantly) maintained.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The (bogus) escape sequences \8 and \9 now give an
optional warning (&quot;Unrecognized escape passed
through&quot;). There is no need to \&minus;escape any
<tt>&quot;\w&quot;</tt> character.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The *glob{ <small>FILEHANDLE</small> } is deprecated,
use *glob{ <small>IO</small> } instead.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>&quot;package;&quot;</tt> syntax
(<tt>&quot;package&quot;</tt> without an argument) has been
deprecated. Its semantics were never that clear and its
implementation even less so. If you have used that feature
to disallow all but fully qualified variables, <tt>&quot;use
strict;&quot;</tt> instead.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The unimplemented <small>POSIX</small> regex features
[[.cc.]] and [[=c=]] are still recognised but now cause
fatal errors. The previous behaviour of ignoring them by
default and warning if requested was unacceptable since it,
in a way, falsely promised that the features could be
used.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In future releases, non-PerlIO aware <small>XS</small>
modules may become completely unsupported. Since PerlIO is a
drop-in replacement for stdio at the source code level, this
shouldn&rsquo;t be that drastic a change.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Previous versions of perl and some readings of some
sections of Camel <small>III</small> implied that the
<tt>&quot;:raw&quot;</tt> &quot;discipline&quot; was the
inverse of <tt>&quot;:crlf&quot;</tt>. Turning off
&quot;clrfness&quot; is no longer enough to make a stream
truly binary. So the PerlIO <tt>&quot;:raw&quot;</tt> layer
(or &quot;discipline&quot;, to use the Camel book&rsquo;s
older terminology) is now formally defined as being
equivalent to binmode( <small>FH</small> ) &minus; which is
in turn defined as doing whatever is necessary to pass each
byte as-is without any translation. In particular binmode(
<small>FH</small> ) &minus; and hence
<tt>&quot;:raw&quot;</tt> &minus; will now turn off both
<small>CRLF</small> and <small>UTF&minus;8</small>
translation and remove other layers (e.g.
:<i>encoding()</i>) which would modify byte stream.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The current user-visible implementation of pseudo-hashes
(the weird use of the first array element) is deprecated
starting from Perl 5.8.0 and will be removed in Perl 5.10.0,
and the feature will be implemented differently. Not only is
the current interface rather ugly, but the current
implementation slows down normal array and hash use quite
noticeably. The <tt>&quot;fields&quot;</tt> pragma interface
will remain available. The <i>restricted hashes</i>
interface is expected to be the replacement interface (see
Hash::Util). If your existing programs depends on the
underlying implementation, consider using Class::PseudoHash
from <small>CPAN</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The syntaxes <tt>&quot;@a&minus;&gt;[...]&quot;</tt> and
<tt>&quot;%h&minus;&gt;{...}&quot;</tt> have now been
deprecated.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>After years of trying, suidperl is considered to be too
complex to ever be considered truly secure. The suidperl
functionality is likely to be removed in a future
release.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The 5.005 threads model (module
<tt>&quot;Thread&quot;</tt>) is deprecated and expected to
be removed in Perl 5.10. Multithreaded code should be
migrated to the new ithreads model (see threads,
threads::shared and perlthrtut).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The long deprecated uppercase aliases for the string
comparison operators ( <small>EQ</small> , <small>NE</small>
, <small>LT</small> , <small>LE</small> , <small>GE</small>
, <small>GT</small> ) have now been removed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The tr///C and tr///U features have been removed and
will not return; the interface was a mistake. Sorry about
that. For similar functionality, see pack(&rsquo;U0&rsquo;,
...) and pack(&rsquo;C0&rsquo;, ...). [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Earlier Perls treated &quot;sub foo (@bar)&quot; as
equivalent to &quot;sub foo (@)&quot;. The prototypes are
now checked better at compile-time for invalid syntax. An
optional warning is generated (&quot;Illegal character in
prototype...&quot;) but this may be upgraded to a fatal
error in a future release.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>&quot;exec LIST&quot;</tt> and <tt>&quot;system
LIST&quot;</tt> operations now produce warnings on tainted
data and in some future release they will produce fatal
errors.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The existing behaviour when localising tied arrays and
hashes is wrong, and will be changed in a future release, so
do not rely on the existing behaviour. See &quot;Localising
Tied Arrays and Hashes Is Broken&quot;.</p></td></tr>
</table>

<h2>Core Enhancements
<a name="Core Enhancements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Unicode
Overhaul</b> <br>
Unicode in general should be now much more usable than in
Perl 5.6.0 (or even in 5.6.1). Unicode can be used in hash
keys, Unicode in regular expressions should work now,
Unicode in tr/// should work now, Unicode in I/O should work
now. See perluniintro for introduction and perlunicode for
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The Unicode Character Database
coming with Perl has been upgraded to Unicode 3.2.0. For
more information, see http://www.unicode.org/ . [561+]
(5.6.1 has <small>UCD</small> 3.0.1.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>For developers interested in enhancing Perl&rsquo;s
Unicode capabilities: almost all the <small>UCD</small>
files are included with the Perl distribution in the
<i>lib/unicore</i> subdirectory. The most notable omission,
for space considerations, is the Unihan database.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The properties \p{Blank} and \p{SpacePerl} have been
added. &quot;Blank&quot; is like C <i>isblank()</i>, that
is, it contains only &quot;horizontal whitespace&quot; (the
space character is, the newline isn&rsquo;t), and the
&quot;SpacePerl&quot; is the Unicode equivalent of
<tt>&quot;\s&quot;</tt> (\p{Space} isn&rsquo;t, since that
includes the vertical tabulator character, whereas
<tt>&quot;\s&quot;</tt> doesn&rsquo;t.)</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See &quot;New
Unicode Properties&quot; earlier in this document for
additional information on changes with Unicode
properties.</p>

<p style="margin-left:11%; margin-top: 1em"><b>PerlIO is
Now The Default</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><small>IO</small> is now by
default done via PerlIO rather than system&rsquo;s
&quot;stdio&quot;. PerlIO allows &quot;layers&quot; to be
&quot;pushed&quot; onto a file handle to alter the
handle&rsquo;s behaviour. Layers can be specified at open
time via 3&minus;arg form of open:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">   open($fh,'&gt;:crlf :utf8', $path) || ...</pre>


<p style="margin-left:17%; margin-top: 1em">or on already
opened handles via extended
<tt>&quot;binmode&quot;</tt>:</p>

<pre style="margin-left:17%; margin-top: 1em">   binmode($fh,':encoding(iso&minus;8859&minus;7)');</pre>


<p style="margin-left:17%; margin-top: 1em">The built-in
layers are: unix (low level read/write), stdio (as in
previous Perls), perlio (re-implementation of stdio
buffering in a portable manner), crlf (does
<small>CRLF</small> &lt;=&gt; &quot;\n&quot; translation as
on Win32, but available on any platform). A mmap layer may
be available if platform supports it (mostly Unixes).</p>

<p style="margin-left:17%; margin-top: 1em">Layers to be
applied by default may be specified via the
&rsquo;open&rsquo; pragma.</p>

<p style="margin-left:17%; margin-top: 1em">See
&quot;Installation and Configuration Improvements&quot; for
the effects of PerlIO on your architecture name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If your platform supports
<i>fork()</i>, you can use the list form of
<tt>&quot;open&quot;</tt> for pipes. For example:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    open KID_PS, &quot;&minus;|&quot;, &quot;ps&quot;, &quot;aux&quot; or die $!;</pre>


<p style="margin-left:17%; margin-top: 1em">forks the
<i>ps</i>(1) command (without spawning a shell, as there are
more than three arguments to <i>open()</i>), and reads its
standard output via the <tt>&quot;KID_PS&quot;</tt>
filehandle. See perlipc.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">File handles can be marked as
accepting Perl&rsquo;s internal encoding of Unicode (
<small>UTF&minus;8</small> or UTF-EBCDIC depending on
platform) by a pseudo layer &quot;:utf8&quot; :</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">   open($fh,&quot;&gt;:utf8&quot;,&quot;Uni.txt&quot;);</pre>


<p style="margin-left:17%; margin-top: 1em">Note for
<small>EBCDIC</small> users: the pseudo layer
&quot;:utf8&quot; is erroneously named for you since
it&rsquo;s not <small>UTF&minus;8</small> what you will be
getting but instead UTF-EBCDIC. See perlunicode, utf8, and
http://www.unicode.org/unicode/reports/tr16/ for more
information. In future releases this naming may change. See
perluniintro for more information about
<small>UTF&minus;8</small> .</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If your environment variables (
<small>LC_ALL</small> , <small>LC_CTYPE</small> ,
<small>LANG</small> ) look like you want to use
<small>UTF&minus;8</small> (any of the variables match
<tt>&quot;/utf&minus;?8/i&quot;</tt>), your
<small>STDIN</small> , <small>STDOUT</small> ,
<small>STDERR</small> handles and the default open layer
(see open) are marked as <small>UTF&minus;8</small> . (This
feature, like other new features that combine Unicode and
I/O, work only if you are using PerlIO, but that&rsquo;s the
default.)</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Note that after
this Perl really does assume that everything is
<small>UTF&minus;8:</small> for example if some input handle
is not, Perl will probably very soon complain about the
input data like this &quot;Malformed
<small>UTF&minus;8</small> ...&quot; since any old eight-bit
data is not legal <small>UTF&minus;8</small> .</p>

<p style="margin-left:17%; margin-top: 1em">Note for code
authors: if you want to enable your users to use
<small>UTF&minus;8</small> as their default encoding but in
your code still have eight-bit I/O streams (such as images
or zip files), you need to explicitly <i>open()</i> or
<i>binmode()</i> with <tt>&quot;:bytes&quot;</tt> (see
&quot;open&quot; in perlfunc and &quot;binmode&quot; in
perlfunc), or you can just use
<tt>&quot;binmode(FH)&quot;</tt> (nice for pre&minus;5.8.0
backward compatibility).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">File handles can translate
character encodings from/to Perl&rsquo;s internal Unicode
form on read/write via the &quot;:<i>encoding()</i>&quot;
layer.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File handles can be opened to &quot;in memory&quot;
files held in Perl scalars via:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">   open($fh,'&gt;', \$variable) || ...</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Anonymous temporary files are
available without need to &rsquo;use FileHandle&rsquo; or
other module via</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">   open($fh,&quot;+&gt;&quot;, undef) || ...</pre>


<p style="margin-left:17%; margin-top: 1em">That is a
literal undef, not an undefined value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ithreads</b>
<br>
The new interpreter threads (&quot;ithreads&quot; for short)
implementation of multithreading, by Arthur Bergman,
replaces the old &quot;5.005 threads&quot; implementation.
In the ithreads model any data sharing between threads must
be explicit, as opposed to the model where data sharing was
implicit. See threads and threads::shared, and
perlthrtut.</p>

<p style="margin-left:11%; margin-top: 1em">As a part of
the ithreads implementation Perl will also use any necessary
and detectable reentrant libc interfaces.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Restricted
Hashes</b> <br>
A restricted hash is restricted to a certain set of keys, no
keys outside the set can be added. Also individual keys can
be restricted so that the key cannot be deleted and the
value cannot be changed. No new syntax is involved: the
Hash::Util module is the interface.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Safe
Signals</b> <br>
Perl used to be fragile in that signals arriving at
inopportune moments could corrupt Perl&rsquo;s internal
state. Now Perl postpones handling of signals until
it&rsquo;s safe (between opcodes).</p>

<p style="margin-left:11%; margin-top: 1em">This change may
have surprising side effects because signals no longer
interrupt Perl instantly. Perl will now first finish
whatever it was doing, like finishing an internal operation
(like <i>sort()</i>) or an external operation (like an I/O
operation), and only then look at any arrived signals (and
before starting the next operation). No more corrupt
internal state since the current operation is always
finished first, but the signal may take more time to get
heard. Note that breaking out from potentially blocking
operations should still work, though.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Understanding
of Numbers</b> <br>
In general a lot of fixing has happened in the area of
Perl&rsquo;s understanding of numbers, both integer and
floating point. Since in many systems the standard number
parsing functions like <tt>&quot;strtoul()&quot;</tt> and
<tt>&quot;atof()&quot;</tt> seem to have bugs, Perl tries to
work around their deficiencies. This results hopefully in
more accurate numbers.</p>

<p style="margin-left:11%; margin-top: 1em">Perl now tries
internally to use integer values in numeric conversions and
basic arithmetics (+ &minus; * /) if the arguments are
integers, and tries also to keep the results stored
internally as integers. This change leads to often slightly
faster and always less lossy arithmetics. (Previously Perl
always preferred floating point numbers in its math.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Arrays now
always interpolate into double-quoted strings [561]</b> <br>
In double-quoted strings, arrays now interpolate, no matter
what. The behavior in earlier versions of perl 5 was that
arrays would interpolate into strings if the array had been
mentioned before the string was compiled, and otherwise Perl
would raise a fatal compile-time error. In versions 5.000
through 5.003, the error was</p>

<pre style="margin-left:11%; margin-top: 1em">        Literal @example now requires backslash</pre>


<p style="margin-left:11%; margin-top: 1em">In versions
5.004_01 through 5.6.0, the error was</p>

<pre style="margin-left:11%; margin-top: 1em">        In string, @example now must be written as \@example</pre>


<p style="margin-left:11%; margin-top: 1em">The idea here
was to get people into the habit of writing
<tt>&quot;fred\@example.com&quot;</tt> when they wanted a
literal <tt>&quot;@&quot;</tt> sign, just as they have
always written <tt>&quot;Give me back my \$5&quot;</tt> when
they wanted a literal <tt>&quot;$&quot;</tt> sign.</p>

<p style="margin-left:11%; margin-top: 1em">Starting with
5.6.1, when Perl now sees an <tt>&quot;@&quot;</tt> sign in
a double-quoted string, it <i>always</i> attempts to
interpolate an array, regardless of whether or not the array
has been used or declared already. The fatal error has been
downgraded to an optional warning:</p>

<pre style="margin-left:11%; margin-top: 1em">        Possible unintended interpolation of @example in string</pre>


<p style="margin-left:11%; margin-top: 1em">This warns you
that <tt>&quot;fred@example.com&quot;</tt> is going to turn
into <tt>&quot;fred.com&quot;</tt> if you don&rsquo;t
backslash the <tt>&quot;@&quot;</tt>. See
http://perl.plover.com/at&minus;error.html for more details
about the history here.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Miscellaneous
Changes</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><small>AUTOLOAD</small> is now
lvaluable, meaning that you can add the :lvalue attribute to
<small>AUTOLOAD</small> subroutines and you can assign to
the <small>AUTOLOAD</small> return value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>$Config</tt>{byteorder} (and corresponding
<small>BYTEORDER</small> in config.h) was previously wrong
in platforms if sizeof(long) was 4, but sizeof(
<small>IV</small> ) was 8. The byteorder was only
sizeof(long) bytes long (1234 or 4321), but now it is
correctly sizeof( <small>IV</small> ) bytes long, (12345678
or 87654321). (This problem didn&rsquo;t affect Windows
platforms.)</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Also,
<tt>$Config</tt>{byteorder} is now computed
dynamically--this is more robust with &quot;fat
binaries&quot; where an executable image contains binaries
for more than one binary platform, and when
cross-compiling.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;perl
&minus;d:Module=arg,arg,arg&quot;</tt> now works (previously
one couldn&rsquo;t pass in multiple arguments.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;do&quot;</tt> followed by a bareword now
ensures that this bareword isn&rsquo;t a keyword (to avoid a
bug where <tt>&quot;do q(foo.pl)&quot;</tt> tried to call a
subroutine called <tt>&quot;q&quot;</tt>). This means that
for example instead of <tt>&quot;do format()&quot;</tt> you
must write <tt>&quot;do &amp;format()&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The builtin <i>dump()</i> now gives an optional warning
<tt>&quot;dump() better written as CORE::dump()&quot;</tt>,
meaning that by default <tt>&quot;dump(...)&quot;</tt> is
resolved as the builtin <i>dump()</i> which dumps core and
aborts, not as (possibly) user-defined <tt>&quot;sub
dump&quot;</tt>. To call the latter, qualify the call as
<tt>&quot;&amp;dump(...)&quot;</tt>. (The whole
<i>dump()</i> feature is to considered deprecated, and
possibly removed/changed in future releases.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>chomp()</i> and <i>chop()</i> are now overridable.
Note, however, that their prototype (as given by
<tt>&quot;prototype(&quot;CORE::chomp&quot;)&quot;</tt> is
undefined, because it cannot be expressed and therefore one
cannot really write replacements to override these
builtins.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>END</small> blocks are now run even if you
exit/die in a <small>BEGIN</small> block. Internally, the
execution of <small>END</small> blocks is now controlled by
PL_exit_flags &amp; <small>PERL_EXIT_DESTRUCT_END</small> .
This enables the new behaviour for Perl embedders. This will
default in 5.10. See perlembed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Formats now support zero-padded decimal fields.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Although &quot;you shouldn&rsquo;t do that&quot;, it was
possible to write code that depends on Perl&rsquo;s hashed
key order (Data::Dumper does this). The new algorithm
&quot;One-at-a-Time&quot; produces a different hashed key
order. More details are in &quot;Performance
Enhancements&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>lstat( <small>FILEHANDLE</small> ) now gives a warning
because the operation makes no sense. In future releases
this may become a fatal error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Spurious syntax errors generated in certain situations,
when <i>glob()</i> caused File::Glob to be loaded for the
first time, have been fixed. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lvalue subroutines can now return
<tt>&quot;undef&quot;</tt> in list context. However, the
lvalue subroutine feature still remains experimental.
[561+]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A lost warning &quot;Can&rsquo;t declare ... dereference
in my&quot; has been restored (Perl had it earlier but it
became lost in later releases.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new special regular expression variable has been
introduced: <tt>$^N</tt>, which contains the most-recently
closed group (submatch).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;no Module;&quot;</tt> does not produce an
error even if Module does not have an <i>unimport()</i>
method. This parallels the behavior of
<tt>&quot;use&quot;</tt> vis-a-vis
<tt>&quot;import&quot;</tt>. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The numerical comparison operators return
<tt>&quot;undef&quot;</tt> if either operand is a NaN.
Previously the behaviour was unspecified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;our&quot;</tt> can now have an experimental
optional attribute <tt>&quot;unique&quot;</tt> that affects
how global variables are shared among multiple interpreters,
see &quot;our&quot; in perlfunc.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The following builtin functions are now overridable:
<i>each()</i>, <i>keys()</i>, <i>pop()</i>, <i>push()</i>,
<i>shift()</i>, <i>splice()</i>, <i>unshift()</i>. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;pack() / unpack()&quot;</tt> can now group
template letters with <tt>&quot;()&quot;</tt> and then apply
repetition/count modifiers on the groups.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;pack() / unpack()&quot;</tt> can now process
the Perl internal numeric types: IVs, UVs, NVs-- and also
long doubles, if supported by the platform. The template
letters are <tt>&quot;j&quot;</tt>, <tt>&quot;J&quot;</tt>,
<tt>&quot;F&quot;</tt>, and <tt>&quot;D&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;pack('U0a*', ...)&quot;</tt> can now be used
to force a string to <small>UTF&minus;8</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>my __PACKAGE__ <tt>$obj</tt> now works. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>POSIX::sleep()</i> now returns the number of
<i>unslept</i> seconds (as the <small>POSIX</small> standard
says), as opposed to <i>CORE::sleep()</i> which returns the
number of slept seconds.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>printf()</i> and <i>sprintf()</i> now support
parameter reordering using the <tt>&quot;%\d+\$&quot;</tt>
and <tt>&quot;*\d+\$&quot;</tt> syntaxes. For example</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    printf &quot;%2\$s %1\$s\n&quot;, &quot;foo&quot;, &quot;bar&quot;;</pre>


<p style="margin-left:17%; margin-top: 1em">will print
&quot;bar foo\n&quot;. This feature helps in writing
internationalised software, and in general when the order of
the parameters can vary.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The (\&amp;) prototype now works
properly. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>prototype(\[$@%&amp;]) is now available to implicitly
create references (useful for example if you want to emulate
the <i>tie()</i> interface).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new command-line option, <tt>&quot;&minus;t&quot;</tt>
is available. It is the little brother of
<tt>&quot;&minus;T&quot;</tt>: instead of dying on taint
violations, lexical warnings are given. <b>This is only
meant as a temporary debugging aid while securing the code
of old legacy applications. This is not a substitute for
&minus;T.</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In other taint news, the <tt>&quot;exec LIST&quot;</tt>
and <tt>&quot;system LIST&quot;</tt> have now been
considered too risky (think <tt>&quot;exec @ARGV&quot;</tt>:
it can start any program with any arguments), and now the
said forms cause a warning under lexical warnings. You
should carefully launder the arguments to guarantee their
validity. In future releases of Perl the forms will become
fatal errors so consider starting laundering now.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Tied hash interfaces are now required to have the
<small>EXISTS</small> and <small>DELETE</small> methods
(either own or inherited).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If tr/// is just counting characters, it doesn&rsquo;t
attempt to modify its target.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>untie()</i> will now call an <i><small>UNTIE</small>
()</i> hook if it exists. See perltie for details. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;utime&quot; in perlfunc now supports
<tt>&quot;utime undef, undef, @files&quot;</tt> to change
the file timestamps to the current time.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The rules for allowing underscores (underbars) in
numeric constants have been relaxed and simplified: now you
can have an underscore simply <b>between digits</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Rather than relying on C&rsquo;s argv[0] (which may not
contain a full pathname) where possible $^X is now set by
asking the operating system. (eg by reading
<i>/proc/self/exe</i> on Linux, <i>/proc/curproc/file</i> on
FreeBSD)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new variable, <tt>&quot;${^TAINT}&quot;</tt>,
indicates whether taint mode is enabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>You can now override the <i>readline()</i> builtin, and
this overrides also the &lt; <small>FILEHANDLE</small> &gt;
angle bracket operator.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The command-line options &minus;s and &minus;F are now
recognized on the shebang (#!) line.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use of the <tt>&quot;/c&quot;</tt> match modifier
without an accompanying <tt>&quot;/g&quot;</tt> modifier
elicits a new warning: <tt>&quot;Use of /c modifier is
meaningless without /g&quot;</tt>.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Use of
<tt>&quot;/c&quot;</tt> in substitutions, even with
<tt>&quot;/g&quot;</tt>, elicits <tt>&quot;Use of /c
modifier is meaningless in s///&quot;</tt>.</p>

<p style="margin-left:17%; margin-top: 1em">Use of
<tt>&quot;/g&quot;</tt> with <tt>&quot;split&quot;</tt>
elicits <tt>&quot;Use of /g modifier is meaningless in
split&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Support for the
<tt>&quot;CLONE&quot;</tt> special subroutine had been
added. With ithreads, when a new thread is created, all Perl
data is cloned, however non-Perl data cannot be cloned
automatically. In <tt>&quot;CLONE&quot;</tt> you can do
whatever you need to do, like for example handle the cloning
of non-Perl data, if necessary. <tt>&quot;CLONE&quot;</tt>
will be executed once for every package that has it defined
or inherited. It will be called in the context of the new
thread, so all modifications are made in the new area.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See perlmod</p>

<h2>Modules and Pragmata
<a name="Modules and Pragmata"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>New Modules
and Pragmata</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;Attribute::Handlers&quot;</tt>,
originally by Damian Conway and now maintained by Arthur
Bergman, allows a class to define attribute handlers.</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    package MyPack;
    use Attribute::Handlers;
    sub Wolf :ATTR(SCALAR) { print &quot;howl!\n&quot; }
    # later, in some package using or inheriting from MyPack...
    my MyPack $Fluffy : Wolf; # the attribute handler Wolf will be called</pre>


<p style="margin-left:17%; margin-top: 1em">Both variables
and routines can have attribute handlers. Handlers can be
specific to type ( <small>SCALAR</small> ,
<small>ARRAY</small> , <small>HASH</small> , or
<small>CODE</small> ), or specific to the exact compilation
phase ( <small>BEGIN</small> , <small>CHECK</small> ,
<small>INIT</small> , or <small>END</small> ). See
Attribute::Handlers.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;B::Concise&quot;</tt>,
by Stephen McCamant, is a new compiler backend for walking
the Perl syntax tree, printing concise info about ops. The
output is highly customisable. See B::Concise. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The new bignum, bigint, and bigrat pragmas, by Tels,
implement transparent bignum support (using the
Math::BigInt, Math::BigFloat, and Math::BigRat
backends).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Class::ISA&quot;</tt>, by Sean Burke, is a
module for reporting the search path for a class&rsquo;s
<small>ISA</small> tree. See Class::ISA.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Cwd&quot;</tt> now has a split personality: if
possible, an <small>XS</small> extension is used, (this will
hopefully be faster, more secure, and more robust) but if
not possible, the familiar Perl implementation is used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Devel::PPPort&quot;</tt>, originally by
Kenneth Albanowski and now maintained by Paul Marquess, has
been added. It is primarily used by
<tt>&quot;h2xs&quot;</tt> to enhance portability of
<small>XS</small> modules between different versions of
Perl. See Devel::PPPort.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Digest&quot;</tt>, frontend module for
calculating digests (checksums), from Gisle Aas, has been
added. See Digest.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Digest::MD5&quot;</tt> for calculating
<small>MD5</small> digests (checksums) as defined in
<small>RFC</small> 1321, from Gisle Aas, has been added. See
Digest::MD5.</p> </td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use Digest::MD5 'md5_hex';
    $digest = md5_hex(&quot;Thirsty Camel&quot;);
    print $digest, &quot;\n&quot;; # 01d19d9d2045e005c3f1b80e8b164de1</pre>



<p style="margin-left:17%; margin-top: 1em"><small>NOTE:</small>
the <tt>&quot;MD5&quot;</tt> backward compatibility module
is deliberately not included since its further use is
discouraged.</p>

<p style="margin-left:17%; margin-top: 1em">See also
PerlIO::via::QuotedPrint.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;Encode&quot;</tt>,
originally by Nick Ing-Simmons and now maintained by Dan
Kogai, provides a mechanism to translate between different
character encodings. Support for Unicode,
<small>ISO&minus;8859&minus;1</small> , and
<small>ASCII</small> are compiled in to the module. Several
other encodings (like the rest of the
<small>ISO&minus;8859</small> , CP*/Win*, Mac,
<small>KOI8&minus;R</small> , three variants
<small>EBCDIC</small> , Chinese, Japanese, and Korean
encodings) are included and can be loaded at runtime. (For
space considerations, the largest Chinese encodings have
been separated into their own <small>CPAN</small> module,
Encode::HanExtra, which Encode will use if available). See
Encode.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Any encoding
supported by Encode module is also available to the
&quot;:<i>encoding()</i>&quot; layer if PerlIO is used.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;Hash::Util&quot;</tt>
is the interface to the new <i>restricted hashes</i>
feature. (Implemented by Jeffrey Friedl, Nick Ing-Simmons,
and Michael Schwern.) See Hash::Util.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;I18N::Langinfo&quot;</tt> can be used to query
locale information. See I18N::Langinfo.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;I18N::LangTags&quot;</tt>, by Sean Burke, has
functions for dealing with RFC3066&minus;style language
tags. See I18N::LangTags.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;ExtUtils::Constant&quot;</tt>, by Nicholas
Clark, is a new tool for extension writers for generating
<small>XS</small> code to import C header constants. See
ExtUtils::Constant.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Filter::Simple&quot;</tt>, by Damian Conway,
is an easy-to-use frontend to Filter::Util::Call. See
Filter::Simple.</p> </td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    # in MyFilter.pm:
    package MyFilter;
    use Filter::Simple sub {
        while (my ($from, $to) = splice @_, 0, 2) {
                s/$from/$to/g;
        }
    };
    1;
    # in user's code:
    use MyFilter qr/red/ =&gt; 'green';
    print &quot;red\n&quot;;   # this code is filtered, will print &quot;green\n&quot;
    print &quot;bored\n&quot;; # this code is filtered, will print &quot;bogreen\n&quot;
    no MyFilter;
    print &quot;red\n&quot;;   # this code is not filtered, will print &quot;red\n&quot;</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;File::Temp&quot;</tt>,
by Tim Jenness, allows one to create temporary files and
directories in an easy, portable, and secure way. See
File::Temp. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Filter::Util::Call&quot;</tt>, by Paul
Marquess, provides you with the framework to write <i>source
filters</i> in Perl. For most uses, the frontend
Filter::Simple is to be preferred. See
Filter::Util::Call.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;if&quot;</tt>, by Ilya Zakharevich, is a new
pragma for conditional inclusion of modules.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>libnet, by Graham Barr, is a collection of perl5 modules
related to network programming. See Net::FTP, Net::NNTP,
Net::Ping (not part of libnet, but related), Net::POP3,
Net::SMTP, and Net::Time.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Perl
installation leaves libnet unconfigured; use
<i>libnetcfg</i> to configure it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;List::Util&quot;</tt>,
by Graham Barr, is a selection of general-utility list
subroutines, such as <i>sum()</i>, <i>min()</i>,
<i>first()</i>, and <i>shuffle()</i>. See List::Util.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Locale::Constants&quot;</tt>,
<tt>&quot;Locale::Country&quot;</tt>,
<tt>&quot;Locale::Currency&quot;
&quot;Locale::Language&quot;</tt>, and Locale::Script, by
Neil Bowers, have been added. They provide the codes for
various locale standards, such as &quot;fr&quot; for France,
&quot;usd&quot; for <small>US</small> Dollar, and
&quot;ja&quot; for Japanese.</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use Locale::Country;
    $country = code2country('jp');               # $country gets 'Japan'
    $code    = country2code('Norway');           # $code gets 'no'</pre>


<p style="margin-left:17%; margin-top: 1em">See
Locale::Constants, Locale::Country, Locale::Currency, and
Locale::Language.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;Locale::Maketext&quot;</tt>,
by Sean Burke, is a localization framework. See
Locale::Maketext, and Locale::Maketext::TPJ13. The latter is
an article about software localization, originally published
in The Perl Journal #13, and republished here with kind
permission.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Math::BigRat&quot;</tt> for big rational
numbers, to accompany Math::BigInt and Math::BigFloat, from
Tels. See Math::BigRat.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Memoize&quot;</tt> can make your functions
faster by trading space for time, from Mark-Jason Dominus.
See Memoize.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;MIME::Base64&quot;</tt>, by Gisle Aas, allows
you to encode data in base64, as defined in
<small>RFC</small> 2045 &minus; <i><small>MIME</small>
(Multipurpose Internet Mail Extensions)</i>.</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use MIME::Base64;
    $encoded = encode_base64('Aladdin:open sesame');
    $decoded = decode_base64($encoded);
    print $encoded, &quot;\n&quot;; # &quot;QWxhZGRpbjpvcGVuIHNlc2FtZQ==&quot;</pre>


<p style="margin-left:17%; margin-top: 1em">See
MIME::Base64.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;MIME::QuotedPrint&quot;</tt>,
by Gisle Aas, allows you to encode data in quoted-printable
encoding, as defined in <small>RFC</small> 2045 &minus;
<i><small>MIME</small> (Multipurpose Internet Mail
Extensions)</i>.</p> </td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use MIME::QuotedPrint;
    $encoded = encode_qp(&quot;\xDE\xAD\xBE\xEF&quot;);
    $decoded = decode_qp($encoded);
    print $encoded, &quot;\n&quot;; # &quot;=DE=AD=BE=EF\n&quot;
    print $decoded, &quot;\n&quot;; # &quot;\xDE\xAD\xBE\xEF\n&quot;</pre>


<p style="margin-left:17%; margin-top: 1em">See also
PerlIO::via::QuotedPrint.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;NEXT&quot;</tt>, by
Damian Conway, is a pseudo-class for method redispatch. See
<small>NEXT</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;open&quot;</tt> is a new pragma for setting
the default I/O layers for <i>open()</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;PerlIO::scalar&quot;</tt>, by Nick
Ing-Simmons, provides the implementation of
<small>IO</small> to &quot;in memory&quot; Perl scalars as
discussed above. It also serves as an example of a loadable
PerlIO layer. Other future possibilities include
PerlIO::Array and PerlIO::Code. See PerlIO::scalar.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;PerlIO::via&quot;</tt>, by Nick Ing-Simmons,
acts as a PerlIO layer and wraps PerlIO layer functionality
provided by a class (typically implemented in Perl
code).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;PerlIO::via::QuotedPrint&quot;</tt>, by
Elizabeth Mattijsen, is an example of a
<tt>&quot;PerlIO::via&quot;</tt> class:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use PerlIO::via::QuotedPrint;
    open($fh,&quot;&gt;:via(QuotedPrint)&quot;,$path);</pre>


<p style="margin-left:17%; margin-top: 1em">This will
automatically convert everything output to <tt>$fh</tt> to
Quoted-Printable. See PerlIO::via and
PerlIO::via::QuotedPrint.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;Pod::ParseLink&quot;</tt>,
by Russ Allbery, has been added, to parse L&lt;&gt; links in
pods as described in the new perlpodspec.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Pod::Text::Overstrike&quot;</tt>, by Joe
Smith, has been added. It converts <small>POD</small> data
to formatted overstrike text. See Pod::Text::Overstrike.
[561+]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Scalar::Util&quot;</tt> is a selection of
general-utility scalar subroutines, such as
<i>blessed()</i>, <i>reftype()</i>, and <i>tainted()</i>.
See Scalar::Util.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;sort&quot;</tt> is a new pragma for
controlling the behaviour of <i>sort()</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Storable&quot;</tt> gives persistence to Perl
data structures by allowing the storage and retrieval of
Perl data to and from files in a fast and compact binary
format. Because in effect Storable does serialisation of
Perl data structures, with it you can also clone deep,
hierarchical datastructures. Storable was originally created
by Raphael Manfredi, but it is now maintained by Abhijit
Menon-Sen. Storable has been enhanced to understand the two
new hash features, Unicode keys and restricted hashes. See
Storable.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Switch&quot;</tt>, by Damian Conway, has been
added. Just by saying</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use Switch;</pre>


<p style="margin-left:17%; margin-top: 1em">you have
<tt>&quot;switch&quot;</tt> and <tt>&quot;case&quot;</tt>
available in Perl.</p>

<pre style="margin-left:17%; margin-top: 1em">    use Switch;
    switch ($val) {
                case 1          { print &quot;number 1&quot; }
                case &quot;a&quot;        { print &quot;string a&quot; }
                case [1..10,42] { print &quot;number in list&quot; }
                case (@array)   { print &quot;number in list&quot; }
                case /\w+/      { print &quot;pattern&quot; }
                case qr/\w+/    { print &quot;pattern&quot; }
                case (%hash)    { print &quot;entry in hash&quot; }
                case (\%hash)   { print &quot;entry in hash&quot; }
                case (\&amp;sub)    { print &quot;arg to subroutine&quot; }
                else            { print &quot;previous case not true&quot; }
    }</pre>


<p style="margin-left:17%; margin-top: 1em">See Switch.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em"><tt>&quot;Test::More&quot;</tt>,
by Michael Schwern, is yet another framework for writing
test scripts, more extensive than Test::Simple. See
Test::More.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Test::Simple&quot;</tt>, by Michael Schwern,
has basic utilities for writing tests. See Test::Simple.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Text::Balanced&quot;</tt>, by Damian Conway,
has been added, for extracting delimited text sequences from
strings.</p> </td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use Text::Balanced 'extract_delimited';
    ($a, $b) = extract_delimited(&quot;'never say never', he never said&quot;, &quot;'&quot;, '');</pre>


<p style="margin-left:17%; margin-top: 1em">$a will be
&quot;&rsquo;never say never&rsquo;&quot;, <tt>$b</tt> will
be &rsquo;, he never said&rsquo;.</p>

<p style="margin-left:17%; margin-top: 1em">In addition to
<i>extract_delimited()</i>, there are also
<i>extract_bracketed()</i>, <i>extract_quotelike()</i>,
<i>extract_codeblock()</i>, <i>extract_variable()</i>,
<i>extract_tagged()</i>, <i>extract_multiple()</i>,
<i>gen_delimited_pat()</i>, and <i>gen_extract_tagged()</i>.
With these, you can implement rather advanced parsing
algorithms. See Text::Balanced.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><tt>&quot;threads&quot;</tt>, by
Arthur Bergman, is an interface to interpreter threads.
Interpreter threads (ithreads) is the new thread model
introduced in Perl 5.6 but only available as an internal
interface for extension writers (and for Win32 Perl for
<tt>&quot;fork()&quot;</tt> emulation). See threads,
threads::shared, and perlthrtut.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;threads::shared&quot;</tt>, by Arthur Bergman,
allows data sharing for interpreter threads. See
threads::shared.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Tie::File&quot;</tt>, by Mark-Jason Dominus,
associates a Perl array with the lines of a file. See
Tie::File.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Tie::Memoize&quot;</tt>, by Ilya Zakharevich,
provides on-demand loaded hashes. See Tie::Memoize.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Tie::RefHash::Nestable&quot;</tt>, by Edward
Avis, allows storing hash references (unlike the standard
Tie::RefHash) The module is contained within Tie::RefHash.
See Tie::RefHash.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Time::HiRes&quot;</tt>, by Douglas E.
Wegscheid, provides high resolution timing (ualarm, usleep,
and gettimeofday). See Time::HiRes.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Unicode::UCD&quot;</tt> offers a querying
interface to the Unicode Character Database. See
Unicode::UCD.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Unicode::Collate&quot;</tt>, by
<small>SADAHIRO</small> Tomoyuki, implements the
<small>UCA</small> (Unicode Collation Algorithm) for sorting
Unicode strings. See Unicode::Collate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;Unicode::Normalize&quot;</tt>, by
<small>SADAHIRO</small> Tomoyuki, implements the various
Unicode normalization forms. See Unicode::Normalize.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;XS::APItest&quot;</tt>, by Tim Jenness, is a
test extension that exercises <small>XS</small> APIs.
Currently only <tt>&quot;printf()&quot;</tt> is tested: how
to output various basic data types from <small>XS</small>
.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;XS::Typemap&quot;</tt>, by Tim Jenness, is a
test extension that exercises <small>XS</small> typemaps.
Nothing gets installed, but the code is worth studying for
extension writers.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Updated And
Improved Modules and Pragmata</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The following independently
supported modules have been updated to the newest versions
from <small>CPAN: CGI</small> , <small>CPAN</small> ,
DB_File, File::Spec, File::Temp, Getopt::Long,
Math::BigFloat, Math::BigInt, the podlators bundle
(Pod::Man, Pod::Text), Pod::LaTeX [561+], Pod::Parser,
Storable, Term::ANSIColor, Test, Text&minus;Tabs+Wrap.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>attributes::reftype()</i> now works on tied
arguments.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>AutoLoader can now be disabled with <tt>&quot;no
AutoLoader;&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>B::Deparse has been significantly enhanced by Robin
Houston. It can now deparse almost all of the standard test
suite (so that the tests still succeed). There is a make
target &quot;test.deparse&quot; for trying this out.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Carp now has better interface documentation, and the
<tt>@CARP_NOT</tt> interface has been added to get optional
control over where errors are reported independently of
<tt>@ISA</tt>, by Ben Tilly.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Class::Struct can now define the classes in compile
time.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Class::Struct now assigns the array/hash element if the
accessor is called with an array/hash element as the
<b>sole</b> argument.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The return value of <i>Cwd::fastcwd()</i> is now
tainted.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Data::Dumper now has an option to sort hashes.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Data::Dumper now has an option to dump code references
using B::Deparse.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>DB_File now supports newer Berkeley <small>DB</small>
versions, among other improvements.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Devel::Peek now has an interface for the Perl memory
statistics (this works only if you are using perl&rsquo;s
malloc, and if you have compiled with debugging).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The English module can now be used without the infamous
performance hit by saying</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        use English '&minus;no_match_vars';</pre>


<p style="margin-left:17%; margin-top: 1em">(Assuming, of
course, that you don&rsquo;t need the troublesome variables
<tt>&quot;$`&quot;</tt>, <tt>$&amp;</tt>, or
<tt>&quot;$'&quot;</tt>.) Also, introduced
<tt>@LAST_MATCH_START</tt> and <tt>@LAST_MATCH_END</tt>
English aliases for <tt>&quot;@&minus;&quot;</tt> and
<tt>&quot;@+&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">ExtUtils::MakeMaker has been
significantly cleaned up and fixed. The enhanced version has
also been backported to earlier releases of Perl and
submitted to <small>CPAN</small> so that the earlier
releases can enjoy the fixes.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The arguments of <i>WriteMakefile()</i> in Makefile.PL
are now checked for sanity much more carefully than before.
This may cause new warnings when modules are being
installed. See ExtUtils::MakeMaker for more details.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>ExtUtils::MakeMaker now uses File::Spec internally,
which hopefully leads to better portability.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Fcntl, Socket, and Sys::Syslog have been rewritten by
Nicholas Clark to use the new-style constant dispatch
section (see ExtUtils::Constant). This means that they will
be more robust and hopefully faster.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File::Find now <i>chdir()</i>s correctly when chasing
symbolic links. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File::Find now has pre&minus; and post-processing
callbacks. It also correctly changes directories when
chasing symbolic links. Callbacks (naughtily) exiting with
&quot;next;&quot; instead of &quot;return;&quot; now
work.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File::Find is now (again) reentrant. It also has been
made more portable.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The warnings issued by File::Find now belong to their
own category. You can enable/disable them with
<tt>&quot;use/no warnings 'File::Find';&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>File::Glob::glob()</i> has been renamed to
<i>File::Glob::bsd_glob()</i> because the name clashes with
the builtin <i>glob()</i>. The older name is still available
for compatibility, but is deprecated. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>File::Glob now supports <tt>&quot;GLOB_LIMIT&quot;</tt>
constant to limit the size of the returned list of
filenames.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IPC::Open3 now allows the use of numeric file
descriptors.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IO::Socket now has an <i>atmark()</i> method, which
returns true if the socket is positioned at the out-of-band
mark. The method is also exportable as a <i>sockatmark()</i>
function.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IO::Socket::INET failed to open the specified port if
the service name was not known. It now correctly uses the
supplied port number as is. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IO::Socket::INET has support for the ReusePort option
(if your platform supports it). The Reuse option now has an
alias, ReuseAddr. For clarity, you may want to prefer
ReuseAddr.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>IO::Socket::INET now supports a value of zero for
<tt>&quot;LocalPort&quot;</tt> (usually meaning that the
operating system will make one up.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&rsquo;use lib&rsquo; now works identically to
<tt>@INC</tt>. Removing directories with &rsquo;no
lib&rsquo; now works.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Math::BigFloat and Math::BigInt have undergone a full
rewrite by Tels. They are now magnitudes faster, and they
support various bignum libraries such as <small>GMP</small>
and <small>PARI</small> as their backends.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Math::Complex handles inf, NaN etc., better.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Net::Ping has been considerably enhanced by Rob Brown:
multihoming is now supported, Win32 functionality is better,
there is now time measuring functionality (optionally
high-resolution using Time::HiRes), and there is now
&quot;external&quot; protocol which uses Net::Ping::External
module which runs your external ping utility and parses the
output. A version of Net::Ping::External is available in
<small>CPAN</small> .</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Note that some
of the Net::Ping tests are disabled when running under the
Perl distribution since one cannot assume one or more of the
following: enabled echo port at localhost, full Internet
connectivity, or sympathetic firewalls. You can set the
environment variable PERL_TEST_Net_Ping to &quot;1&quot;
(one) before running the Perl test suite to enable all the
Net::Ping tests.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><i>POSIX::sigaction()</i> is now
much more flexible and robust. You can now install coderef
handlers, &rsquo; <small>DEFAULT</small> &rsquo;, and
&rsquo; <small>IGNORE</small> &rsquo; handlers, installing
new handlers was not atomic.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In Safe, <tt>%INC</tt> is now localised in a Safe
compartment so that use/require work.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In SDBM_File on dosish platforms, some keys went missing
because of lack of support for files with &quot;holes&quot;.
A workaround for the problem has been added.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In Search::Dict one can now have a pre-processing hook
for the lines being searched.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The Shell module now has an <small>OO</small>
interface.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In Sys::Syslog there is now a failover mechanism that
will go through alternative connection mechanisms until the
message is successfully logged.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The Test module has been significantly enhanced.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>Time::Local::timelocal()</i> does not handle
fractional seconds anymore. The rationale is that neither
does <i>localtime()</i>, and <i>timelocal()</i> and
<i>localtime()</i> are supposed to be inverses of each
other.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The vars pragma now supports declaring fully qualified
variables. (Something that <tt>&quot;our()&quot;</tt> does
not and will not support.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>&quot;utf8::&quot;</tt> name space (as in the
pragma) provides various Perl-callable functions to provide
low level access to Perl&rsquo;s internal Unicode
representation. At the moment only <i>length()</i> has been
implemented.</p> </td></tr>
</table>

<h2>Utility Changes
<a name="Utility Changes"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Emacs perl mode
(emacs/cperl&minus;mode.el) has been updated to version
4.31.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>emacs/e2ctags.pl</i> is now much faster.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;enc2xs&quot;</tt> is a tool for people adding
their own encodings to the Encode module.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;h2ph&quot;</tt> now supports C trigraphs.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;h2xs&quot;</tt> now produces a template
<small>README</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;h2xs&quot;</tt> now uses
<tt>&quot;Devel::PPPort&quot;</tt> for better portability
between different versions of Perl.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;h2xs&quot;</tt> uses the new
ExtUtils::Constant module which will affect newly created
extensions that define constants. Since the new code is more
correct (if you have two constants where the first one is a
prefix of the second one, the first constant <b>never</b>
got defined), less lossy (it uses integers for integer
constant, as opposed to the old code that used floating
point numbers even for integer constants), and slightly
faster, you might want to consider regenerating your
extension code (the new scheme makes regenerating easy).
h2xs now also supports C trigraphs.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;libnetcfg&quot;</tt> has been added to
configure libnet.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;perlbug&quot;</tt> is now much more robust. It
also sends the bug report to perl.org, not perl.com.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;perlcc&quot;</tt> has been rewritten and its
user interface (that is, command line) is much more like
that of the Unix C compiler, cc. (The perlbc tools has been
removed. Use <tt>&quot;perlcc &minus;B&quot;</tt> instead.)
<b>Note that perlcc is still considered very experimental
and unsupported.</b> [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;perlivp&quot;</tt> is a new Installation
Verification Procedure utility for running any time after
installing Perl.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;piconv&quot;</tt> is an implementation of the
character conversion utility <tt>&quot;iconv&quot;</tt>,
demonstrating the new Encode module.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;pod2html&quot;</tt> now allows specifying a
cache directory.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;pod2html&quot;</tt> now produces
<small>XHTML</small> 1.0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;pod2html&quot;</tt> now understands
<small>POD</small> written using different line endings
(PC-like <small>CRLF</small> versus Unix-like
<small>LF</small> versus MacClassic-like <small>CR</small>
).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;s2p&quot;</tt> has been completely rewritten
in Perl. (It is in fact a full implementation of sed in
Perl: you can use the sed functionality by using the
<tt>&quot;psed&quot;</tt> utility.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;xsubpp&quot;</tt> now understands
<small>POD</small> documentation embedded in the *.xs files.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;xsubpp&quot;</tt> now supports the
<small>OUT</small> keyword.</p></td></tr>
</table>

<h2>New Documentation
<a name="New Documentation"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">perl56delta details the changes
between the 5.005 release and the 5.6.0 release.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlclib documents the internal replacements for
standard C library functions. (Interesting only for
extension writers and Perl core hackers.) [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perldebtut is a Perl debugging tutorial. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlebcdic contains considerations for running Perl on
<small>EBCDIC</small> platforms. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlintro is a gentle introduction to Perl.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perliol documents the internals of PerlIO with
layers.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlmodstyle is a style guide for writing modules.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlnewmod tells about writing and submitting a new
module. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlpacktut is a <i>pack()</i> tutorial.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlpod has been rewritten to be clearer and to record
the best practices gathered over the years.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlpodspec is a more formal specification of the pod
format, mainly of interest for writers of pod applications,
not to people writing in pod.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlretut is a regular expression tutorial. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlrequick is a regular expressions quick-start guide.
Yes, much quicker than perlretut. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perltodo has been updated.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perltootc has been renamed as perltooc (to not to
conflict with perltoot in filesystems restricted to
&quot;8.3&quot; names).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perluniintro is an introduction to using Unicode in
Perl. (perlunicode is more of a detailed reference and
background information)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlutil explains the command line utilities packaged
with the Perl distribution. [561+]</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The following
platform-specific documents are available before the
installation as <small>README</small> .<i>platform</i>, and
after the installation as perl<i>platform</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">    perlaix perlamiga perlapollo perlbeos perlbs2000
    perlce perlcygwin perldgux perldos perlepoc perlfreebsd perlhpux
    perlhurd perlirix perlmachten perlmacos perlmint perlmpeix
    perlnetware perlos2 perlos390 perlplan9 perlqnx perlsolaris
    perltru64 perluts perlvmesa perlvms perlvos perlwin32</pre>


<p style="margin-left:11%; margin-top: 1em">These documents
usually detail one or more of the following subjects:
configuring, building, testing, installing, and sometimes
also using Perl on the said platform.</p>

<p style="margin-left:11%; margin-top: 1em">Eastern Asian
Perl users are now welcomed in their own languages:
<small>README</small> .jp (Japanese), <small>README</small>
.ko (Korean), <small>README</small> .cn (simplified Chinese)
and <small>README</small> .tw (traditional Chinese), which
are written in normal pod but encoded in EUC-JP, EUC-KR,
EUC-CN and Big5. These will get installed as</p>

<pre style="margin-left:11%; margin-top: 1em">   perljp perlko perlcn perltw</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The documentation for the
POSIX-BC platform is called &quot; <small>BS2000</small>
&quot;, to avoid confusion with the Perl
<small>POSIX</small> module.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The documentation for the WinCE platform is called
perlce ( <small>README</small> .ce in the source code kit),
to avoid confusion with the perlwin32 documentation on
8.3&minus;restricted filesystems.</p></td></tr>
</table>

<h2>Performance Enhancements
<a name="Performance Enhancements"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><i>map()</i> could get
pathologically slow when the result list it generates is
larger than the source list. The performance has been
improved for common scenarios. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>sort()</i> is also fully reentrant, in the sense that
the sort function can itself call <i>sort()</i>. This did
not work reliably in previous releases. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>sort()</i> has been changed to use primarily
mergesort internally as opposed to the earlier quicksort.
For very small lists this may result in slightly slower
sorting times, but in general the speedup should be at least
20%. Additional bonuses are that the worst case behaviour of
<i>sort()</i> is now better (in computer science terms it
now runs in time O(N log N), as opposed to quicksort&rsquo;s
Theta(N**2) worst-case run time behaviour), and that
<i>sort()</i> is now stable (meaning that elements with
identical keys will stay ordered as they were before the
sort). See the <tt>&quot;sort&quot;</tt> pragma for
information.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The story in
more detail: suppose you want to serve yourself a little
slice of Pi.</p>

<pre style="margin-left:17%; margin-top: 1em">    @digits = ( 3,1,4,1,5,9 );</pre>


<p style="margin-left:17%; margin-top: 1em">A numerical
sort of the digits will yield (1,1,3,4,5,9), as expected.
Which <tt>1</tt> comes first is hard to know, since one
<tt>1</tt> looks pretty much like any other. You can regard
this as totally trivial, or somewhat profound. However, if
you just want to sort the even digits ahead of the odd ones,
then what will</p>

<pre style="margin-left:17%; margin-top: 1em">    sort { ($a % 2) &lt;=&gt; ($b % 2) } @digits;</pre>


<p style="margin-left:17%; margin-top: 1em">yield? The only
even digit, <tt>4</tt>, will come first. But how about the
odd numbers, which all compare equal? With the quicksort
algorithm used to implement Perl 5.6 and earlier, the order
of ties is left up to the sort. So, as you add more and more
digits of Pi, the order in which the sorted even and odd
digits appear will change. and, for sufficiently large
slices of Pi, the quicksort algorithm in Perl 5.8
won&rsquo;t return the same results even if reinvoked with
the same input. The justification for this rests with
quicksort&rsquo;s worst case behavior. If you run</p>

<pre style="margin-left:17%; margin-top: 1em">   sort { $a &lt;=&gt; $b } ( 1 .. $N , 1 .. $N );</pre>


<p style="margin-left:17%; margin-top: 1em">(something you
might approximate if you wanted to merge two sorted arrays
using sort), doubling <tt>$N</tt> doesn&rsquo;t just double
the quicksort time, it <i>quadruples</i> it. Quicksort has a
worst case run time that can grow like N**2, so-called
<i>quadratic</i> behaviour, and it can happen on patterns
that may well arise in normal use. You won&rsquo;t notice
this for small arrays, but you <i>will</i> notice it with
larger arrays, and you may not live long enough for the sort
to complete on arrays of a million elements. So the 5.8
quicksort scrambles large arrays before sorting them, as a
statistical defence against quadratic behaviour. But that
means if you sort the same large array twice, ties may be
broken in different ways.</p>

<p style="margin-left:17%; margin-top: 1em">Because of the
unpredictability of tie-breaking order, and the quadratic
worst-case behaviour, quicksort was <i>almost</i> replaced
completely with a stable mergesort. <i>Stable</i> means that
ties are broken to preserve the original order of appearance
in the input array. So</p>

<pre style="margin-left:17%; margin-top: 1em">    sort { ($a % 2) &lt;=&gt; ($b % 2) } (3,1,4,1,5,9);</pre>


<p style="margin-left:17%; margin-top: 1em">will yield
(4,3,1,1,5,9), guaranteed. The even and odd numbers appear
in the output in the same order they appeared in the input.
Mergesort has worst case O(N log N) behaviour, the best
value attainable. And, ironically, this mergesort does
particularly well where quicksort goes quadratic: mergesort
sorts (1..$N, 1..$N) in O(N) time. But quicksort was rescued
at the last moment because it is faster than mergesort on
certain inputs and platforms. For example, if you really
<i>don&rsquo;t</i> care about the order of even and odd
digits, quicksort will run in O(N) time; it&rsquo;s very
good at sorting many repetitions of a small number of
distinct elements. The quicksort divide and conquer strategy
works well on platforms with relatively small, very fast,
caches. Eventually, the problem gets whittled down to one
that fits in the cache, from which point it benefits from
the increased memory speed.</p>

<p style="margin-left:17%; margin-top: 1em">Quicksort was
rescued by implementing a sort pragma to control aspects of
the sort. The <b>stable</b> subpragma forces stable
behaviour, regardless of algorithm. The <b>_quicksort</b>
and <b>_mergesort</b> subpragmas are heavy-handed ways to
select the underlying implementation. The leading
<tt>&quot;_&quot;</tt> is a reminder that these subpragmas
may not survive beyond 5.8. More appropriate mechanisms for
selecting the implementation exist, but they wouldn&rsquo;t
have arrived in time to save quicksort.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Hashes now use Bob Jenkins
&quot;One-at-a-Time&quot; hashing key algorithm (
http://burtleburtle.net/bob/hash/doobs.html ). This
algorithm is reasonably fast while producing a much better
spread of values than the old hashing algorithm (originally
by Chris Torek, later tweaked by Ilya Zakharevich). Hash
values output from the algorithm on a hash of all
3&minus;char printable <small>ASCII</small> keys comes much
closer to passing the <small>DIEHARD</small> random number
generation tests. According to perlbench, this change has
not affected the overall speed of Perl.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>unshift()</i> should now be noticeably faster.</p></td></tr>
</table>

<h2>Installation and Configuration Improvements
<a name="Installation and Configuration Improvements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Generic
Improvements</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><small>INSTALL</small> now
explains how you can configure Perl to use 64&minus;bit
integers even on non&minus;64&minus;bit platforms.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Policy.sh policy change: if you are reusing a Policy.sh
file (see <small>INSTALL</small> ) and you use Configure
&minus;Dprefix=/foo/bar and in the old Policy
<tt>$prefix</tt> eq <tt>$siteprefix</tt> and
<tt>$prefix</tt> eq <tt>$vendorprefix</tt>, all of them will
now be changed to the new prefix, /foo/bar. (Previously only
<tt>$prefix</tt> changed.) If you do not like this new
behaviour, specify prefix, siteprefix, and vendorprefix
explicitly.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new optional location for Perl libraries,
otherlibdirs, is available. It can be used for example for
vendor add-ons without disturbing Perl&rsquo;s own library
directories.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In many platforms, the vendor-supplied &rsquo;cc&rsquo;
is too stripped-down to build Perl (basically,
&rsquo;cc&rsquo; doesn&rsquo;t do <small>ANSI</small> C). If
this seems to be the case and &rsquo;cc&rsquo; does not seem
to be the <small>GNU</small> C compiler &rsquo;gcc&rsquo;,
an automatic attempt is made to find and use
&rsquo;gcc&rsquo; instead.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>gcc needs to closely track the operating system release
to avoid build problems. If Configure finds that gcc was
built for a different operating system release than is
running, it now gives a clearly visible warning that there
may be trouble ahead.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Since Perl 5.8 is not binary-compatible with previous
releases of Perl, Configure no longer suggests including the
5.005 modules in <tt>@INC</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Configure <tt>&quot;&minus;S&quot;</tt> can now run
non-interactively. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Configure support for pdp11&minus;style memory models
has been removed due to obsolescence. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>configure.gnu now works with options with whitespace in
them.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>installperl now outputs everything to
<small>STDERR</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Because PerlIO is now the default on most platforms,
&quot;&minus;perlio&quot; doesn&rsquo;t get appended to the
<tt>$Config</tt>{archname} (also known as $^O) anymore.
Instead, if you explicitly choose not to use perlio
(Configure command line option &minus;Uuseperlio), you will
get &quot;&minus;stdio&quot; appended.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Another change related to the architecture name is that
&quot;&minus;64all&quot; (&minus;Duse64bitall, or
&quot;maximally 64&minus;bit&quot;) is appended only if your
pointers are 64 bits wide. (To be exact, the use64bitall is
ignored.)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In <small>AFS</small> installations, one can configure
the root of the <small>AFS</small> to be somewhere else than
the default <i>/afs</i> by using the Configure parameter
<tt>&quot;&minus;Dafsroot=/some/where/else&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>APPLLIB_EXP</small> , a lesser-known
configuration-time definition, has been documented. It can
be used to prepend site-specific directories to Perl&rsquo;s
default search path (@INC); see <small>INSTALL</small> for
information.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The version of Berkeley <small>DB</small> used when the
Perl (and, presumably, the DB_File extension) was built is
now available as <tt>@Config{qw(db_version_major
db_version_minor db_version_patch)}</tt> from Perl and as
<tt>&quot;DB_VERSION_MAJOR_CFG DB_VERSION_MINOR_CFG
DB_VERSION_PATCH_CFG&quot;</tt> from C.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Building Berkeley <small>DB3</small> for compatibility
modes for <small>DB</small> , <small>NDBM</small> , and
<small>ODBM</small> has been documented in
<small>INSTALL</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If you have <small>CPAN</small> access (either network
or a local copy such as a CD-ROM) you can during specify
extra modules to Configure to build and install with Perl
using the &minus;Dextras=... option. See
<small>INSTALL</small> for more details.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In addition to config.over, a new override file,
config.arch, is available. This file is supposed to be used
by hints file writers for architecture-wide changes (as
opposed to config.over which is for site-wide changes).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If your file system supports symbolic links, you can
build Perl outside of the source directory by</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        mkdir perl/build/directory
        cd perl/build/directory
        sh /path/to/perl/source/Configure &minus;Dmksymlinks ...</pre>


<p style="margin-left:17%; margin-top: 1em">This will
create in perl/build/directory a tree of symbolic links
pointing to files in /path/to/perl/source. The original
files are left unaffected. After Configure has finished, you
can just say</p>

<pre style="margin-left:17%; margin-top: 1em">        make all test</pre>


<p style="margin-left:17%; margin-top: 1em">and Perl will
be built and tested, all in perl/build/directory. [561]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">For Perl developers, several new
make targets for profiling and debugging have been added;
see perlhack.</p></td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em">Use of the <i>gprof</i> tool to
profile Perl has been documented in perlhack. There is a
make target called &quot;perl.gprof&quot; for generating a
gprofiled Perl executable.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>If you have <small>GCC</small> 3, there is a make target
called &quot;perl.gcov&quot; for creating a gcoved Perl
executable for coverage analysis. See perlhack.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>If you are on <small>IRIX</small> or Tru64 platforms,
new profiling/debugging options have been added; see
perlhack for more information about pixie and Third
Degree.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Guidelines of
how to construct minimal Perl installations have been added
to <small>INSTALL</small> .</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The Thread extension is now not
built at all under ithreads (<tt>&quot;Configure
&minus;Duseithreads&quot;</tt>) because it wouldn&rsquo;t
work anyway (the Thread extension requires being Configured
with <tt>&quot;&minus;Duse5005threads&quot;</tt>).</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>Note that
the 5.005 threads are unsupported and deprecated: if you
have code written for the old threads you should migrate it
to the new ithreads model.</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The Gconvert macro
($Config{d_Gconvert}) used by perl for stringifying
floating-point numbers is now more picky about using sprintf
%.*g rules for the conversion. Some platforms that used to
use gcvt may now resort to the slower sprintf.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The obsolete method of making a special (e.g.,
debugging) flavor of perl by saying</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        make LIBPERL=libperld.a</pre>


<p style="margin-left:17%; margin-top: 1em">has been
removed. Use &minus;DDEBUGGING instead.</p>

<p style="margin-left:11%; margin-top: 1em"><b>New Or
Improved Platforms</b> <br>
For the list of platforms known to support Perl, see
&quot;Supported Platforms&quot; in perlport.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><small>AIX</small> dynamic
loading should be now better supported.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>AIX</small> should now work better with gcc,
threads, and 64&minus;bitness. Also the long doubles support
in <small>AIX</small> should be better now. See perlaix.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>AtheOS ( http://www.atheos.cx/ ) is a new platform.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>BeOS has been reclaimed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <small>DG/UX</small> platform now supports
5.005&minus;style threads. See perldgux.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The DYNIX/ptx platform (also known as dynixptx) is
supported at or near osvers 4.5.2.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>EBCDIC</small> platforms (z/OS (also known as
<small>OS/390</small> ), POSIX-BC, and <small>VM/ESA</small>
) have been regained. Many test suite tests still fail and
the co-existence of Unicode and <small>EBCDIC</small>
isn&rsquo;t quite settled, but the situation is much better
than with Perl 5.6. See perlos390, perlbs2000 (for
POSIX-BC), and perlvmesa for more information.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Building perl with &minus;Duseithreads or
&minus;Duse5005threads now works under HP-UX 10.20
(previously it only worked under 10.30 or later). You will
need a thread library package installed. See
<small>README</small> .hpux. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Mac <small>OS</small> Classic is now supported in the
mainstream source package (MacPerl has of course been
available since perl 5.004 but now the source code bases of
standard Perl and MacPerl have been synchronised) [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Mac <small>OS</small> X (or Darwin) should now be able
to build Perl even on <small>HFS+</small> filesystems. (The
case-insensitivity used to confuse the Perl build
process.)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>NCR</small> MP-RAS is now supported. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>All the NetBSD specific patches (except for the
installation specific ones) have been merged back to the
main distribution.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>NetWare from Novell is now supported. See
perlnetware.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>NonStop-UX is now supported. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>NEC</small> SUPER-UX is now supported.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>All the OpenBSD specific patches (except for the
installation specific ones) have been merged back to the
main distribution.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Perl has been tested with the <small>GNU</small> pth
userlevel thread package (
http://www.gnu.org/software/pth/pth.html ). All thread tests
of Perl now work, but not without adding some
<i>yield()</i>s to the tests, so while pth (and other
userlevel thread implementations) can be considered to be
&quot;working&quot; with Perl ithreads, keep in mind the
possible non-preemptability of the underlying thread
implementation.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stratus <small>VOS</small> is now supported using
Perl&rsquo;s native build method (Configure). This is the
recommended method to build Perl on <small>VOS</small> . The
older methods, which build miniperl, are still available.
See perlvos. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The Amdahl <small>UTS</small> Unix mainframe platform is
now supported. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>WinCE is now supported. See perlce.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>z/OS (formerly known as <small>OS/390</small> , formerly
known as <small>MVS OE</small> ) now has support for dynamic
loading. This is not selected by default, however, you must
specify &minus;Dusedl in the arguments of Configure.
[561]</p> </td></tr>
</table>

<h2>Selected Bug Fixes
<a name="Selected Bug Fixes"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Numerous memory
leaks and uninitialized memory accesses have been hunted
down. Most importantly, anonymous subs used to leak quite a
bit. [561]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The autouse pragma didn&rsquo;t
work for Multi::Part::Function::Names.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>caller()</i> could cause core dumps in certain
situations. Carp was sometimes affected by this problem. In
particular, <i>caller()</i> now returns a subroutine name of
<tt>&quot;(unknown)&quot;</tt> for subroutines that have
been removed from the symbol table.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>chop(@list) in list context returned the characters
chopped in reverse order. This has been reversed to be in
the right order. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Configure no longer includes the <small>DBM</small>
libraries (dbm, gdbm, db, ndbm) when building the Perl
binary. The only exception to this is SunOS 4.x, which needs
them. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The behaviour of non-decimal but numeric string
constants such as &quot;0x23&quot; was platform-dependent:
in some platforms that was seen as 35, in some as 0, in some
as a floating point number (don&rsquo;t ask). This was
caused by Perl&rsquo;s using the operating system libraries
in a situation where the result of the string to number
conversion is undefined: now Perl consistently handles such
strings as zero in numeric contexts.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Several debugger fixes: exit code now reflects the
script exit code, condition <tt>&quot;0&quot;</tt> now
treated correctly, the <tt>&quot;d&quot;</tt> command now
checks line number, <tt>$.</tt> no longer gets corrupted,
and all debugger output now goes correctly to the socket if
RemotePort is set. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The debugger (perl5db.pl) has been modified to present a
more consistent commands interface, via (CommandSet=580).
perl5db.t was also added to test the changes, and as a
placeholder for further tests.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See
perldebug.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The debugger has a new
<tt>&quot;dumpDepth&quot;</tt> option to control the maximum
depth to which nested structures are dumped. The
<tt>&quot;x&quot;</tt> command has been extended so that
<tt>&quot;x N EXPR&quot;</tt> dumps out the value of
<i><small>EXPR</small></i> to a depth of at most <i>N</i>
levels.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The debugger can now show lexical variables if you have
the <small>CPAN</small> module PadWalker installed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The order of DESTROYs has been made more
predictable.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Perl 5.6.0 could emit spurious warnings about
redefinition of <i>dl_error()</i> when statically building
extensions into perl. This has been corrected. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>dprofpp &minus;R didn&rsquo;t work.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>*foo{FORMAT}</tt> now works.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Infinity is now recognized as a number.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>UNIVERSAL::isa no longer caches methods incorrectly.
(This broke the Tk extension with 5.6.0.) [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lexicals I: lexicals outside an eval &quot;&quot;
weren&rsquo;t resolved correctly inside a subroutine
definition inside the eval &quot;&quot; if they were not
already referenced in the top level of the
eval&quot;&quot;ed code.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lexicals <small>II:</small> lexicals leaked at file
scope into subroutines that were declared before the
lexicals.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lexical warnings now propagating correctly between
scopes and into <tt>&quot;eval
&quot;...&quot;&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;use warnings qw(FATAL all)&quot;</tt> did not
work as intended. This has been corrected. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>warnings::enabled()</i> now reports the state of $^W
correctly if the caller isn&rsquo;t using lexical warnings.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Line renumbering with eval and
<tt>&quot;#line&quot;</tt> now works. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Fixed numerous memory leaks, especially in eval
&quot;&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Localised tied variables no longer leak memory</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use Tie::Hash;
    tie my %tied_hash =&gt; 'Tie::StdHash';
    ...
    # Used to leak memory every time local() was called;
    # in a loop, this added up.
    local($tied_hash{Foo}) = 1;</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Localised hash elements (and
<tt>%ENV</tt>) are correctly unlocalised to not exist, if
they didn&rsquo;t before they were localised.</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    use Tie::Hash;
    tie my %tied_hash =&gt; 'Tie::StdHash';
    ...
    # Nothing has set the FOO element so far
    { local $tied_hash{FOO} = 'Bar' }
    # This used to print, but not now.
    print &quot;exists!\n&quot; if exists $tied_hash{FOO};</pre>


<p style="margin-left:17%; margin-top: 1em">As a side
effect of this fix, tied hash interfaces <b>must</b> define
the <small>EXISTS</small> and <small>DELETE</small>
methods.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><i>mkdir()</i> now ignores
trailing slashes in the directory name, as mandated by
<small>POSIX</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Some versions of glibc have a broken <i>modfl()</i>.
This affects builds with
<tt>&quot;&minus;Duselongdouble&quot;</tt>. This version of
Perl detects this brokenness and has a workaround for it.
The glibc release 2.2.2 is known to have fixed the
<i>modfl()</i> bug.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Modulus of unsigned numbers now works (4063328477 %
65535 used to return 27406, instead of 27047). [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Some &quot;not a number&quot; warnings introduced in
5.6.0 eliminated to be more compatible with 5.005. Infinity
is now recognised as a number. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Numeric conversions did not recognize changes in the
string value properly in certain circumstances. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Attributes (such as :shared) didn&rsquo;t work with
<i>our()</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>our()</i> variables will not cause bogus
&quot;Variable will not stay shared&quot; warnings.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;our&quot; variables of the same name declared in
two sibling blocks resulted in bogus warnings about
&quot;redeclaration&quot; of the variables. The problem has
been corrected. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>pack &quot;Z&quot; now correctly terminates the string
with &quot;\0&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Fix password routines which in some shadow password
platforms (e.g. HP-UX) caused <i>getpwent()</i> to return
every other entry.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <small>PERL5OPT</small> environment variable (for
passing command line arguments to Perl) didn&rsquo;t work
for more than a single group of options. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>PERL5OPT</small> with embedded spaces
didn&rsquo;t work.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>printf()</i> no longer resets the numeric locale to
&quot;C&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;qw(a\\b)&quot;</tt> now parses correctly as
<tt>'a\\b'</tt>: that is, as three characters, not four.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>pos()</i> did not return the correct value within
s///ge in earlier versions. This is now handled correctly.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Printing quads (64&minus;bit integers) with
printf/sprintf now works without the q L ll prefixes
(assuming you are on a quad-capable platform).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Regular expressions on references and overloaded scalars
now work. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Right-hand side magic ( <small>GMAGIC</small> ) could in
many cases such as string concatenation be invoked too many
times.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>scalar()</i> now forces scalar context even when used
in void context.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>SOCKS</small> support is now much more
robust.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>sort()</i> arguments are now compiled in the right
wantarray context (they were accidentally using the context
of the <i>sort()</i> itself). The comparison block is now
run in scalar context, and the arguments to be sorted are
always provided list context. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Changed the <small>POSIX</small> character class
<tt>&quot;[[:space:]]&quot;</tt> to include the (very rarely
used) vertical tab character. Added a new POSIX-ish
character class <tt>&quot;[[:blank:]]&quot;</tt> which
stands for horizontal whitespace (currently, the space and
the tab).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The tainting behaviour of <i>sprintf()</i> has been
rationalized. It does not taint the result of floating point
formats anymore, making the behaviour consistent with that
of string interpolation. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Some cases of inconsistent taint propagation (such as
within hash values) have been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <small>RE</small> engine found in Perl 5.6.0
accidentally pessimised certain kinds of simple pattern
matches. These are now handled better. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Regular expression debug output (whether through
<tt>&quot;use re 'debug'&quot;</tt> or via
<tt>&quot;&minus;Dr&quot;</tt>) now looks better. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Multi-line matches like <tt>&quot;&quot;a\nxb\n&quot; =~
/(?!\A)x/m&quot;</tt> were flawed. The bug has been fixed.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use of $&amp; could trigger a core dump under some
situations. This is now avoided. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The regular expression captured submatches ($1,
<tt>$2</tt>, ...) are now more consistently unset if the
match fails, instead of leaving false data lying around in
them. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>readline()</i> on files opened in &quot;slurp&quot;
mode could return an extra &quot;&quot; (blank line) at the
end in certain situations. This has been corrected.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Autovivification of symbolic references of special
variables described in perlvar (as in
<tt>&quot;${$num}&quot;</tt>) was accidentally disabled.
This works again now. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Sys::Syslog ignored the <tt>&quot;LOG_AUTH&quot;</tt>
constant.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>$AUTOLOAD</tt>, <i>sort()</i>, <i>lock()</i>, and
spawning subprocesses in multiple threads simultaneously are
now thread-safe.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Tie::Array&rsquo;s <small>SPLICE</small> method was
broken.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Allow a read-only string on the left-hand side of a
non-modifying tr///.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If <tt>&quot;STDERR&quot;</tt> is tied, warnings caused
by <tt>&quot;warn&quot;</tt> and <tt>&quot;die&quot;</tt>
now correctly pass to it.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Several Unicode fixes.</p></td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em">BOMs (byte order marks) at the
beginning of Perl files (scripts, modules) should now be
transparently skipped. <small>UTF&minus;16</small> and
<small>UCS&minus;2</small> encoded Perl files should now be
read correctly.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>The character tables have been updated to Unicode
3.2.0.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Comparing with utf8 data does not magically upgrade
non&minus;utf8 data into utf8. (This was a problem for
example if you were mixing data from I/O and Unicode data:
your output might have got magically encoded as
<small>UTF&minus;8</small> .)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Generating illegal Unicode code points such as U+FFFE,
or the <small>UTF&minus;16</small> surrogates, now also
generates an optional warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><tt>&quot;IsAlnum&quot;</tt>,
<tt>&quot;IsAlpha&quot;</tt>, and
<tt>&quot;IsWord&quot;</tt> now match titlecase.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Concatenation with the <tt>&quot;.&quot;</tt> operator
or via variable interpolation, <tt>&quot;eq&quot;</tt>,
<tt>&quot;substr&quot;</tt>, <tt>&quot;reverse&quot;</tt>,
<tt>&quot;quotemeta&quot;</tt>, the <tt>&quot;x&quot;</tt>
operator, substitution with <tt>&quot;s///&quot;</tt>,
single-quoted <small>UTF&minus;8</small> , should now
work.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>The <tt>&quot;tr///&quot;</tt> operator now works. Note
that the <tt>&quot;tr///CU&quot;</tt> functionality has been
removed (but see pack(&rsquo;U0&rsquo;, ...)).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><tt>&quot;eval &quot;v200&quot;&quot;</tt> now
works.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Perl 5.6.0 parsed m/\x{ab}/ incorrectly, leading to
spurious warnings. This has been corrected. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Zero entries were missing from the Unicode classes such
as <tt>&quot;IsDigit&quot;</tt>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Large unsigned
numbers (those above 2**31) could sometimes lose their
unsignedness, causing bogus results in arithmetic
operations. [561]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The Perl parser has been stress
tested using both random input and Markov chain input and
the few found crashes and lockups have been fixed.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Platform
Specific Changes and Fixes</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="12%">


<p style="margin-top: 1em"><small>BSDI</small> 4.*</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Perl now works
on post&minus;4.0 BSD/OSes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="12%">


<p style="margin-top: 1em">All BSDs</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Setting
<tt>$0</tt> now works (as much as possible; see perlvar for
details).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">Cygwin</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Numerous
updates; currently synchronised with Cygwin 1.3.10.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Previously DYNIX/ptx had
problems in its Configure probe for non-blocking I/O.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>EPOC</small></p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em"><small>EPOC</small>
now better supported. See <small>README</small> .epoc.
[561]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">FreeBSD 3.*</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Perl now works
on post&minus;3.0 FreeBSDs.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">HP-UX</p></td>
<td width="75%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em"><small>README</small>
.hpux updated; <tt>&quot;Configure
&minus;Duse64bitall&quot;</tt> now works; now uses HP-UX
malloc instead of Perl malloc.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>IRIX</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Numerous
compilation flag and hint enhancements; accidental mixing of
32&minus;bit and 64&minus;bit libraries (a doomed attempt)
made much harder.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">Linux</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em">Long doubles should now work
(see <small>INSTALL</small> ). [561]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Linux previously had problems related to sockaddrlen
when using <i>accept()</i>, <i>recvfrom()</i> (in Perl:
<i>recv()</i>), <i>getpeername()</i>, and
<i>getsockname()</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Mac
<small>OS</small> Classic</p>

<p style="margin-left:17%; margin-top: 1em">Compilation of
the standard Perl distribution in Mac <small>OS</small>
Classic should now work if you have the Metrowerks
development environment and the missing Mac-specific toolkit
bits. Contact the macperl mailing list for details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">MPE/iX</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">MPE/iX update
after Perl 5.6.0. See <small>README</small> .mpeix.
[561]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">NetBSD/threads: try installing
the <small>GNU</small> pth (should be in the packages
collection, or http://www.gnu.org/software/pth/), and
Configure with &minus;Duseithreads.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>NetBSD/sparc</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Perl now works
on NetBSD/sparc.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em"><small>OS/2</small></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Now works with
usethreads (see <small>INSTALL</small> ). [561]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="11%">


<p style="margin-top: 1em">Solaris</p></td>
<td width="72%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">64&minus;bitness
using the Sun Workshop compiler now works.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">Stratus <small>VOS</small></p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The native
build method requires at least <small>VOS</small> Release
14.5.0 and <small>GNU</small> C <small>++</small> /GNU Tools
2.0.1 or later. The Perl pack function now maps overflowed
values to +infinity and underflowed values to
&minus;infinity.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Tru64 (aka Digital
<small>UNIX</small> , aka <small>DEC OSF/1</small> )</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The operating
system version letter now recorded in
<tt>$Config</tt>{osvers}. Allow compiling with gcc
(previously explicitly forbidden). Compiling with gcc still
not recommended because buggy code results, even with gcc
2.95.2.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">Unicos</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fixed various
alignment problems that lead into core dumps either during
build or later; no longer dies on math errors at runtime;
now using full quad integers (64 bits), previously was using
only 46 bit integers for speed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="5%">


<p style="margin-top: 1em"><small>VMS</small></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">See
&quot;Socket Extension Dynamic in <small>VMS</small> &quot;
and &quot;IEEE-format Floating Point Default on OpenVMS
Alpha&quot; for important changes not otherwise listed
here.</p>

<p style="margin-left:17%; margin-top: 1em"><i>chdir()</i>
now works better despite a <small>CRT</small> bug; now works
with <small>MULTIPLICITY</small> (see <small>INSTALL</small>
); now works with Perl&rsquo;s malloc.</p>

<p style="margin-left:17%; margin-top: 1em">The tainting of
<tt>%ENV</tt> elements via <tt>&quot;keys&quot;</tt> or
<tt>&quot;values&quot;</tt> was previously unimplemented. It
now works as documented.</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>&quot;waitpid&quot;</tt> emulation has been improved.
The worst bug (now fixed) was that a pid of &minus;1 would
cause a wildcard search of all processes on the system.</p>

<p style="margin-left:17%; margin-top: 1em">POSIX-style
signals are now emulated much better on <small>VMS</small>
versions prior to 7.0.</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>&quot;system&quot;</tt> function and backticks operator
have improved functionality and better error handling.
[561]</p>

<p style="margin-left:17%; margin-top: 1em">File access
tests now use current process privileges rather than the
user&rsquo;s default privileges, which could sometimes
result in a mismatch between reported access and actual
access. This improvement is only available on
<small>VMS</small> v6.0 and later.</p>

<p style="margin-left:17%; margin-top: 1em">There is a new
<tt>&quot;kill&quot;</tt> implementation based on
<tt>&quot;sys$sigprc&quot;</tt> that allows older
<small>VMS</small> systems (pre&minus;7.0) to use
<tt>&quot;kill&quot;</tt> to send signals rather than simply
force exit. This implementation also allows later systems to
call <tt>&quot;kill&quot;</tt> from within a signal
handler.</p>

<p style="margin-left:17%; margin-top: 1em">Iterative
logical name translations are now limited to 10 iterations
in imitation of <small>SHOW LOGICAL</small> and other
OpenVMS facilities.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="11%">


<p style="margin-top: 1em">Windows</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%"></td>
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em">Signal handling now works better
than it used to. It is now implemented using a Windows
message loop, and is therefore less prone to random
crashes.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><i>fork()</i> emulation is now more robust, but still
continues to have a few esoteric bugs and caveats. See
perlfork for details. [561+]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>A failed (pseudo)fork now returns undef and sets errno
to <small>EAGAIN</small> . [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>The following modules now work on Windows:</p></td></tr>
</table>

<pre style="margin-left:29%; margin-top: 1em">    ExtUtils::Embed         [561]
    IO::Pipe
    IO::Poll
    Net::Ping</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em"><i>IO::File::new_tmpfile()</i>
is no longer limited to 32767 invocations per-process.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Better <i>chdir()</i> return value for a non-existent
directory.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Compiling perl using the 64&minus;bit Platform
<small>SDK</small> tools is now supported.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>The <i>Win32::SetChildShowWindow()</i> builtin can be
used to control the visibility of windows created by child
processes. See Win32 for details.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Non-blocking waits for child processes (or
pseudo-processes) are supported via <tt>&quot;waitpid($pid,
&amp;POSIX::WNOHANG)&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>The behavior of <i>system()</i> with multiple arguments
has been rationalized. Each unquoted argument will be
automatically quoted to protect whitespace, and any existing
whitespace in the arguments will be preserved. This improves
the portability of system(@args) by avoiding the need for
Windows <tt>&quot;cmd&quot;</tt> shell specific quoting in
perl programs.</p></td></tr>
</table>

<p style="margin-left:29%; margin-top: 1em">Note that this
means that some scripts that may have relied on earlier
buggy behavior may no longer work correctly. For example,
<tt>&quot;system(&quot;nmake /nologo&quot;,
@args)&quot;</tt> will now attempt to run the file
<tt>&quot;nmake /nologo&quot;</tt> and will fail when such a
file isn&rsquo;t found. On the other hand, perl will now
execute code such as <tt>&quot;system(&quot;c:/Program
Files/MyApp/foo.exe&quot;, @args)&quot;</tt> correctly.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p style="margin-top: 1em">The perl header files no longer
suppress common warnings from the Microsoft Visual C
<small>++</small> compiler. This means that additional
warnings may now show up when compiling <small>XS</small>
code.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Borland C <small>++</small> v5.5 is now a supported
compiler that can build Perl. However, the generated
binaries continue to be incompatible with those generated by
the other supported compilers ( <small>GCC</small> and
Visual C <small>++</small> ). [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Duping socket handles with open(F,
&quot;&gt;&amp;MYSOCK&quot;) now works under Windows 9x.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Current directory entries in <tt>%ENV</tt> are now
correctly propagated to child processes. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>New <tt>%ENV</tt> entries now propagate to subprocesses.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><i>Win32::GetCwd()</i> correctly returns C:\ instead of
C: when at the drive root. Other bugs in <i>chdir()</i> and
<i>Cwd::cwd()</i> have also been fixed. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>The makefiles now default to the features enabled in
ActiveState ActivePerl (a popular Win32 binary
distribution). [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><small>HTML</small> files will now be installed in
c:\perl\html instead of c:\perl\lib\pod\html</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><small>REG_EXPAND_SZ</small> keys are now allowed in
registry settings used by perl. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Can now <i>send()</i> from all threads, not just the
first one. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>ExtUtils::MakeMaker now uses <tt>$ENV</tt>{
<small>LIB</small> } to search for libraries. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Less stack reserved per thread so that more threads can
run concurrently. (Still 16M per thread.) [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><tt>&quot;File::Spec&minus;&gt;tmpdir()&quot;</tt> now
prefers C:/temp over /tmp (works better when perl is running
as service).</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>Better <small>UNC</small> path handling under ithreads.
[561]</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p><i>wait()</i>, <i>waitpid()</i>, and backticks now
return the correct exit status under Windows 9x. [561]</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="11%"></td>
<td width="71%">


<p>A socket handle leak in <i>accept()</i> has been fixed.
[561]</p> </td></tr>
</table>

<h2>New or Changed Diagnostics
<a name="New or Changed Diagnostics"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please see
perldiag for more details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Ambiguous range in the
transliteration operator (like a&minus;z&minus;9) now gives
a warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>chdir(&quot;&quot;) and chdir(undef) now give a
deprecation warning because they cause a possible
unintentional chdir to the home directory. Say
<i>chdir()</i> if you really mean that.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Two new debugging options have been added: if you have
compiled your Perl with debugging, you can use the &minus;DT
[561] and &minus;DR options to trace tokenising and to add
reference counts to displaying variables, respectively.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The lexical warnings category &quot;deprecated&quot; is
no longer a sub-category of the &quot;syntax&quot; category.
It is now a top-level category in its own right.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Unadorned <i>dump()</i> will now give a warning
suggesting to use explicit <i>CORE::dump()</i> if
that&rsquo;s what really is meant.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;Unrecognized escape&quot; warning has been
extended to include <tt>&quot;\8&quot;</tt>,
<tt>&quot;\9&quot;</tt>, and <tt>&quot;\_&quot;</tt>. There
is no need to escape any of the <tt>&quot;\w&quot;</tt>
characters.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>All regular expression compilation error messages are
now hopefully easier to understand both because the error
message now comes before the failed regex and because the
point of failure is now clearly marked by a
<tt>&quot;&lt;&minus;&minus; HERE&quot;</tt> marker.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Various I/O (and socket) functions like
<i>binmode()</i>, <i>close()</i>, and so forth now more
consistently warn if they are used illogically either on a
yet unopened or on an already closed filehandle (or
socket).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using <i>lstat()</i> on a filehandle now gives a
warning. (It&rsquo;s a non-sensical thing to do.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <tt>&quot;&minus;M&quot;</tt> and
<tt>&quot;&minus;m&quot;</tt> options now warn if you
didn&rsquo;t supply the module name.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If you in <tt>&quot;use&quot;</tt> specify a required
minimum version, modules matching the name and but not
defining a <tt>$VERSION</tt> will cause a fatal failure.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using negative offset for <i>vec()</i> in lvalue context
is now a warnable offense.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Odd number of arguments to overload::constant now
elicits a warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Odd number of elements in anonymous hash now elicits a
warning.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The various &quot;opened only for&quot;, &quot;on
closed&quot;, &quot;never opened&quot; warnings drop the
<tt>&quot;main::&quot;</tt> prefix for filehandles in the
<tt>&quot;main&quot;</tt> package, for example
<tt>&quot;STDIN&quot;</tt> instead of
<tt>&quot;main::STDIN&quot;</tt>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Subroutine prototypes are now checked more carefully,
you may get warnings for example if you have used
non-prototype characters.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If an attempt to use a (non-blessed) reference as an
array index is made, a warning is given.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><tt>&quot;push @a;&quot;</tt> and <tt>&quot;unshift
@a;&quot;</tt> (with no values to push or unshift) now give
a warning. This may be a problem for generated and
eval&rsquo;ed code.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If you try to &quot;pack&quot; in perlfunc a number less
than 0 or larger than 255 using the <tt>&quot;C&quot;</tt>
format you will get an optional warning. Similarly for the
<tt>&quot;c&quot;</tt> format and a number less than
&minus;128 or more than 127.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>pack <tt>&quot;P&quot;</tt> format now demands an
explicit size.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>unpack <tt>&quot;w&quot;</tt> now warns of unterminated
compressed integers.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Warnings relating to the use of PerlIO have been
added.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Certain regex modifiers such as
<tt>&quot;(?o)&quot;</tt> make sense only if applied to the
entire regex. You will get an optional warning if you try to
do otherwise.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Variable length lookbehind has not yet been implemented,
trying to use it will tell that.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using arrays or hashes as references (e.g.
<tt>&quot;%foo&minus;&gt;{bar}&quot;</tt> has been
deprecated for a while. Now you will get an optional
warning.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Warnings relating to the use of the new restricted
hashes feature have been added.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Self-ties of arrays and hashes are not supported and
fatal errors will happen even at an attempt to do so.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using <tt>&quot;sort&quot;</tt> in scalar context now
issues an optional warning. This didn&rsquo;t do anything
useful, as the sort was not performed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using the /g modifier in <i>split()</i> is meaningless
and will cause a warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using <i>splice()</i> past the end of an array now
causes a warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Malformed Unicode encodings ( <small>UTF&minus;8</small>
and <small>UTF&minus;16</small> ) cause a lot of warnings,
as does trying to use <small>UTF&minus;16</small> surrogates
(which are unimplemented).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Trying to use Unicode characters on an I/O stream
without marking the stream&rsquo;s encoding (using
<i>open()</i> or <i>binmode()</i>) will cause &quot;Wide
character&quot; warnings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use of v&minus;strings in use/require causes a
(backward) portability warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Warnings relating to the use interpreter threads and
their shared data have been added.</p></td></tr>
</table>

<h2>Changed Internals
<a name="Changed Internals"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">PerlIO is now the default.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>perlapi.pod (a companion to perlguts) now attempts to
document the internal <small>API</small> .</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>You can now build a really minimal perl called
microperl. Building microperl does not require even running
Configure; <tt>&quot;make &minus;f Makefile.micro&quot;</tt>
should be enough. Beware: microperl makes many assumptions,
some of which may be too bold; the resulting executable may
crash or otherwise misbehave in wondrous ways. For careful
hackers only.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Added <i>rsignal()</i>, <i>whichsig()</i>,
<i>do_join()</i>, op_clear, op_null,
<i>ptr_table_clear()</i>, <i>ptr_table_free()</i>,
<i>sv_setref_uv()</i>, and several
<small>UTF&minus;8</small> interfaces to the publicised
<small>API</small> . For the full list of the available APIs
see perlapi.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Made possible to propagate customised exceptions via
<i>croak()</i>ing.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Now xsubs can have attributes just like subs. (Well, at
least the built-in attributes.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>dTHR and djSP have been obsoleted; the former removed
(because it&rsquo;s a no-op) and the latter replaced with
dSP.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>PERL_OBJECT</small> has been completely
removed.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <small>MAGIC</small> constants (e.g. <tt>'P'</tt>)
have been macrofied (e.g.
<tt>&quot;PERL_MAGIC_TIED&quot;</tt>) for better source code
readability and maintainability.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The regex compiler now maintains a structure that
identifies nodes in the compiled bytecode with the
corresponding syntactic features of the original regex
expression. The information is attached to the new
<tt>&quot;offsets&quot;</tt> member of the <tt>&quot;struct
regexp&quot;</tt>. See perldebguts for more complete
information.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The C code has been made much more <tt>&quot;gcc
&minus;Wall&quot;</tt> clean. Some warning messages still
remain in some platforms, so if you are compiling with gcc
you may see some warnings about dubious practices. The
warnings are being worked on.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>perly.c</i>, <i>sv.c</i>, and <i>sv.h</i> have now
been extensively commented.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Documentation on how to use the Perl source repository
has been added to <i>Porting/repository.pod</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>There are now several profiling make targets.</p></td></tr>
</table>

<h2>Security Vulnerability Closed [561]
<a name="Security Vulnerability Closed [561]"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">(This change
was already made in 5.7.0 but bears repeating here.) (5.7.0
came out before 5.6.1: the development branch 5.7 released
earlier than the maintenance branch 5.6)</p>

<p style="margin-left:11%; margin-top: 1em">A potential
security vulnerability in the optional suidperl component of
Perl was identified in August 2000. suidperl is neither
built nor installed by default. As of November 2001 the only
known vulnerable platform is Linux, most likely all Linux
distributions. <small>CERT</small> and various vendors and
distributors have been alerted about the vulnerability. See
http://www.cpan.org/src/5.0/sperl&minus;2000&minus;08&minus;05/sperl&minus;2000&minus;08&minus;05.txt
for more information.</p>

<p style="margin-left:11%; margin-top: 1em">The problem was
caused by Perl trying to report a suspected security exploit
attempt using an external program, /bin/mail. On Linux
platforms the /bin/mail program had an undocumented feature
which when combined with suidperl gave access to a root
shell, resulting in a serious compromise instead of
reporting the exploit attempt. If you don&rsquo;t have
/bin/mail, or if you have &rsquo;safe setuid scripts&rsquo;,
or if suidperl is not installed, you are safe.</p>

<p style="margin-left:11%; margin-top: 1em">The exploit
attempt reporting feature has been completely removed from
Perl 5.8.0 (and the maintenance release 5.6.1, and it was
removed also from all the Perl 5.7 releases), so that
particular vulnerability isn&rsquo;t there anymore. However,
further security vulnerabilities are, unfortunately, always
possible. The suidperl functionality is most probably going
to be removed in Perl 5.10. In any case, suidperl should
only be used by security experts who know exactly what they
are doing and why they are using suidperl instead of some
other solution such as sudo ( see
http://www.courtesan.com/sudo/ ).</p>

<h2>New Tests
<a name="New Tests"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Several new
tests have been added, especially for the <i>lib</i> and
<i>ext</i> subsections. There are now about 69 000
individual tests (spread over about 700 test scripts), in
the regression suite (5.6.1 has about 11 700 tests, in 258
test scripts) The exact numbers depend on the platform and
Perl configuration used. Many of the new tests are of course
introduced by the new modules, but still in general Perl is
now more thoroughly tested.</p>

<p style="margin-left:11%; margin-top: 1em">Because of the
large number of tests, running the regression suite will
take considerably longer time than it used to: expect the
suite to take up to 4&minus;5 times longer to run than in
perl 5.6. On a really fast machine you can hope to finish
the suite in about 6&minus;8 minutes (wallclock time).</p>

<p style="margin-left:11%; margin-top: 1em">The tests are
now reported in a different order than in earlier Perls.
(This happens because the test scripts from under t/lib have
been moved to be closer to the library/extension they are
testing.)</p>

<h2>Known Problems
<a name="Known Problems"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>The Compiler
Suite Is Still Very Experimental</b> <br>
The compiler suite is slowly getting better but it continues
to be highly experimental. Use in production environments is
discouraged.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Localising
Tied Arrays and Hashes Is Broken</b></p>
<pre style="margin-left:11%;">    local %tied_array;</pre>

<p style="margin-left:11%; margin-top: 1em">doesn&rsquo;t
work as one would expect: the old value is restored
incorrectly. This will be changed in a future release, but
we don&rsquo;t know yet what the new semantics will exactly
be. In any case, the change will break existing code that
relies on the current (ill-defined) semantics, so just avoid
doing this in general.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Building
Extensions Can Fail Because Of Largefiles</b> <br>
Some extensions like mod_perl are known to have issues with
&lsquo;largefiles&rsquo;, a change brought by Perl 5.6.0 in
which file offsets default to 64 bits wide, where supported.
Modules may fail to compile at all, or they may compile and
work incorrectly. Currently, there is no good solution for
the problem, but Configure now provides appropriate
non-largefile ccflags, ldflags, libswanted, and libs in the
<tt>%Config</tt> hash (e.g.,
<tt>$Config</tt>{ccflags_nolargefiles}) so the extensions
that are having problems can try configuring themselves
without the largefileness. This is admittedly not a clean
solution, and the solution may not even work at all. One
potential failure is whether one can (or, if one can,
whether it&rsquo;s a good idea to) link together at all
binaries with different ideas about file offsets; all this
is platform-dependent.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Modifying $_
Inside for(..)</b></p>
<pre style="margin-left:11%;">   for (1..5) { $_++ }</pre>

<p style="margin-left:11%; margin-top: 1em">works without
complaint. It shouldn&rsquo;t. (You should be able to modify
only lvalue elements inside the loops.) You can see the
correct behaviour by replacing the 1..5 with 1, 2, 3, 4,
5.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mod_perl
1.26 Doesn&rsquo;t Build With Threaded Perl</b> <br>
Use mod_perl 1.27 or higher.</p>


<p style="margin-left:11%; margin-top: 1em"><b>lib/ftmp&minus;security
tests warn &rsquo;system possibly insecure&rsquo;</b> <br>
Don&rsquo;t panic. Read the &rsquo;make test&rsquo; section
of <small>INSTALL</small> instead.</p>

<p style="margin-left:11%; margin-top: 1em"><b>libwww-perl
( <small>LWP</small> ) fails base/date #51</b> <br>
Use libwww-perl 5.65 or later.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>PDL</small>
failing some tests</b> <br>
Use <small>PDL</small> 2.3.4 or later.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Perl_get_sv</b>
<br>
You may get errors like &rsquo;Undefined symbol
&quot;Perl_get_sv&quot;&rsquo; or &quot;can&rsquo;t resolve
symbol &rsquo;Perl_get_sv&rsquo;&quot;, or the symbol may be
&quot;Perl_sv_2pv&quot;. This probably means that you are
trying to use an older shared Perl library (or extensions
linked with such) with Perl 5.8.0 executable. Perl used to
have such a subroutine, but that is no more the case. Check
your shared library path, and any shared Perl libraries in
those directories.</p>

<p style="margin-left:11%; margin-top: 1em">Sometimes this
problem may also indicate a partial Perl 5.8.0 installation,
see &quot;Mac <small>OS</small> X dyld undefined
symbols&quot; for an example and how to deal with it.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Self-tying
Problems</b> <br>
Self-tying of arrays and hashes is broken in rather deep and
hard-to-fix ways. As a stop-gap measure to avoid people from
getting frustrated at the mysterious results (core dumps,
most often), it is forbidden for now (you will get a fatal
error even from an attempt).</p>

<p style="margin-left:11%; margin-top: 1em">A change to
self-tying of globs has caused them to be recursively
referenced (see: &quot;Two-Phased Garbage Collection&quot;
in perlobj). You will now need an explicit untie to destroy
a self-tied glob. This behaviour may be fixed at a later
date.</p>

<p style="margin-left:11%; margin-top: 1em">Self-tying of
scalars and <small>IO</small> thingies works.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ext/threads/t/libc</b>
<br>
If this test fails, it indicates that your libc (C library)
is not threadsafe. This particular test stress tests the
<i>localtime()</i> call to find out whether it is
threadsafe. See perlthrtut for more information.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Failure of
Thread (5.005&minus;style) tests <br>
Note that support for 5.005&minus;style threading is
deprecated, experimental and practically unsupported. In
5.10, it is expected to be removed. You should migrate your
code to ithreads.</b></p>

<p style="margin-left:11%; margin-top: 1em">The following
tests are known to fail due to fundamental problems in the
5.005 threading implementation. These are not new
failures--Perl 5.005_0x has the same bugs, but didn&rsquo;t
have these tests.</p>

<pre style="margin-left:11%; margin-top: 1em"> ../ext/B/t/xref.t                    255 65280    14   12  85.71%  3&minus;14
 ../ext/List/Util/t/first.t           255 65280     7    4  57.14%  2 5&minus;7
 ../lib/English.t                       2   512    54    2   3.70%  2&minus;3
 ../lib/FileCache.t                                 5    1  20.00%  5
 ../lib/Filter/Simple/t/data.t                      6    3  50.00%  1&minus;3
 ../lib/Filter/Simple/t/filter_only.                9    3  33.33%  1&minus;2 5
 ../lib/Math/BigInt/t/bare_mbf.t                 1627    4   0.25%  8 11 1626&minus;1627
 ../lib/Math/BigInt/t/bigfltpm.t                 1629    4   0.25%  10 13 1628&minus;
                                                                    1629
 ../lib/Math/BigInt/t/sub_mbf.t                  1633    4   0.24%  8 11 1632&minus;1633
 ../lib/Math/BigInt/t/with_sub.t                 1628    4   0.25%  9 12 1627&minus;1628
 ../lib/Tie/File/t/31_autodefer.t     255 65280    65   32  49.23%  34&minus;65
 ../lib/autouse.t                                  10    1  10.00%  4
 op/flip.t                                         15    1   6.67%  15</pre>


<p style="margin-left:11%; margin-top: 1em">These failures
are unlikely to get fixed as 5.005&minus;style threads are
considered fundamentally broken. (Basically what happens is
that competing threads can corrupt shared global state, one
good example being regular expression engine&rsquo;s
state.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Timing
problems</b> <br>
The following tests may fail intermittently because of
timing problems, for example if the system is heavily
loaded.</p>

<pre style="margin-left:11%; margin-top: 1em">    t/op/alarm.t
    ext/Time/HiRes/HiRes.t
    lib/Benchmark.t
    lib/Memoize/t/expmod_t.t
    lib/Memoize/t/speed.t</pre>


<p style="margin-left:11%; margin-top: 1em">In case of
failure please try running them manually, for example</p>

<pre style="margin-left:11%; margin-top: 1em">    ./perl &minus;Ilib ext/Time/HiRes/HiRes.t</pre>



<p style="margin-left:11%; margin-top: 1em"><b>Tied/Magical
Array/Hash Elements Do Not Autovivify</b> <br>
For normal arrays <tt>&quot;$foo = \$bar[1]&quot;</tt> will
assign <tt>&quot;undef&quot;</tt> to <tt>$bar[1]</tt>
(assuming that it didn&rsquo;t exist before), but for
tied/magical arrays and hashes such autovivification does
not happen because there is currently no way to catch the
reference creation. The same problem affects slicing over
non-existent indices/keys of a tied/magical array/hash.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Unicode in
package/class and subroutine names does not work</b> <br>
One can have Unicode in identifier names, but not in
package/class or subroutine names. While some limited
functionality towards this does exist as of Perl 5.8.0, that
is more accidental than designed; use of Unicode for the
said purposes is unsupported.</p>

<p style="margin-left:11%; margin-top: 1em">One reason of
this unfinishedness is its (currently) inherent
unportability: since both package names and subroutine names
may need to be mapped to file and directory names, the
Unicode capability of the filesystem becomes important-- and
there unfortunately aren&rsquo;t portable answers.</p>

<h2>Platform Specific Problems
<a name="Platform Specific Problems"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><small>AIX</small></b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If using the <small>AIX</small>
native make command, instead of just &quot;make&quot; issue
&quot;make all&quot;. In some setups the former has been
known to spuriously also try to run &quot;make
install&quot;. Alternatively, you may want to use
<small>GNU</small> make.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In <small>AIX</small> 4.2, Perl extensions that use C
<small>++</small> functions that use statics may have
problems in that the statics are not getting initialized. In
newer <small>AIX</small> releases, this has been solved by
linking Perl with the libC_r library, but unfortunately in
<small>AIX</small> 4.2 the said library has an obscure bug
where the various functions related to time (such as
<i>time()</i> and <i>gettimeofday()</i>) return broken
values, and therefore in <small>AIX</small> 4.2 Perl is not
linked against libC_r.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>vac 5.0.0.0 May Produce Buggy Code For Perl</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The
<small>AIX</small> C compiler vac version 5.0.0.0 may
produce buggy code, resulting in a few random tests failing
when run as part of &quot;make test&quot;, but when the
failing tests are run by hand, they succeed. We suggest
upgrading to at least vac version 5.0.1.0, that has been
known to compile Perl correctly. &quot;lslpp &minus;L|grep
vac.C&quot; will tell you the vac version. See
<small>README</small> .aix.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If building threaded Perl, you
may get compilation warning from pp_sys.c:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">  &quot;pp_sys.c&quot;, line 4651.39: 1506&minus;280 (W) Function argument assignment between types &quot;unsigned char*&quot; and &quot;const void*&quot; is not allowed.</pre>


<p style="margin-left:17%; margin-top: 1em">This is
harmless; it is caused by the <i>getnetbyaddr()</i> and
<i>getnetbyaddr_r()</i> having slightly different types for
their first argument.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Alpha
systems with old gccs fail several tests</b> <br>
If you see op/pack, op/pat, op/regexp, or ext/Storable tests
failing in a Linux/alpha or *BSD/Alpha, it&rsquo;s probably
time to upgrade your gcc. gccs prior to 2.95.3 are
definitely not good enough, and gcc 3.1 may be even better.
(RedHat Linux/alpha with gcc 3.1 reported no problems, as
did Linux 2.4.18 with gcc 2.95.4.) (In Tru64, it is
preferable to use the bundled C compiler.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>AmigaOS</b>
<br>
Perl 5.8.0 doesn&rsquo;t build in AmigaOS. It broke at some
point during the ithreads work and we could not find Amiga
experts to unbreak the problems. Perl 5.6.1 still works for
AmigaOS (as does the 5.7.2 development release).</p>

<p style="margin-left:11%; margin-top: 1em"><b>BeOS</b>
<br>
The following tests fail on 5.8.0 Perl in BeOS Personal
5.03:</p>

<pre style="margin-left:11%; margin-top: 1em"> t/op/lfs............................FAILED at test 17
 t/op/magic..........................FAILED at test 24
 ext/Fcntl/t/syslfs..................FAILED at test 17
 ext/File/Glob/t/basic...............FAILED at test 3
 ext/POSIX/t/sigaction...............FAILED at test 13
 ext/POSIX/t/waitpid.................FAILED at test 1</pre>


<p style="margin-left:11%; margin-top: 1em">See perlbeos (
<small>README</small> .beos) for more details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Cygwin
&quot;unable to remap&quot;</b> <br>
For example when building the Tk extension for Cygwin, you
may get an error message saying &quot;unable to remap&quot;.
This is known problem with Cygwin, and a workaround is
detailed in here:
http://sources.redhat.com/ml/cygwin/2001&minus;12/msg00894.html</p>

<p style="margin-left:11%; margin-top: 1em"><b>Cygwin ndbm
tests fail on <small>FAT</small></b> <br>
One can build but not install (or test the build of) the
NDBM_File on <small>FAT</small> filesystems. Installation
(or build) on <small>NTFS</small> works fine. If one
attempts the test on a <small>FAT</small> install (or build)
the following failures are expected:</p>

<pre style="margin-left:11%; margin-top: 1em"> ../ext/NDBM_File/ndbm.t       13  3328    71   59  83.10%  1&minus;2 4 16&minus;71
 ../ext/ODBM_File/odbm.t      255 65280    ??   ??       %  ??
 ../lib/AnyDBM_File.t           2   512    12    2  16.67%  1 4
 ../lib/Memoize/t/errors.t      0   139    11    5  45.45%  7&minus;11
 ../lib/Memoize/t/tie_ndbm.t   13  3328     4    4 100.00%  1&minus;4
 run/fresh_perl.t                          97    1   1.03%  91</pre>


<p style="margin-left:11%; margin-top: 1em">NDBM_File fails
and ODBM_File just coredumps.</p>

<p style="margin-left:11%; margin-top: 1em">If you intend
to run only on <small>FAT</small> (or if using AnyDBM_File
on <small>FAT</small> ), run Configure with the
&minus;Ui_ndbm and &minus;Ui_dbm options to prevent
NDBM_File and ODBM_File being built.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>DJGPP</small>
Failures</b></p>

<pre style="margin-left:11%;"> t/op/stat............................FAILED at test 29
 lib/File/Find/t/find.................FAILED at test 1
 lib/File/Find/t/taint................FAILED at test 1
 lib/h2xs.............................FAILED at test 15
 lib/Pod/t/eol........................FAILED at test 1
 lib/Test/Harness/t/strap&minus;analyze.....FAILED at test 8
 lib/Test/Harness/t/test&minus;harness......FAILED at test 23
 lib/Test/Simple/t/exit...............FAILED at test 1</pre>


<p style="margin-left:11%; margin-top: 1em">The above
failures are known as of 5.8.0 with native builds with long
filenames, but there are a few more if running under dosemu
because of limitations (and maybe bugs) of dosemu:</p>

<pre style="margin-left:11%; margin-top: 1em"> t/comp/cpp...........................FAILED at test 3
 t/op/inccode.........................(crash)</pre>


<p style="margin-left:11%; margin-top: 1em">and a few
lib/ExtUtils tests, and several hundred Encode/t/Aliases.t
failures that work fine with long filenames. So you really
might prefer native builds and long filenames.</p>

<p style="margin-left:11%; margin-top: 1em"><b>FreeBSD
built with ithreads coredumps reading large directories</b>
<br>
This is a known bug in FreeBSD 4.5&rsquo;s
<i>readdir_r()</i>, it has been fixed in FreeBSD 4.6 (see
perlfreebsd ( <small>README</small> .freebsd)).</p>

<p style="margin-left:11%; margin-top: 1em"><b>FreeBSD
Failing locale Test 117 For <small>ISO</small> 8859&minus;15
Locales</b> <br>
The <small>ISO</small> 8859&minus;15 locales may fail the
locale test 117 in FreeBSD. This is caused by the characters
\xFF (y with diaeresis) and \xBE (Y with diaeresis) not
behaving correctly when being matched case-insensitively.
Apparently this problem has been fixed in the latest FreeBSD
releases. (
http://www.freebsd.org/cgi/query&minus;pr.cgi?pr=34308 )</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>IRIX</small>
fails ext/List/Util/t/shuffle.t or Digest::MD5</b>
<small><br>
IRIX</small> with MIPSpro 7.3.1.2m or 7.3.1.3m compiler may
fail the List::Util test ext/List/Util/t/shuffle.t by
dumping core. This seems to be a compiler error since if
compiled with gcc no core dump ensues, and no failures have
been seen on the said test on any other platform.</p>

<p style="margin-left:11%; margin-top: 1em">Similarly,
building the Digest::MD5 extension has been known to fail
with &quot;*** Termination code 139 (bu21)&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The cure is to
drop optimization level (Configure
&minus;Doptimize=&minus;O2).</p>

<p style="margin-left:11%; margin-top: 1em"><b>HP-UX
lib/posix Subtest 9 Fails When LP64&minus;Configured</b>
<br>
If perl is configured with &minus;Duse64bitall, the
successful result of the subtest 10 of lib/posix may arrive
before the successful result of the subtest 9, which
confuses the test harness so much that it thinks the subtest
9 failed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Linux with
glibc 2.2.5 fails t/op/int subtest #6 with
&minus;Duse64bitint</b> <br>
This is a known bug in the glibc 2.2.5 with long long
integers. (
http://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=65612
)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Linux With
Sfio Fails op/misc Test 48</b> <br>
No known fix.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Mac
<small>OS</small> X</b> <br>
Please remember to set your environment variable
<small>LC_ALL</small> to &quot;C&quot; (setenv
<small>LC_ALL</small> C) before running &quot;make
test&quot; to avoid a lot of warnings about the broken
locales of Mac <small>OS</small> X.</p>

<p style="margin-left:11%; margin-top: 1em">The following
tests are known to fail in Mac <small>OS</small> X 10.1.5
because of buggy (old) implementations of Berkeley
<small>DB</small> included in Mac <small>OS</small> X:</p>

<pre style="margin-left:11%; margin-top: 1em"> Failed Test                 Stat Wstat Total Fail  Failed  List of Failed
 &minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
 ../ext/DB_File/t/db&minus;btree.t    0    11    ??   ??       %  ??
 ../ext/DB_File/t/db&minus;recno.t              149    3   2.01%  61 63 65</pre>


<p style="margin-left:11%; margin-top: 1em">If you are
building on a <small>UFS</small> partition, you will also
probably see t/op/stat.t subtest #9 fail. This is caused by
Darwin&rsquo;s <small>UFS</small> not supporting inode
change time.</p>

<p style="margin-left:11%; margin-top: 1em">Also the
ext/POSIX/t/posix.t subtest #10 fails but it is skipped for
now because the failure is Apple&rsquo;s fault, not
Perl&rsquo;s (blocked signals are lost).</p>

<p style="margin-left:11%; margin-top: 1em">If you
Configure with ithreads, ext/threads/t/libc.t will fail.
Again, this is not Perl&rsquo;s fault-- the libc of Mac
<small>OS</small> X is not threadsafe (in this particular
test, the <i>localtime()</i> call is found to be
threadunsafe.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Mac
<small>OS</small> X dyld undefined symbols</b> <br>
If after installing Perl 5.8.0 you are getting warnings
about missing symbols, for example</p>

<pre style="margin-left:11%; margin-top: 1em">    dyld: perl Undefined symbols
    _perl_sv_2pv
    _perl_get_sv</pre>


<p style="margin-left:11%; margin-top: 1em">you probably
have an old pre&minus;Perl&minus;5.8.0 installation (or
parts of one) in /Library/Perl (the undefined symbols used
to exist in pre&minus;5.8.0 Perls). It seems that for some
reason &quot;make install&quot; doesn&rsquo;t always
completely overwrite the files in /Library/Perl. You can
move the old Perl shared library out of the way like
this:</p>

<pre style="margin-left:11%; margin-top: 1em">    cd /Library/Perl/darwin/CORE
    mv libperl.dylib libperlold.dylib</pre>


<p style="margin-left:11%; margin-top: 1em">and then
reissue &quot;make install&quot;. Note that the above of
course is extremely disruptive for anything using the
/usr/local/bin/perl. If that doesn&rsquo;t help, you may
have to try removing all the .bundle files from beneath
/Library/Perl, and again &quot;make
install&quot;&minus;ing.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>OS/2</small>
Test Failures</b> <br>
The following tests are known to fail on <small>OS/2</small>
(for clarity only the failures are shown, not the full error
messages):</p>

<pre style="margin-left:11%; margin-top: 1em"> ../lib/ExtUtils/t/Mkbootstrap.t    1   256    18    1   5.56%  8
 ../lib/ExtUtils/t/Packlist.t       1   256    34    1   2.94%  17
 ../lib/ExtUtils/t/basic.t          1   256    17    1   5.88%  14
 lib/os2_process.t                  2   512   227    2   0.88%  174 209
 lib/os2_process_kid.t                        227    2   0.88%  174 209
 lib/rx_cmprt.t                   255 65280    18    3  16.67%  16&minus;18</pre>


<p style="margin-left:11%; margin-top: 1em"><b>op/sprintf
tests 91, 129, and 130</b> <br>
The op/sprintf tests 91, 129, and 130 are known to fail on
some platforms. Examples include any platform using sfio,
and Compaq/Tandem&rsquo;s NonStop-UX.</p>

<p style="margin-left:11%; margin-top: 1em">Test 91 is
known to fail on <small>QNX6</small> (nto), because
<tt>&quot;sprintf '%e',0&quot;</tt> incorrectly produces
<tt>0.000000e+0</tt> instead of <tt>0.000000e+00</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">For tests 129
and 130, the failing platforms do not comply with the
<small>ANSI</small> C Standard: lines 19ff on page 134 of
<small>ANSI</small> X3.159 1989, to be exact. (They produce
something other than &quot;1&quot; and &quot;&minus;1&quot;
when formatting 0.6 and &minus;0.6 using the printf format
&quot;%.0f&quot;; most often, they produce &quot;0&quot; and
&quot;&minus;0&quot;.)</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>SCO</small></b>
<br>
The socketpair tests are known to be unhappy in
<small>SCO</small> 3.2v5.0.4:</p>

<pre style="margin-left:11%; margin-top: 1em"> ext/Socket/socketpair.t...............FAILED tests 15&minus;45</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Solaris
2.5</b> <br>
In case you are still using Solaris 2.5 (aka SunOS 5.5), you
may experience failures (the test core dumping) in
lib/locale.t. The suggested cure is to upgrade your
Solaris.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Solaris x86
Fails Tests With &minus;Duse64bitint</b> <br>
The following tests are known to fail in Solaris x86 with
Perl configured to use 64 bit integers:</p>

<pre style="margin-left:11%; margin-top: 1em"> ext/Data/Dumper/t/dumper.............FAILED at test 268
 ext/Devel/Peek/Peek..................FAILED at test 7</pre>


<p style="margin-left:11%; margin-top: 1em"><b>SUPER-UX (
<small>NEC SX</small> )</b> <br>
The following tests are known to fail on SUPER-UX:</p>

<pre style="margin-left:11%; margin-top: 1em"> op/64bitint...........................FAILED tests 29&minus;30, 32&minus;33, 35&minus;36
 op/arith..............................FAILED tests 128&minus;130
 op/pack...............................FAILED tests 25&minus;5625
 op/pow................................
 op/taint..............................# msgsnd failed
 ../ext/IO/lib/IO/t/io_poll............FAILED tests 3&minus;4
 ../ext/IPC/SysV/ipcsysv...............FAILED tests 2, 5&minus;6
 ../ext/IPC/SysV/t/msg.................FAILED tests 2, 4&minus;6
 ../ext/Socket/socketpair..............FAILED tests 12
 ../lib/IPC/SysV.......................FAILED tests 2, 5&minus;6
 ../lib/warnings.......................FAILED tests 115&minus;116, 118&minus;119</pre>


<p style="margin-left:11%; margin-top: 1em">The op/pack
failure (&quot;Cannot compress negative numbers at op/pack.t
line 126&quot;) is serious but as of yet unsolved. It points
at some problems with the signedness handling of the C
compiler, as do the 64bitint, arith, and pow failures. Most
of the rest point at problems with SysV <small>IPC</small>
.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Term::ReadKey
not working on Win32</b> <br>
Use Term::ReadKey 2.20 or later.</p>


<p style="margin-left:11%; margin-top: 1em"><b>UNICOS/mk</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">During Configure, the test</p></td>
<td width="43%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">    Guessing which symbols your C compiler and preprocessor define...</pre>


<p style="margin-left:17%; margin-top: 1em">will probably
fail with error messages like</p>

<pre style="margin-left:17%; margin-top: 1em">    CC&minus;20 cc: ERROR File = try.c, Line = 3
      The identifier &quot;bad&quot; is undefined.
      bad switch yylook 79bad switch yylook 79bad switch yylook 79bad switch yylook 79#ifdef A29K
      ^
    CC&minus;65 cc: ERROR File = try.c, Line = 3
      A semicolon is expected at this point.</pre>


<p style="margin-left:17%; margin-top: 1em">This is caused
by a bug in the awk utility of UNICOS/mk. You can ignore the
error, but it does cause a slight problem: you cannot fully
benefit from the h2ph utility (see h2ph) that can be used to
convert C headers to Perl libraries, mainly used to be able
to access from Perl the constants defined using C
preprocessor, cpp. Because of the above error, parts of the
converted headers will be invisible. Luckily, these days the
need for h2ph is rare.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If building Perl with
interpreter threads (ithreads), the <i>getgrent()</i>,
<i>getgrnam()</i>, and <i>getgrgid()</i> functions cannot
return the list of the group members due to a bug in the
multithreaded support of UNICOS/mk. What this means is that
in list context the functions will return only three values,
not four.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b><small>UTS</small></b>
<br>
There are a few known test failures, see perluts (
<small>README</small> .uts).</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>VOS</small>
(Stratus)</b> <br>
When Perl is built using the native build process on
<small>VOS</small> Release 14.5.0 and <small>GNU</small> C
<small>++</small> /GNU Tools 2.0.1, all attempted tests
either pass or result in <small>TODO</small> (ignored)
failures.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>VMS</small></b>
<br>
There should be no reported test failures with a default
configuration, though there are a number of tests marked
<small>TODO</small> that point to areas needing further
debugging and/or porting work.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Win32</b>
<br>
In multi-CPU boxes, there are some problems with the I/O
buffering: some output may appear twice.</p>

<p style="margin-left:11%; margin-top: 1em"><b>XML::Parser
not working</b> <br>
Use XML::Parser 2.31 or later.</p>

<p style="margin-left:11%; margin-top: 1em"><b>z/OS (
<small>OS/390</small> )</b> <br>
z/OS has rather many test failures but the situation is
actually much better than it was in 5.6.0; it&rsquo;s just
that so many new modules and tests have been added.</p>

<pre style="margin-left:11%; margin-top: 1em"> Failed Test                   Stat Wstat Total Fail  Failed  List of Failed
 &minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
 ../ext/Data/Dumper/t/dumper.t              357    8   2.24%  311 314 325 327
                                                              331 333 337 339
 ../ext/IO/lib/IO/t/io_unix.t                 5    4  80.00%  2&minus;5
 ../ext/Storable/t/downgrade.t   12  3072   169   12   7.10%  14&minus;15 46&minus;47 78&minus;79
                                                              110&minus;111 150 161
 ../lib/ExtUtils/t/Constant.t   121 30976    48   48 100.00%  1&minus;48
 ../lib/ExtUtils/t/Embed.t                    9    9 100.00%  1&minus;9
 op/pat.t                                   922    7   0.76%  665 776 785 832&minus;
                                                              834 845
 op/sprintf.t                               224    3   1.34%  98 100 136
 op/tr.t                                     97    5   5.15%  63 71&minus;74
 uni/fold.t                                 780    6   0.77%  61 169 196 661
                                                              710&minus;711</pre>


<p style="margin-left:11%; margin-top: 1em">The failures in
dumper.t and downgrade.t are problems in the tests, those in
io_unix and sprintf are problems in the <small>USS</small> (
<small>UDP</small> sockets and printf formats). The pat, tr,
and fold failures are genuine Perl problems caused by
<small>EBCDIC</small> (and in the pat and fold cases,
combining that with Unicode). The Constant and Embed are
probably problems in the tests (since they test Perl&rsquo;s
ability to build extensions, and that seems to be working
reasonably well.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Unicode
Support on <small>EBCDIC</small> Still Spotty</b> <br>
Though mostly working, Unicode support still has problem
spots on <small>EBCDIC</small> platforms. One such known
spot are the <tt>&quot;\p{}&quot;</tt> and
<tt>&quot;\P{}&quot;</tt> regular expression constructs for
code points less than 256: the <tt>&quot;pP&quot;</tt> are
testing for Unicode code points, not knowing about
<small>EBCDIC</small> .</p>

<p style="margin-left:11%; margin-top: 1em"><b>Seen In Perl
5.7 But Gone Now</b> <tt><br>
&quot;Time::Piece&quot;</tt> (previously known as
<tt>&quot;Time::Object&quot;</tt>) was removed because it
was felt that it didn&rsquo;t have enough value in it to be
a core module. It is still a useful module, though, and is
available from the <small>CPAN</small> .</p>

<p style="margin-left:11%; margin-top: 1em">Perl 5.8
unfortunately does not build anymore on AmigaOS; this broke
accidentally at some point. Since there are not that many
Amiga developers available, we could not get this fixed and
tested in time for 5.8.0. Perl 5.6.1 still works for AmigaOS
(as does the 5.7.2 development release).</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;PerlIO::Scalar&quot;</tt> and
<tt>&quot;PerlIO::Via&quot;</tt> (capitalised) were renamed
as <tt>&quot;PerlIO::scalar&quot;</tt> and
<tt>&quot;PerlIO::via&quot;</tt> (all lowercase) just before
5.8.0. The main rationale was to have all core PerlIO layers
to have all lowercase names. The &quot;plugins&quot; are
named as usual, for example
<tt>&quot;PerlIO::via::QuotedPrint&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<tt>&quot;threads::shared::queue&quot;</tt> and
<tt>&quot;threads::shared::semaphore&quot;</tt> were renamed
as <tt>&quot;Thread::Queue&quot;</tt> and
<tt>&quot;Thread::Semaphore&quot;</tt> just before 5.8.0.
The main rationale was to have thread modules to obey normal
naming, <tt>&quot;Thread::&quot;</tt> (the
<tt>&quot;threads&quot;</tt> and
<tt>&quot;threads::shared&quot;</tt> themselves are more
pragma-like, they affect compile-time, so they stay
lowercase).</p>

<h2>Reporting Bugs
<a name="Reporting Bugs"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you find
what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the
perl bug database at http://bugs.perl.org/ . There may also
be information at http://www.perl.com/ , the Perl Home
Page.</p>

<p style="margin-left:11%; margin-top: 1em">If you believe
you have an unreported bug, please run the <b>perlbug</b>
program included with your release. Be sure to trim your bug
down to a tiny but sufficient test case. Your bug report,
along with the output of <tt>&quot;perl &minus;V&quot;</tt>,
will be sent off to perlbug@perl.org to be analysed by the
Perl porting team.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>Changes</i> file for exhaustive details on what
changed.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>INSTALL</small></i> file for how to build
Perl.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>README</small></i> file for general stuff.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>Artistic</i> and <i>Copying</i> files for copyright
information.</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Jarkko Hietaniemi &lt;<i>jhi@iki.fi</i>&gt;.</p>
<hr>
</body>
</html>
