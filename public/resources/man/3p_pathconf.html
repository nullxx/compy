<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:15:57 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FPATHCONF</title>

</head>
<body>

<h1 align="center">FPATHCONF</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fpathconf,
pathconf &minus; get configurable pathname variables</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;unistd.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>long
fpathconf(int</b> <i>fildes</i><b>, int</b> <i>name</i><b>);
<br>
long pathconf(const char *</b><i>path</i><b>, int</b>
<i>name</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>fpathconf</i>() and <i>pathconf</i>() functions shall
determine the current value of a configurable limit or
option (<i>variable</i>) that is associated with a file or
directory.</p>

<p style="margin-left:11%; margin-top: 1em">For
<i>pathconf</i>(), the <i>path</i> argument points to the
pathname of a file or directory.</p>

<p style="margin-left:11%; margin-top: 1em">For
<i>fpathconf</i>(), the <i>fildes</i> argument is an open
file descriptor.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>name</i>
argument represents the variable to be queried relative to
that file or directory. Implementations shall support all of
the variables listed in the following table and may support
others. The variables in the following table come from
<i>&lt;limits.h&gt;</i> or <i>&lt;unistd.h&gt;</i> and the
symbolic constants, defined in <i>&lt;unistd.h&gt;</i>, are
the corresponding values used for <i>name</i>.</p>

<p style="margin-left:11%; margin-top: 1em">&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;</p>


<p style="margin-left:11%; margin-top: 1em"><b>Requirements</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> refers to a directory,
the value returned shall apply to the directory itself.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> does not refer to a
terminal file, it is unspecified whether an implementation
supports an association of the variable name with the
specified file.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>3.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> refers to a directory,
the value returned shall apply to filenames within the
directory.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>4.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> does not refer to a
directory, it is unspecified whether an implementation
supports an association of the variable name with the
specified file.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>5.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> refers to a directory,
the value returned shall be the maximum length of a relative
pathname when the specified directory is the working
directory.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>6.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> refers to a FIFO, or <i>fildes</i> refers
to a pipe or FIFO, the value returned shall apply to the
referenced object. If <i>path</i> or <i>fildes</i> refers to
a directory, the value returned shall apply to any FIFO that
exists or can be created within the directory. If
<i>path</i> or <i>fildes</i> refers to any other type of
file, it is unspecified whether an implementation supports
an association of the variable name with the specified
file.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>7.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> refers to a directory,
the value returned shall apply to any files, other than
directories, that exist or can be created within the
directory.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>8.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> refers to a directory,
it is unspecified whether an implementation supports an
association of the variable name with the specified
file.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>9.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If <i>path</i> or <i>fildes</i> refers to a directory,
the value returned shall be the maximum length of the string
that a symbolic link in that directory can contain.</p></td></tr>
</table>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If <i>name</i>
is an invalid value, both <i>pathconf</i>() and
<i>fpathconf</i>() shall return -1 and set <i>errno</i> to
indicate the error.</p>

<p style="margin-left:11%; margin-top: 1em">If the variable
corresponding to <i>name</i> has no limit for the
<i>path</i> or file descriptor, both <i>pathconf</i>() and
<i>fpathconf</i>() shall return -1 without changing
<i>errno</i>. If the implementation needs to use <i>path</i>
to determine the value of <i>name</i> and the implementation
does not support the association of <i>name</i> with the
file specified by <i>path</i>, or if the process did not
have appropriate privileges to query the file specified by
<i>path</i>, or <i>path</i> does not exist,
<i>pathconf</i>() shall return -1 and set <i>errno</i> to
indicate the error.</p>

<p style="margin-left:11%; margin-top: 1em">If the
implementation needs to use <i>fildes</i> to determine the
value of <i>name</i> and the implementation does not support
the association of <i>name</i> with the file specified by
<i>fildes</i>, or if <i>fildes</i> is an invalid file
descriptor, <i>fpathconf</i>() shall return -1 and set
<i>errno</i> to indicate the error.</p>

<p style="margin-left:11%; margin-top: 1em">Otherwise,
<i>pathconf</i>() or <i>fpathconf</i>() shall return the
current variable value for the file or directory without
changing <i>errno</i>. The value returned shall not be more
restrictive than the corresponding value available to the
application when it was compiled with the
implementation&rsquo;s <i>&lt;limits.h&gt;</i> or
<i>&lt;unistd.h&gt;</i>.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>pathconf</i>() function shall fail if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">The value of <i>name</i> is not
valid.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ELOOP</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>A loop exists in symbolic links encountered during
resolution of the <i>path</i> argument.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<i>pathconf</i>() function may fail if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EACCES</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Search permission is denied for
a component of the path prefix.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The implementation does not support an association of
the variable <i>name</i> with the specified file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ELOOP</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>More than {SYMLOOP_MAX} symbolic links were encountered
during resolution of the <i>path</i> argument.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>ENAMETOOLONG</b></p>

<p style="margin-left:22%;">The length of the <i>path</i>
argument exceeds {PATH_MAX} or a pathname component is
longer than {NAME_MAX}.</p>

<p style="margin-left:11%;"><b>ENAMETOOLONG</b></p>

<p style="margin-left:22%;">As a result of encountering a
symbolic link in resolution of the <i>path</i> argument, the
length of the substituted pathname string exceeded
{PATH_MAX}.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ENOENT</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>A component of <i>path</i> does not name an existing
file or <i>path</i> is an empty string.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>ENOTDIR</b></p>

<p style="margin-left:22%;">A component of the path prefix
is not a directory.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>fpathconf</i>() function shall fail if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="47%">


<p>The value of <i>name</i> is not valid.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<i>fpathconf</i>() function may fail if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EBADF</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">The <i>fildes</i> argument is
not a valid file descriptor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The implementation does not support an association of
the variable <i>name</i> with the specified file.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>pathconf</i>() function was proposed immediately after
the <i>sysconf</i>() function when it was realized that some
configurable values may differ across file system,
directory, or device boundaries.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
{NAME_MAX} frequently changes between System V and BSD-based
file systems; System V uses a maximum of 14, BSD 255. On an
implementation that provides both types of file systems, an
application would be forced to limit all pathname components
to 14 bytes, as this would be the value specified in
<i>&lt;limits.h&gt;</i> on such a system.</p>

<p style="margin-left:11%; margin-top: 1em">Therefore,
various useful values can be queried on any pathname or file
descriptor, assuming that the appropriate permissions are in
place.</p>

<p style="margin-left:11%; margin-top: 1em">The value
returned for the variable {PATH_MAX} indicates the longest
relative pathname that could be given if the specified
directory is the process&rsquo; current working directory. A
process may not always be able to generate a name that long
and use it if a subdirectory in the pathname crosses into a
more restrictive file system.</p>

<p style="margin-left:11%; margin-top: 1em">The value
returned for the variable _POSIX_CHOWN_RESTRICTED also
applies to directories that do not have file systems mounted
on them. The value may change when crossing a mount point,
so applications that need to know should check for each
directory. (An even easier check is to try the
<i>chown</i>() function and look for an error in case it
happens.)</p>

<p style="margin-left:11%; margin-top: 1em">Unlike the
values returned by <i>sysconf</i>(), the pathname-oriented
variables are potentially more volatile and are not
guaranteed to remain constant throughout the process&rsquo;
lifetime. For example, in between two calls to
<i>pathconf</i>(), the file system in question may have been
unmounted and remounted with different characteristics.</p>

<p style="margin-left:11%; margin-top: 1em">Also note that
most of the errors are optional. If one of the variables
always has the same value on an implementation, the
implementation need not look at <i>path</i> or <i>fildes</i>
to return that value and is, therefore, not required to
detect any of the errors except the meaning of [EINVAL] that
indicates that the value of <i>name</i> is not valid for
that variable.</p>

<p style="margin-left:11%; margin-top: 1em">If the value of
any of the limits is unspecified (logically infinite), they
will not be defined in <i>&lt;limits.h&gt;</i> and the
<i>pathconf</i>() and <i>fpathconf</i>() functions return -1
without changing <i>errno</i>. This can be distinguished
from the case of giving an unrecognized <i>name</i> argument
because <i>errno</i> is set to [EINVAL] in this case.</p>

<p style="margin-left:11%; margin-top: 1em">Since -1 is a
valid return value for the <i>pathconf</i>() and
<i>fpathconf</i>() functions, applications should set
<i>errno</i> to zero before calling them and check
<i>errno</i> only if the return value is -1.</p>

<p style="margin-left:11%; margin-top: 1em">For the case of
{SYMLINK_MAX}, since both <i>pathconf</i>() and
<i>open</i>() follow symbolic links, there is no way that
<i>path</i> or <i>fildes</i> could refer to a symbolic
link.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>confstr</i>(),
<i>sysconf</i>(), the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, <i>&lt;limits.h&gt;</i>,
<i>&lt;unistd.h&gt;</i>, the Shell and Utilities volume of
IEEE&nbsp;Std&nbsp;1003.1-2001</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
