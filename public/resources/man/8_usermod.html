<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:25:38 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>USERMOD</title>

</head>
<body>

<h1 align="center">USERMOD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#CAVEATS">CAVEATS</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usermod &minus;
modify a user account</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="35%">


<p style="margin-top: 1em"><b>usermod</b> [<i>options</i>]
<i>LOGIN</i></p> </td>
<td width="54%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>usermod</b> command modifies the system account files to
reflect the changes that are specified on the command
line.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The options
which apply to the <b>usermod</b> command are:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b>,
<b>&minus;&minus;append</b></p>

<p style="margin-left:17%;">Add the user to the
supplementary group(s). Use only with the <b>&minus;G</b>
option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b>,
<b>&minus;&minus;comment</b> <i>COMMENT</i></p>

<p style="margin-left:17%;">The new value of the user's
password file comment field. It is normally modified using
the <b>chfn</b>(1) utility.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b>,
<b>&minus;&minus;home</b> <i>HOME_DIR</i></p>

<p style="margin-left:17%;">The user's new login
directory.</p>

<p style="margin-left:17%; margin-top: 1em">If the
<b>&minus;m</b> option is given, the contents of the current
home directory will be moved to the new home directory,
which is created if it does not already exist. If the
current home directory does not exist the new home directory
will not be created.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;e</b>,
<b>&minus;&minus;expiredate</b> <i>EXPIRE_DATE</i></p>

<p style="margin-left:17%;">The date on which the user
account will be disabled. The date is specified in the
format <i>YYYY&minus;MM&minus;DD</i>.</p>

<p style="margin-left:17%; margin-top: 1em">An empty
<i>EXPIRE_DATE</i> argument will disable the expiration of
the account.</p>

<p style="margin-left:17%; margin-top: 1em">This option
requires a /etc/shadow file. A /etc/shadow entry will be
created if there were none.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f</b>,
<b>&minus;&minus;inactive</b> <i>INACTIVE</i></p>

<p style="margin-left:17%;">The number of days after a
password expires until the account is permanently
disabled.</p>

<p style="margin-left:17%; margin-top: 1em">A value of 0
disables the account as soon as the password has expired,
and a value of &minus;1 disables the feature.</p>

<p style="margin-left:17%; margin-top: 1em">This option
requires a /etc/shadow file. A /etc/shadow entry will be
created if there were none.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;g</b>,
<b>&minus;&minus;gid</b> <i>GROUP</i></p>

<p style="margin-left:17%;">The group name or number of the
user's new initial login group. The group must exist.</p>

<p style="margin-left:17%; margin-top: 1em">Any file from
the user's home directory owned by the previous primary
group of the user will be owned by this new group.</p>

<p style="margin-left:17%; margin-top: 1em">The group
ownership of files outside of the user's home directory must
be fixed manually.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;G</b>,
<b>&minus;&minus;groups</b>
<i>GROUP1</i>[<i>,GROUP2,...</i>[<i>,GROUPN</i>]]]</p>

<p style="margin-left:17%;">A list of supplementary groups
which the user is also a member of. Each group is separated
from the next by a comma, with no intervening whitespace.
The groups are subject to the same restrictions as the group
given with the <b>&minus;g</b> option.</p>

<p style="margin-left:17%; margin-top: 1em">If the user is
currently a member of a group which is not listed, the user
will be removed from the group. This behaviour can be
changed via the <b>&minus;a</b> option, which appends the
user to the current supplementary group list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;l</b>,
<b>&minus;&minus;login</b> <i>NEW_LOGIN</i></p>

<p style="margin-left:17%;">The name of the user will be
changed from <i>LOGIN</i> to <i>NEW_LOGIN</i>. Nothing else
is changed. In particular, the user's home directory or mail
spool should probably be renamed manually to reflect the new
login name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;L</b>,
<b>&minus;&minus;lock</b></p>

<p style="margin-left:17%;">Lock a user's password. This
puts a '!' in front of the encrypted password, effectively
disabling the password. You can't use this option with
<b>&minus;p</b> or <b>&minus;U</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Note: if you
wish to lock the account (not only access with a password),
you should also set the <i>EXPIRE_DATE</i> to <i>1</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;m</b>,
<b>&minus;&minus;move&minus;home</b></p>

<p style="margin-left:17%;">Move the content of the user's
home directory to the new location.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
only valid in combination with the <b>&minus;d</b> (or
<b>&minus;&minus;home</b>) option. If the current home
directory does not exist the new home directory will not be
created.</p>

<p style="margin-left:17%; margin-top: 1em"><b>usermod</b>
will try to adapt the ownership of the files and to copy the
modes, ACL and extended attributes, but manual changes might
be needed afterwards.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;o</b>,
<b>&minus;&minus;non&minus;unique</b></p>

<p style="margin-left:17%;">When used with the
<b>&minus;u</b> option, this option allows to change the
user ID to a non&minus;unique value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;p</b>,
<b>&minus;&minus;password</b> <i>PASSWORD</i></p>

<p style="margin-left:17%;">The encrypted password, as
returned by <b>crypt</b>(3).</p>

<p style="margin-left:17%; margin-top: 1em"><b>Note:</b>
This option is not recommended because the password (or
encrypted password) will be visible by users listing the
processes.</p>

<p style="margin-left:17%; margin-top: 1em">You should make
sure the password respects the system's password policy.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;R</b>,
<b>&minus;&minus;root</b> <i>CHROOT_DIR</i></p>

<p style="margin-left:17%;">Apply changes in the
<i>CHROOT_DIR</i> directory and use the configuration files
from the <i>CHROOT_DIR</i> directory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;s</b>,
<b>&minus;&minus;shell</b> <i>SHELL</i></p>

<p style="margin-left:17%;">The name of the user's new
login shell. Setting this field to blank causes the system
to select the default login shell.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;u</b>,
<b>&minus;&minus;uid</b> <i>UID</i></p>

<p style="margin-left:17%;">The new numerical value of the
user's ID.</p>

<p style="margin-left:17%; margin-top: 1em">This value must
be unique, unless the <b>&minus;o</b> option is used. The
value must be non&minus;negative.</p>

<p style="margin-left:17%; margin-top: 1em">The user's
mailbox, and any files which the user owns and which are
located in the user's home directory will have the file user
ID changed automatically.</p>

<p style="margin-left:17%; margin-top: 1em">The ownership
of files outside of the user's home directory must be fixed
manually.</p>

<p style="margin-left:17%; margin-top: 1em">No checks will
be performed with regard to the <b>UID_MIN</b>,
<b>UID_MAX</b>, <b>SYS_UID_MIN</b>, or <b>SYS_UID_MAX</b>
from /etc/login.defs.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;U</b>,
<b>&minus;&minus;unlock</b></p>

<p style="margin-left:17%;">Unlock a user's password. This
removes the '!' in front of the encrypted password. You
can't use this option with <b>&minus;p</b> or
<b>&minus;L</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Note: if you
wish to unlock the account (not only access with a
password), you should also set the <i>EXPIRE_DATE</i> (for
example to <i>99999</i>, or to the <b>EXPIRE</b> value from
/etc/default/useradd).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;Z</b>,
<b>&minus;&minus;selinux&minus;user</b> <i>SEUSER</i></p>

<p style="margin-left:17%;">The new SELinux user for the
user's login.</p>

<p style="margin-left:17%; margin-top: 1em">A blank
<i>SEUSER</i> will remove the SELinux user mapping for user
<i>LOGIN</i> (if any).</p>

<h2>CAVEATS
<a name="CAVEATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You must make
certain that the named user is not executing any processes
when this command is being executed if the user's numerical
user ID, the user's name, or the user's home directory is
being changed. <b>usermod</b> checks this on Linux, but only
check if the user is logged in according to utmp on other
architectures.</p>

<p style="margin-left:11%; margin-top: 1em">You must change
the owner of any <b>crontab</b> files or <b>at</b> jobs
manually.</p>

<p style="margin-left:11%; margin-top: 1em">You must make
any changes involving NIS on the NIS server.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
configuration variables in /etc/login.defs change the
behavior of this tool:</p>


<p style="margin-left:11%; margin-top: 1em"><b>MAIL_DIR</b>
(string)</p>

<p style="margin-left:17%;">The mail spool directory. This
is needed to manipulate the mailbox when its corresponding
user account is modified or deleted. If not specified, a
compile&minus;time default is used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>MAIL_FILE</b>
(string)</p>

<p style="margin-left:17%;">Defines the location of the
users mail spool files relatively to their home
directory.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>MAIL_DIR</b> and <b>MAIL_FILE</b> variables are used by
<b>useradd</b>, <b>usermod</b>, and <b>userdel</b> to
create, move, or delete the user's mail spool.</p>

<p style="margin-left:11%; margin-top: 1em">If
<b>MAIL_CHECK_ENAB</b> is set to <i>yes</i>, they are also
used to define the <b>MAIL</b> environment variable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>MAX_MEMBERS_PER_GROUP</b>
(number)</p>

<p style="margin-left:17%;">Maximum members per group
entry. When the maximum is reached, a new group entry (line)
is started in /etc/group (with the same name, same password,
and same GID).</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is 0, meaning that there are no limits in the number
of members in a group.</p>

<p style="margin-left:17%; margin-top: 1em">This feature
(split group) permits to limit the length of lines in the
group file. This is useful to make sure that lines for NIS
groups are not larger than 1024 characters.</p>

<p style="margin-left:17%; margin-top: 1em">If you need to
enforce such limit, you can use 25.</p>

<p style="margin-left:17%; margin-top: 1em">Note: split
groups may not be supported by all tools (even in the Shadow
toolsuite). You should not use this variable unless you
really need it.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">/etc/group</p>

<p style="margin-left:17%;">Group account information.</p>


<p style="margin-left:11%; margin-top: 1em">/etc/gshadow</p>

<p style="margin-left:17%;">Secure group account
information.</p>


<p style="margin-left:11%; margin-top: 1em">/etc/login.defs</p>

<p style="margin-left:17%;">Shadow password suite
configuration.</p>


<p style="margin-left:11%; margin-top: 1em">/etc/passwd</p>

<p style="margin-left:17%;">User account information.</p>


<p style="margin-left:11%; margin-top: 1em">/etc/shadow</p>

<p style="margin-left:17%;">Secure user account
information.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>chfn</b>(1),
<b>chsh</b>(1), <b>passwd</b>(1), <b>crypt</b>(3),
<b>gpasswd</b>(8), <b>groupadd</b>(8), <b>groupdel</b>(8),
<b>groupmod</b>(8), <b>login.defs</b>(5), <b>useradd</b>(8),
<b>userdel</b>(8).</p>
<hr>
</body>
</html>
