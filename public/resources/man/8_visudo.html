<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:25:39 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VISUDO(8) BSD System Manager&rsquo;s Manual
VISUDO(8)</p>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>visudo</b> &mdash; edit the
sudoers file</p>

<p style="margin-top: 1em"><b>SYNOPSIS</b></p>

<p style="margin-left:15%;"><b>visudo</b>
[<b>&minus;chqsV</b>]
[<b>&minus;f&nbsp;</b><i>sudoers</i>]</p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;"><b>visudo</b> edits the
<i>sudoers</i> file in a safe fashion, analogous to vipw(8).
<b>visudo</b> locks the <i>sudoers</i> file against multiple
simultaneous edits, provides basic sanity checks, and checks
for parse errors. If the <i>sudoers</i> file is currently
being edited you will receive a message to try again
later.</p>

<p style="margin-left:6%; margin-top: 1em">There is a
hard-coded list of one or more editors that <b>visudo</b>
will use set at compile-time that may be overridden via the
<i>editor sudoers</i> Default variable. This list defaults
to /usr/local/bin/vi. Normally, <b>visudo</b> does not honor
the VISUAL or EDITOR environment variables unless they
contain an editor in the aforementioned editors list.
However, if <b>visudo</b> is configured with the
--with-env-editor option or the <i>env_editor</i> Default
variable is set in <i>sudoers</i>, <b>visudo</b> will use
any the editor defines by VISUAL or EDITOR. Note that this
can be a security hole since it allows the user to execute
any program they wish simply by setting VISUAL or
EDITOR.</p>

<p style="margin-left:6%; margin-top: 1em"><b>visudo</b>
parses the <i>sudoers</i> file after the edit and will not
save the changes if there is a syntax error. Upon finding an
error, <b>visudo</b> will print a message stating the line
number(s) where the error occurred and the user will receive
the &lsquo;&lsquo;What now?&rsquo;&rsquo; prompt. At this
point the user may enter &lsquo;e&rsquo; to re-edit the
<i>sudoers</i> file, &lsquo;x&rsquo; to exit without saving
the changes, or &lsquo;Q&rsquo; to quit and save changes.
The &lsquo;Q&rsquo; option should be used with extreme care
because if <b>visudo</b> believes there to be a parse error,
so will <b>sudo</b> and no one will be able to <b>sudo</b>
again until the error is fixed. If &lsquo;e&rsquo; is typed
to edit the <i>sudoers</i> file after a parse error has been
detected, the cursor will be placed on the line where the
error occurred (if the editor supports this feature).</p>

<p style="margin-left:6%; margin-top: 1em">The options are
as follows:</p>

<p style="margin-top: 1em"><b>&minus;c</b></p>

<p style="margin-left:22%; margin-top: 1em">Enable
<i>check-only</i> mode. The existing <i>sudoers</i> file
will be checked for syntax errors, owner and mode. A message
will be printed to the standard output describing the status
of <i>sudoers</i> unless the <b>&minus;q</b> option was
specified. If the check completes successfully,
<b>visudo</b> will exit with a value of 0. If an error is
encountered, <b>visudo</b> will exit with a value of 1.</p>

<p style="margin-top: 1em"><b>&minus;f</b>
<i>sudoers</i></p>

<p style="margin-left:22%; margin-top: 1em">Specify and
alternate <i>sudoers</i> file location. With this option
<b>visudo</b> will edit (or check) the <i>sudoers</i> file
of your choice, instead of the default, <i>/etc/sudoers</i>.
The lock file used is the specified <i>sudoers</i> file with
&lsquo;&lsquo;.tmp&rsquo;&rsquo; appended to it. In
<i>check-only</i> mode only, the argument to <b>&minus;f</b>
may be &lsquo;-&rsquo;, indicating that <i>sudoers</i> will
be read from the standard input.</p>

<p style="margin-top: 1em"><b>&minus;h</b></p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;h</b> (<i>help</i>) option causes <b>visudo</b> to
print a short help message to the standard output and
exit.</p>

<p style="margin-top: 1em"><b>&minus;q</b></p>

<p style="margin-left:22%; margin-top: 1em">Enable
<i>quiet</i> mode. In this mode details about syntax errors
are not printed. This option is only useful when combined
with the <b>&minus;c</b> option.</p>

<p style="margin-top: 1em"><b>&minus;s</b></p>

<p style="margin-left:22%; margin-top: 1em">Enable
<i>strict</i> checking of the <i>sudoers</i> file. If an
alias is used before it is defined, <b>visudo</b> will
consider this a parse error. Note that it is not possible to
differentiate between an alias and a host name or user name
that consists solely of uppercase letters, digits, and the
underscore (&lsquo;_&rsquo;) character.</p>

<p style="margin-top: 1em"><b>&minus;V</b></p>

<p style="margin-left:22%; margin-top: 1em">The
<b>&minus;V</b> (<i>version</i>) option causes <b>visudo</b>
to print its version number and exit.</p>

<p style="margin-top: 1em"><b>ENVIRONMENT</b></p>

<p style="margin-left:6%;">The following environment
variables may be consulted depending on the value of the
<i>editor</i> and <i>env_editor sudoers</i> settings:</p>

<p style="margin-top: 1em">VISUAL</p>

<p style="margin-left:28%; margin-top: 1em">Invoked by
<b>visudo</b> as the editor to use</p>

<p style="margin-top: 1em">EDITOR</p>

<p style="margin-left:28%; margin-top: 1em">Used by
<b>visudo</b> if VISUAL is not set</p>

<p style="margin-top: 1em"><b>FILES</b> <br>
/etc/sudoers</p>

<p style="margin-left:40%; margin-top: 1em">List of who can
run what</p>

<p style="margin-top: 1em">/etc/sudoers.tmp</p>

<p style="margin-left:40%; margin-top: 1em">Lock file for
visudo</p>

<p style="margin-top: 1em"><b>DIAGNOSTICS</b> <br>
sudoers file busy, try again later.</p>

<p style="margin-left:14%;">Someone else is currently
editing the <i>sudoers</i> file.</p>

<p style="margin-top: 1em">/etc/sudoers.tmp: Permission
denied</p>

<p style="margin-left:14%;">You didn&rsquo;t run
<b>visudo</b> as root.</p>

<p style="margin-top: 1em">Can&rsquo;t find you in the
passwd database</p>

<p style="margin-left:14%;">Your user ID does not appear in
the system passwd file.</p>

<p style="margin-top: 1em">Warning:
{User,Runas,Host,Cmnd}_Alias referenced but not defined</p>

<p style="margin-left:14%;">Either you are trying to use an
undeclared {User,Runas,Host,Cmnd}_Alias or you have a user
or host name listed that consists solely of uppercase
letters, digits, and the underscore (&lsquo;_&rsquo;)
character. In the latter case, you can ignore the warnings
(</p>

<p><b>sudo</b> will not complain ). In <b>&minus;s</b>
(strict) mode these are errors, not warnings.</p>

<p style="margin-top: 1em">Warning: unused
{User,Runas,Host,Cmnd}_Alias</p>

<p style="margin-left:14%;">The specified
{User,Runas,Host,Cmnd}_Alias was defined but never used. You
may wish to comment out or remove the unused alias. In
<b>&minus;s</b> (strict) mode this is an error, not a
warning.</p>

<p style="margin-top: 1em">Warning: cycle in
{User,Runas,Host,Cmnd}_Alias</p>

<p style="margin-left:14%;">The specified
{User,Runas,Host,Cmnd}_Alias includes a reference to itself,
either directly or through an alias it includes. This is
only a warning by default as <b>sudo</b> will ignore cycles
when parsing the <i>sudoers</i> file.</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">vi(1), sudoers(5), sudo(8),
vipw(8)</p>

<p style="margin-top: 1em"><b>AUTHORS</b></p>

<p style="margin-left:6%;">Many people have worked on
<b>sudo</b> over the years; this version consists of code
written primarily by:</p>

<p style="margin-left:14%; margin-top: 1em">Todd C.
Miller</p>

<p style="margin-left:6%; margin-top: 1em">See the
CONTRIBUTORS file in the <b>sudo</b> distribution
(http://www.sudo.ws/sudo/contributors.html) for an
exhaustive list of people who have contributed to
<b>sudo</b>.</p>

<p style="margin-top: 1em"><b>CAVEATS</b></p>

<p style="margin-left:6%;">There is no easy way to prevent
a user from gaining a root shell if the editor used by
<b>visudo</b> allows shell escapes.</p>

<p style="margin-top: 1em"><b>BUGS</b></p>

<p style="margin-left:6%;">If you feel you have found a bug
in <b>visudo</b>, please submit a bug report at
http://www.sudo.ws/sudo/bugs/</p>

<p style="margin-top: 1em"><b>SUPPORT</b></p>

<p style="margin-left:6%;">Limited free support is
available via the sudo-users mailing list, see
http://www.sudo.ws/mailman/listinfo/sudo-users to subscribe
or search the archives.</p>

<p style="margin-top: 1em"><b>DISCLAIMER</b></p>

<p style="margin-left:6%;"><b>visudo</b> is provided
&lsquo;&lsquo;AS IS&rsquo;&rsquo; and any express or implied
warranties, including, but not limited to, the implied
warranties of merchantability and fitness for a particular
purpose are disclaimed. See the LICENSE file distributed
with <b>sudo</b> or http://www.sudo.ws/sudo/license.html for
complete details.</p>

<p style="margin-left:6%; margin-top: 1em">Sudo 1.8.6p7
July&nbsp;12, 2012 Sudo 1.8.6p7</p>
<hr>
</body>
</html>
