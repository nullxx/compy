<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Thu Aug 18 15:16:46 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>STRFMON</title>

</head>
<body>

<h1 align="center">STRFMON</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">strfmon &minus;
convert monetary value to a string</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;monetary.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ssize_t
strfmon(char *restrict</b> <i>s</i><b>, size_t</b>
<i>maxsize</i><b>, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
const char *restrict</b> <i>format</i><b>, ...);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>strfmon</i>() function shall place characters into the
array pointed to by <i>s</i> as controlled by the string
pointed to by <i>format</i>. No more than <i>maxsize</i>
bytes are placed into the array.</p>

<p style="margin-left:11%; margin-top: 1em">The format is a
character string, beginning and ending in its initial state,
if any, that contains two types of objects: <i>plain
characters</i>, which are simply copied to the output
stream, and <i>conversion specifications</i>, each of which
shall result in the fetching of zero or more arguments which
are converted and formatted. The results are undefined if
there are insufficient arguments for the format. If the
format is exhausted while arguments remain, the excess
arguments are simply ignored.</p>

<p style="margin-left:11%; margin-top: 1em">The application
shall ensure that a conversion specification consists of the
following sequence:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>A <b>&rsquo;%&rsquo;</b> character</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Optional flags</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Optional field width</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Optional left precision</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>Optional right precision</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="1%"></td>
<td width="85%">


<p>A required conversion specifier character that
determines the conversion to be performed</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Flags</b>
<br>
One or more of the following optional flags can be specified
to control the conversion:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>=</b><i>f</i></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">An <b>&rsquo;=&rsquo;</b>
followed by a single character <i>f</i> which is used as the
numeric fill character. In order to work with precision or
width counts, the fill character shall be a single byte
character; if not, the behavior is undefined. The default
numeric fill character is the &lt;space&gt;. This flag does
not affect field width filling which always uses the
&lt;space&gt;. This flag is ignored unless a left precision
(see below) is specified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>^</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Do not format the currency amount with grouping
characters. The default is to insert the grouping characters
if defined for the current locale.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>+&nbsp;</b>or&nbsp;<b>(</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Specify the style of representing positive and negative
currency amounts. Only one of <b>&rsquo;+&rsquo;</b> or
<b>&rsquo;(&rsquo;</b> may be specified. If
<b>&rsquo;+&rsquo;</b> is specified, the locale&rsquo;s
equivalent of <b>&rsquo;+&rsquo;</b> and
<b>&rsquo;-&rsquo;</b> are used (for example, in the U.S.,
the empty string if positive and <b>&rsquo;-&rsquo;</b> if
negative). If <b>&rsquo;(&rsquo;</b> is specified, negative
amounts are enclosed within parentheses. If neither flag is
specified, the <b>&rsquo;+&rsquo;</b> style is used.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>!</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Suppress the currency symbol from the output
conversion.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Specify the alignment. If this flag is present the
result of the conversion is left-justified (padded to the
right) rather than right-justified. This flag shall be
ignored unless a field width (see below) is specified.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Field
Width</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><i>w</i></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">A decimal digit string <i>w</i>
specifying a minimum field width in bytes in which the
result of the conversion is right-justified (or
left-justified if the flag <b>&rsquo;-&rsquo;</b> is
specified). The default is 0.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Left
Precision</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>#</b><i>n</i></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">A <b>&rsquo;#&rsquo;</b>
followed by a decimal digit string <i>n</i> specifying a
maximum number of digits expected to be formatted to the
left of the radix character. This option can be used to keep
the formatted output from multiple calls to the
<i>strfmon</i>() function aligned in the same columns. It
can also be used to fill unused positions with a special
character as in <b>&quot;$***123.45&quot;</b> . This option
causes an amount to be formatted as if it has the number of
digits specified by <i>n</i>. If more than <i>n</i> digit
positions are required, this conversion specification is
ignored. Digit positions in excess of those actually
required are filled with the numeric fill character (see the
<b>=</b><i>f</i> flag above).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If grouping has
not been suppressed with the <b>&rsquo;^&rsquo;</b> flag,
and it is defined for the current locale, grouping
separators are inserted before the fill characters (if any)
are added. Grouping separators are not applied to fill
characters even if the fill character is a digit.</p>

<p style="margin-left:11%; margin-top: 1em">To ensure
alignment, any characters appearing before or after the
number in the formatted output such as currency or sign
symbols are padded as necessary with &lt;space&gt;s to make
their positive and negative formats an equal length.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Right
Precision</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>.</b><i>p</i></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">A period followed by a decimal
digit string <i>p</i> specifying the number of digits after
the radix character. If the value of the right precision
<i>p</i> is 0, no radix character appears. If a right
precision is not included, a default specified by the
current locale is used. The amount being formatted is
rounded to the specified number of digits prior to
formatting.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Conversion
Specifier Characters</b> <br>
The conversion specifier characters and their meanings
are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>i</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The <b>double</b> argument is
formatted according to the locale&rsquo;s international
currency format (for example, in the U.S.: USD 1,234.56). If
the argument is &plusmn;Inf or NaN, the result of the
conversion is unspecified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>The <b>double</b> argument is formatted according to the
locale&rsquo;s national currency format (for example, in the
U.S.: $1,234.56). If the argument is &plusmn;Inf or NaN, the
result of the conversion is unspecified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>%</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Convert to a <b>&rsquo;%&rsquo;</b> ; no argument is
converted. The entire conversion specification shall be
<b>%%</b> .</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Locale
Information</b> <br>
The <i>LC_MONETARY</i> category of the program&rsquo;s
locale affects the behavior of this function including the
monetary radix character (which may be different from the
numeric radix character affected by the <i>LC_NUMERIC</i>
category), the grouping separator, the currency symbols, and
formats. The international currency symbol should be
conformant with the ISO&nbsp;4217:1995 standard.</p>

<p style="margin-left:11%; margin-top: 1em">If the value of
<i>maxsize</i> is greater than {SSIZE_MAX}, the result is
implementation-defined.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the total
number of resulting bytes including the terminating null
byte is not more than <i>maxsize</i>, <i>strfmon</i>() shall
return the number of bytes placed into the array pointed to
by <i>s</i>, not including the terminating null byte.
Otherwise, -1 shall be returned, the contents of the array
are unspecified, and <i>errno</i> shall be set to indicate
the error.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>strfmon</i>() function shall fail if:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>E2BIG</b></p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">Conversion stopped due to lack
of space in the buffer.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Given a locale
for the U.S. and the values 123.45, -123.45, and 3456.781,
the following output might be produced. Square brackets (
<b>&quot;[]&quot;</b> ) are used in this example to delimit
the output.</p>

<p style="margin-left:22%; margin-top: 1em"><b>%n
[$123.45]</b> Default formatting <b><br>
[-$123.45] <br>
[$3,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%11n [
$123.45]</b> Right align within an 11-character field
<b><br>
[ -$123.45] <br>
[ $3,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%#5n [ $
123.45]</b> Aligned columns for values up to 99999 <b><br>
[-$ 123.45] <br>
[ $ 3,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%=*#5n [
$***123.45]</b> Specify a fill character <b><br>
[-$***123.45] <br>
[ $*3,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%=0#5n [
$000123.45]</b> Fill characters do not use grouping <b><br>
[-$000123.45]</b> even if the fill character is a digit
<b><br>
[ $03,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%^#5n [ $
123.45]</b> Disable the grouping separator <b><br>
[-$ 123.45] <br>
[ $ 3456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%^#5.0n [ $
123]</b> Round off to whole units <b><br>
[-$ 123] <br>
[ $ 3457]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%^#5.4n [ $
123.4500]</b> Increase the precision <b><br>
[-$ 123.4500] <br>
[ $ 3456.7810]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%(#5n [$
123.45]</b> Use an alternative pos/neg style <b><br>
[($ 123.45)] <br>
[$ 3,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%!(#5n [
123.45]</b> Disable the currency symbol <b><br>
[( 123.45)] <br>
[ 3,456.78]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%-14#5.4n [
$ 123.4500 ]</b> Left-justify the output <b><br>
[-$ 123.4500 ] <br>
[ $ 3,456.7810 ]</b></p>

<p style="margin-left:22%; margin-top: 1em"><b>%14#5.4n [ $
123.4500]</b> Corresponding right-justified output <b><br>
[ -$ 123.4500] <br>
[ $ 3,456.7810]</b></p>

<p style="margin-left:11%; margin-top: 1em">See also the
EXAMPLES section in <i>fprintf</i>().</p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Lowercase
conversion characters are reserved for future standards use
and uppercase for implementation-defined use.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>fprintf</i>(),
<i>localeconv</i>(), the Base Definitions volume of
IEEE&nbsp;Std&nbsp;1003.1-2001,
<i>&lt;monetary.h&gt;</i></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 6, Copyright (C)
2001-2003 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. In the event of any
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>
<hr>
</body>
</html>
